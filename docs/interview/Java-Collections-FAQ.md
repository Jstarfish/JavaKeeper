---
title: ã€Œç›´å‡»é¢è¯•ã€â€”â€” Java é›†åˆï¼Œä½ è‚¯å®šä¹Ÿä¼šè¢«é—®åˆ°è¿™äº›
date: 2021-05-31
tags: 
 - Java
 - Interview
categories: Interview

---

![](https://img.starfish.ink/common/faq-banner.png)

> æ–‡ç« æ”¶å½•åœ¨ GitBook [JavaKeeper](https://github.com/Jstarfish/JavaKeeper) ï¼ŒNçº¿äº’è”ç½‘å¼€å‘å¿…å¤‡æŠ€èƒ½å…µå™¨è°±
>
> ä½œä¸ºä¸€ä½å°èœ "ä¸€é¢é¢è¯•å®˜"ï¼Œé¢è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘è‚¯å®šä¼šé—® Java é›†åˆçš„å†…å®¹ï¼ŒåŒæ—¶ä½œä¸ºæ±‚èŒè€…ï¼Œä¹Ÿè‚¯å®šä¼šè¢«é—®åˆ°é›†åˆï¼Œæ‰€ä»¥æ•´ç†ä¸‹ Java é›†åˆé¢è¯•é¢˜
>
> Javaé›†åˆæ¡†æ¶æ˜¯Javaç¼–ç¨‹çš„æ ¸å¿ƒåŸºç¡€ï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­å‡ºç°é¢‘ç‡æœ€é«˜çš„æŠ€æœ¯ç‚¹ä¹‹ä¸€ã€‚ä»åŸºç¡€çš„Listã€Setã€Mapåˆ°é«˜çº§çš„å¹¶å‘é›†åˆï¼Œä»åº•å±‚æ•°æ®ç»“æ„åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œé›†åˆæ¡†æ¶æ¶µç›–äº†æ•°æ®ç»“æ„ã€ç®—æ³•å¤æ‚åº¦ã€çº¿ç¨‹å®‰å…¨ç­‰å¤šä¸ªç»´åº¦çš„çŸ¥è¯†ç‚¹ã€‚æŒæ¡é›†åˆæ¡†æ¶ï¼Œä¸ä»…æ˜¯Javaå¼€å‘çš„å¿…å¤‡æŠ€èƒ½ï¼Œæ›´æ˜¯è§£å†³å®é™…ä¸šåŠ¡é—®é¢˜çš„é‡è¦å·¥å…·ã€‚

é¢å‘å¯¹è±¡è¯­è¨€å¯¹äº‹ç‰©çš„ä½“ç°éƒ½æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼ï¼Œæ‰€ä»¥ä¸ºäº†æ–¹ä¾¿å¯¹å¤šä¸ªå¯¹è±¡çš„æ“ä½œï¼Œéœ€è¦å°†å¯¹è±¡è¿›è¡Œå­˜å‚¨ï¼Œé›†åˆå°±æ˜¯å­˜å‚¨å¯¹è±¡æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹å¼ï¼Œä¹Ÿå«å®¹å™¨ã€‚

![img](https://www.runoob.com/wp-content/uploads/2014/01/2243690-9cd9c896e0d512ed.gif)

ä»ä¸Šé¢çš„é›†åˆæ¡†æ¶å›¾å¯ä»¥çœ‹åˆ°ï¼ŒJava é›†åˆæ¡†æ¶ä¸»è¦åŒ…æ‹¬ä¸¤ç§ç±»å‹çš„å®¹å™¨

- ä¸€ç§æ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Œå­˜å‚¨ä¸€ä¸ªå…ƒç´ é›†åˆ
- å¦ä¸€ç§æ˜¯å›¾ï¼ˆMapï¼‰ï¼Œå­˜å‚¨é”®/å€¼å¯¹æ˜ å°„ã€‚

Collection æ¥å£åˆæœ‰ 3 ç§å­ç±»å‹ï¼ŒListã€Set å’Œ Queueï¼Œå†ä¸‹é¢æ˜¯ä¸€äº›æŠ½è±¡ç±»ï¼Œæœ€åæ˜¯å…·ä½“å®ç°ç±»ï¼Œå¸¸ç”¨çš„æœ‰ ArrayListã€LinkedListã€HashSetã€LinkedHashSetã€HashMapã€LinkedHashMap ç­‰ç­‰ã€‚

é›†åˆæ¡†æ¶æ˜¯ä¸€ä¸ªç”¨æ¥ä»£è¡¨å’Œæ“çºµé›†åˆçš„ç»Ÿä¸€æ¶æ„ã€‚æ‰€æœ‰çš„é›†åˆæ¡†æ¶éƒ½åŒ…å«å¦‚ä¸‹å†…å®¹ï¼š

- **æ¥å£**ï¼šæ˜¯ä»£è¡¨é›†åˆçš„æŠ½è±¡æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ Collectionã€Listã€Setã€Map ç­‰ã€‚ä¹‹æ‰€ä»¥å®šä¹‰å¤šä¸ªæ¥å£ï¼Œæ˜¯ä¸ºäº†ä»¥ä¸åŒçš„æ–¹å¼æ“ä½œé›†åˆå¯¹è±¡
- **å®ç°ï¼ˆç±»ï¼‰**ï¼šæ˜¯é›†åˆæ¥å£çš„å…·ä½“å®ç°ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œå®ƒä»¬æ˜¯å¯é‡å¤ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ï¼šArrayListã€LinkedListã€HashSetã€HashMapã€‚
- **ç®—æ³•**ï¼šæ˜¯å®ç°é›†åˆæ¥å£çš„å¯¹è±¡é‡Œçš„æ–¹æ³•æ‰§è¡Œçš„ä¸€äº›æœ‰ç”¨çš„è®¡ç®—ï¼Œä¾‹å¦‚ï¼šæœç´¢å’Œæ’åºã€‚è¿™äº›ç®—æ³•è¢«ç§°ä¸ºå¤šæ€ï¼Œé‚£æ˜¯å› ä¸ºç›¸åŒçš„æ–¹æ³•å¯ä»¥åœ¨ç›¸ä¼¼çš„æ¥å£ä¸Šæœ‰ç€ä¸åŒçš„å®ç°ã€‚

---

## ğŸ—ºï¸ çŸ¥è¯†å¯¼èˆª

### ğŸ·ï¸ æ ¸å¿ƒçŸ¥è¯†åˆ†ç±»

1. **ğŸ“š é›†åˆæ¡†æ¶æ¦‚è§ˆ**ï¼šCollection vs Mapã€é›†åˆç»§æ‰¿ä½“ç³»ã€Iteratoræ¨¡å¼ã€æ³›å‹ä½¿ç”¨
2. **ğŸ“‹ Listæ¥å£å®ç°**ï¼šArrayList vs LinkedListã€Vectorã€æ€§èƒ½å¯¹æ¯”ã€ä½¿ç”¨åœºæ™¯
3. **ğŸ”¢ Setæ¥å£å®ç°**ï¼šHashSet vs TreeSet vs LinkedHashSetã€å»é‡åŸç†ã€æ’åºæœºåˆ¶
4. **ğŸ—‚ï¸ Mapæ¥å£å®ç°**ï¼šHashMap vs TreeMap vs LinkedHashMapã€hashå†²çªå¤„ç†ã€çº¢é»‘æ ‘
5. **ğŸ”’ çº¿ç¨‹å®‰å…¨é›†åˆ**ï¼šConcurrentHashMapã€CopyOnWriteArrayListã€åŒæ­¥å®¹å™¨vså¹¶å‘å®¹å™¨
6. **âš¡ æ€§èƒ½ä¸ä¼˜åŒ–**ï¼šæ—¶é—´å¤æ‚åº¦åˆ†æã€ç©ºé—´å¤æ‚åº¦ã€æ‰©å®¹æœºåˆ¶ã€æœ€ä½³å®è·µ

---

## ğŸ“š ä¸€ã€é›†åˆæ¡†æ¶æ¦‚è§ˆ

### 1.1 å¸¸ç”¨é›†åˆä»‹ç»

**ğŸ¯ è¯´è¯´å¸¸ç”¨çš„é›†åˆæœ‰å“ªäº›å§ï¼Ÿ**

> Collection æœ‰ä»€ä¹ˆå­æ¥å£ã€æœ‰å“ªäº›å…·ä½“çš„å®ç°

Map æ¥å£å’Œ Collection æ¥å£æ˜¯æ‰€æœ‰é›†åˆæ¡†æ¶çš„çˆ¶æ¥å£ï¼š

1. **Collection æ¥å£çš„å­æ¥å£åŒ…æ‹¬**ï¼šSetã€Listã€Queue
2. **List** æ˜¯æœ‰åºçš„å…è®¸æœ‰é‡å¤å…ƒç´ çš„ Collectionï¼Œå®ç°ç±»ä¸»è¦æœ‰ï¼šArrayListã€LinkedListã€Stackä»¥åŠVectorç­‰
3. **Set** æ˜¯ä¸€ç§ä¸åŒ…å«é‡å¤å…ƒç´ ä¸”æ— åºçš„Collectionï¼Œå®ç°ç±»ä¸»è¦æœ‰ï¼šHashSetã€TreeSetã€LinkedHashSetç­‰
4. **Map** æ²¡æœ‰ç»§æ‰¿ Collection æ¥å£ï¼ŒMap æä¾› key åˆ° value çš„æ˜ å°„ã€‚å®ç°ç±»ä¸»è¦æœ‰ï¼šHashMapã€TreeMapã€Hashtableã€ConcurrentHashMap ä»¥åŠ Properties ç­‰

### 1.2 åŸºç¡€æ¦‚å¿µé¢˜

**ğŸ¯ è¯´è¯´Javaé›†åˆæ¡†æ¶çš„æ•´ä½“æ¶æ„ï¼Ÿ**

```
Javaé›†åˆæ¡†æ¶ä¸»è¦åˆ†ä¸ºä¸¤å¤§ä½“ç³»ï¼š
1. Collectionä½“ç³»ï¼š
   - Listï¼ˆæœ‰åºï¼Œå¯é‡å¤ï¼‰ï¼šArrayListã€LinkedListã€Vector
   - Setï¼ˆæ— åºï¼Œä¸é‡å¤ï¼‰ï¼šHashSetã€TreeSetã€LinkedHashSet
   - Queueï¼ˆé˜Ÿåˆ—ï¼‰ï¼šLinkedListã€PriorityQueueã€ArrayDeque

2. Mapä½“ç³»ï¼ˆé”®å€¼å¯¹ï¼‰ï¼š
   - HashMapã€TreeMapã€LinkedHashMapã€Hashtableã€ConcurrentHashMap

æ ¸å¿ƒæ¥å£å…³ç³»ï¼š
- Iterable -> Collection -> List/Set/Queue
- Mapç‹¬ç«‹ä½“ç³»
- æ‰€æœ‰é›†åˆéƒ½å®ç°äº†Iteratoræ¨¡å¼
```

**æ·±å…¥æ‰©å±•ï¼š**

- Collectionç»§æ‰¿äº†Iterableæ¥å£ï¼Œæ”¯æŒforeachè¯­æ³•
- Mapä¸ç»§æ‰¿Collectionï¼Œå› ä¸ºå®ƒå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹
- Collectionså·¥å…·ç±»æä¾›äº†å¤§é‡é™æ€æ–¹æ³•æ“ä½œé›†åˆ

**ğŸ¯ Collectionå’ŒCollectionsçš„åŒºåˆ«ï¼Ÿ**

```
Collectionï¼š
- æ˜¯ä¸€ä¸ªæ¥å£ï¼Œé›†åˆæ¡†æ¶çš„æ ¹æ¥å£
- å®šä¹‰äº†é›†åˆçš„åŸºæœ¬æ“ä½œæ–¹æ³•
- è¢«Listã€Setã€Queueç­‰æ¥å£ç»§æ‰¿

Collectionsï¼š
- æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œæä¾›é™æ€æ–¹æ³•
- åŒ…å«æ’åºã€æœç´¢ã€åŒæ­¥ç­‰æ“ä½œ
- å¦‚sort()ã€binarySearch()ã€synchronizedList()ç­‰
```

**ğŸ¯ Hashå†²çªåŠè§£å†³åŠæ³•ï¼Ÿ**

è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ³•ä¸€èˆ¬æœ‰ï¼šå¼€æ”¾å®šå€æ³•ã€é“¾åœ°å€æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰ã€å†å“ˆå¸Œæ³•ã€å»ºç«‹å…¬å…±æº¢å‡ºåŒºç­‰æ–¹æ³•ã€‚

- **å¼€æ”¾å®šå€æ³•**ï¼šä»å‘ç”Ÿå†²çªçš„é‚£ä¸ªå•å…ƒèµ·ï¼ŒæŒ‰ç…§ä¸€å®šçš„æ¬¡åºï¼Œä»å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°ä¸€ä¸ªç©ºé—²çš„å•å…ƒã€‚ç„¶åæŠŠå‘ç”Ÿå†²çªçš„å…ƒç´ å­˜å…¥åˆ°è¯¥å•å…ƒçš„ä¸€ç§æ–¹æ³•ã€‚å¼€æ”¾å®šå€æ³•éœ€è¦çš„è¡¨é•¿åº¦è¦å¤§äºç­‰äºæ‰€éœ€è¦å­˜æ”¾çš„å…ƒç´ ã€‚

- **é“¾æ¥åœ°å€æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰**ï¼šæ˜¯å°†å“ˆå¸Œå€¼ç›¸åŒçš„å…ƒç´ æ„æˆä¸€ä¸ªåŒä¹‰è¯çš„å•é“¾è¡¨ï¼Œå¹¶å°†å•é“¾è¡¨çš„å¤´æŒ‡é’ˆå­˜æ”¾åœ¨å“ˆå¸Œè¡¨çš„ç¬¬iä¸ªå•å…ƒä¸­ï¼ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ä¸»è¦åœ¨åŒä¹‰è¯é“¾è¡¨ä¸­è¿›è¡Œã€‚ï¼ˆé“¾è¡¨æ³•é€‚ç”¨äºç»å¸¸è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„æƒ…å†µï¼‰

- **å†å“ˆå¸Œæ³•**ï¼šå°±æ˜¯åŒæ—¶æ„é€ å¤šä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•°ï¼š Hi = RHi(key) i= 1,2,3 â€¦ k; å½“H1 = RH1(key) å‘ç”Ÿå†²çªæ—¶ï¼Œå†ç”¨H2 = RH2(key) è¿›è¡Œè®¡ç®—ï¼Œç›´åˆ°å†²çªä¸å†äº§ç”Ÿï¼Œè¿™ç§æ–¹æ³•ä¸æ˜“äº§ç”Ÿèšé›†ï¼Œä½†æ˜¯å¢åŠ äº†è®¡ç®—æ—¶é—´

- **å»ºç«‹å…¬å…±æº¢å‡ºåŒº**ï¼šå°†å“ˆå¸Œè¡¨åˆ†ä¸ºå…¬å…±è¡¨å’Œæº¢å‡ºè¡¨ï¼Œå½“æº¢å‡ºå‘ç”Ÿæ—¶ï¼Œå°†æ‰€æœ‰æº¢å‡ºæ•°æ®ç»Ÿä¸€æ”¾åˆ°æº¢å‡ºåŒº

### 1.3 Iteratoræ¨¡å¼é¢˜

**ğŸ¯ Iteratorå’ŒListIteratorçš„åŒºåˆ«ï¼Ÿ**

```
Iteratorï¼ˆå•å‘è¿­ä»£ï¼‰ï¼š
- åªèƒ½å‘å‰éå†ï¼ˆhasNextã€nextï¼‰
- æ”¯æŒremoveæ“ä½œ
- é€‚ç”¨äºæ‰€æœ‰Collection

ListIteratorï¼ˆåŒå‘è¿­ä»£ï¼‰ï¼š
- æ”¯æŒåŒå‘éå†ï¼ˆhasNextã€nextã€hasPreviousã€previousï¼‰
- æ”¯æŒaddã€setã€removeæ“ä½œ
- åªé€‚ç”¨äºListé›†åˆ
- å¯ä»¥è·å–å½“å‰ä½ç½®ç´¢å¼•
```

**ä»£ç ç¤ºä¾‹ï¼š**

```java
List<String> list = new ArrayList<>();
list.add("A");
list.add("B");

// Iterator - å•å‘
Iterator<String> it = list.iterator();
while(it.hasNext()) {
    String item = it.next();
    if("A".equals(item)) {
        it.remove(); // å®‰å…¨åˆ é™¤
    }
}

// ListIterator - åŒå‘
ListIterator<String> lit = list.listIterator();
while(lit.hasNext()) {
    String item = lit.next();
    lit.set(item + "_modified"); // ä¿®æ”¹å…ƒç´ 
}
```

---

## ğŸ“‹ äºŒã€Listæ¥å£å®ç°

### 2.1 ArrayList vs Vector

**ğŸ¯ ArrayListå’ŒVectorçš„åŒºåˆ«ï¼Ÿ**

**ç›¸åŒç‚¹**ï¼š

- ArrayList å’Œ Vector éƒ½æ˜¯ç»§æ‰¿äº†ç›¸åŒçš„çˆ¶ç±»å’Œå®ç°äº†ç›¸åŒçš„æ¥å£ï¼ˆéƒ½å®ç°äº†Listï¼Œæœ‰åºã€å…è®¸é‡å¤å’Œnullï¼‰

  ```java
  extends AbstractList<E>
          implements List<E>, RandomAccess, Cloneable, java.io.Serializable
  ```

- åº•å±‚éƒ½æ˜¯æ•°ç»„ï¼ˆObject[]ï¼‰å®ç°çš„

- åˆå§‹é»˜è®¤é•¿åº¦éƒ½ä¸º**10**

**ä¸åŒç‚¹**ï¼š

| **ç‰¹æ€§**     | **ArrayList** | **Vector**         |
| ------------ | ------------- | ------------------ |
| **çº¿ç¨‹å®‰å…¨** | å¦            | æ˜¯ï¼ˆsynchronizedï¼‰ |
| **æ€§èƒ½**     | é«˜            | è¾ƒä½ï¼ˆåŒæ­¥å¼€é”€ï¼‰   |
| **æ‰©å®¹æœºåˆ¶** | 1.5å€         | 2å€                |
| **å‡ºç°ç‰ˆæœ¬** | JDK 1.2       | JDK 1.0            |
| **è¿­ä»£å™¨**   | fail-fast     | fail-fast          |

**æ‰©å®¹æœºåˆ¶è¯¦è§£**ï¼š

- **ArrayList çš„ grow()**ï¼Œåœ¨æ»¡è¶³æ‰©å®¹æ¡ä»¶æ—¶ã€ArrayListä»¥**1.5** å€çš„æ–¹å¼åœ¨æ‰©å®¹ï¼ˆoldCapacity >> **1** ï¼Œå³ç§»è¿ç®—ï¼Œç›¸å½“äºé™¤ä»¥ 2ï¼Œç»“æœä¸ºäºŒåˆ†ä¹‹ä¸€çš„ oldCapacityï¼‰

```java
private void grow(int minCapacity) {
    int oldCapacity = elementData.length;
    //newCapacity = oldCapacity + 0.5*oldCapacity,æ­¤å¤„æ‰©å®¹0.5å€
    int newCapacity = oldCapacity + (oldCapacity >> 1); 
    if (newCapacity - minCapacity < 0)
        newCapacity = minCapacity;
    if (newCapacity - MAX_ARRAY_SIZE > 0)
        newCapacity = hugeCapacity(minCapacity);
    elementData = Arrays.copyOf(elementData, newCapacity);
}
```

- **Vector çš„ grow()**ï¼ŒVector æ¯” ArrayListå¤šä¸€ä¸ªå±æ€§ï¼Œæ‰©å±•å› å­capacityIncrementï¼Œå¯ä»¥æ‰©å®¹å¤§å°ã€‚å½“æ‰©å®¹å®¹é‡å¢é‡å¤§äº**0**æ—¶ã€æ–°æ•°ç»„é•¿åº¦ä¸ºåŸæ•°ç»„é•¿åº¦**+**æ‰©å®¹å®¹é‡å¢é‡ã€å¦åˆ™æ–°æ•°ç»„é•¿åº¦ä¸ºåŸæ•°ç»„é•¿åº¦çš„**2**å€

```java
private void grow(int minCapacity) {
    int oldCapacity = elementData.length;
    int newCapacity = oldCapacity + ((capacityIncrement > 0) ?
                                     capacityIncrement : oldCapacity);
    if (newCapacity - minCapacity < 0)
        newCapacity = minCapacity;
    if (newCapacity - MAX_ARRAY_SIZE > 0)
        newCapacity = hugeCapacity(minCapacity);
    elementData = Arrays.copyOf(elementData, newCapacity);
}
```

**ä½¿ç”¨å»ºè®®**ï¼š

- å•çº¿ç¨‹ç¯å¢ƒï¼šä¼˜å…ˆä½¿ç”¨ArrayList
- å¤šçº¿ç¨‹ç¯å¢ƒï¼šä½¿ç”¨Collections.synchronizedList()æˆ–CopyOnWriteArrayList

### 2.2 ArrayListæ·±åº¦è§£æ

**ğŸ¯ ArrayListçš„åº•å±‚å®ç°åŸç†ï¼Ÿ**

```
åº•å±‚æ•°æ®ç»“æ„ï¼š
- åŸºäºæ•°ç»„å®ç°ï¼ˆObject[] elementDataï¼‰
- é»˜è®¤åˆå§‹å®¹é‡ä¸º10
- æ”¯æŒåŠ¨æ€æ‰©å®¹

æ‰©å®¹æœºåˆ¶ï¼š
- å½“å®¹é‡ä¸è¶³æ—¶ï¼Œæ‰©å®¹è‡³åŸå®¹é‡çš„1.5å€
- ä½¿ç”¨Arrays.copyOf()å¤åˆ¶æ•°ç»„
- æ‰©å®¹æ˜¯è€—æ—¶æ“ä½œï¼Œå»ºè®®é¢„ä¼°å®¹é‡

æ ¸å¿ƒç‰¹æ€§ï¼š
- éšæœºè®¿é—®ï¼šO(1)æ—¶é—´å¤æ‚åº¦
- æ’å…¥/åˆ é™¤ï¼šO(n)æ—¶é—´å¤æ‚åº¦ï¼ˆéœ€è¦ç§»åŠ¨å…ƒç´ ï¼‰
- å…è®¸nullå€¼ï¼Œå…è®¸é‡å¤å…ƒç´ 
- çº¿ç¨‹ä¸å®‰å…¨
```

**æºç å…³é”®ç‚¹ï¼š**

```java
// é»˜è®¤å®¹é‡
private static final int DEFAULT_CAPACITY = 10;

// æ‰©å®¹æ–¹æ³•
private void grow(int minCapacity) {
    int oldCapacity = elementData.length;
    int newCapacity = oldCapacity + (oldCapacity >> 1); // 1.5å€æ‰©å®¹
    if (newCapacity - minCapacity < 0)
        newCapacity = minCapacity;
    elementData = Arrays.copyOf(elementData, newCapacity);
}
```

**ğŸ¯ ArrayListå’ŒVectorçš„åŒºåˆ«ï¼Ÿ**

| **ç‰¹æ€§**     | **ArrayList** | **Vector**         |
| ------------ | ------------- | ------------------ |
| **çº¿ç¨‹å®‰å…¨** | å¦            | æ˜¯ï¼ˆsynchronizedï¼‰ |
| **æ€§èƒ½**     | é«˜            | è¾ƒä½ï¼ˆåŒæ­¥å¼€é”€ï¼‰   |
| **æ‰©å®¹æœºåˆ¶** | 1.5å€         | 2å€                |
| **å‡ºç°ç‰ˆæœ¬** | JDK 1.2       | JDK 1.0            |
| **è¿­ä»£å™¨**   | fail-fast     | fail-fast          |

**ä½¿ç”¨å»ºè®®ï¼š**

- å•çº¿ç¨‹ç¯å¢ƒï¼šä¼˜å…ˆä½¿ç”¨ArrayList
- å¤šçº¿ç¨‹ç¯å¢ƒï¼šä½¿ç”¨Collections.synchronizedList()æˆ–CopyOnWriteArrayList

### 2.2 LinkedListæ·±åº¦è§£æ

**ğŸ¯ LinkedListçš„åº•å±‚å®ç°åŸç†ï¼Ÿ**

```
åº•å±‚æ•°æ®ç»“æ„ï¼š
- åŒå‘é“¾è¡¨å®ç°
- æ¯ä¸ªèŠ‚ç‚¹åŒ…å«dataã€nextã€prevä¸‰ä¸ªå­—æ®µ
- ç»´æŠ¤firstå’ŒlastæŒ‡é’ˆ

æ ¸å¿ƒç‰¹æ€§ï¼š
- æ’å…¥/åˆ é™¤ï¼šO(1)æ—¶é—´å¤æ‚åº¦ï¼ˆå·²çŸ¥ä½ç½®ï¼‰
- éšæœºè®¿é—®ï¼šO(n)æ—¶é—´å¤æ‚åº¦ï¼ˆéœ€è¦éå†ï¼‰
- å®ç°äº†Listå’ŒDequeæ¥å£
- å…è®¸nullå€¼ï¼Œå…è®¸é‡å¤å…ƒç´ 
- çº¿ç¨‹ä¸å®‰å…¨
```

**èŠ‚ç‚¹ç»“æ„ï¼š**

```java
private static class Node<E> {
    E item;
    Node<E> next;
    Node<E> prev;
    
    Node(Node<E> prev, E element, Node<E> next) {
        this.item = element;
        this.next = next;
        this.prev = prev;
    }
}
```

**ğŸ¯ ArrayList vs LinkedListä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ**

- æ˜¯å¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼š ArrayList å’Œ LinkedList éƒ½æ˜¯ä¸åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¿è¯çº¿ç¨‹å®‰å…¨ï¼›
- **åº•å±‚æ•°æ®ç»“æ„**ï¼š Arraylist åº•å±‚ä½¿ç”¨çš„æ˜¯ Object æ•°ç»„ï¼›LinkedList åº•å±‚ä½¿ç”¨çš„æ˜¯**åŒå‘å¾ªç¯é“¾è¡¨**æ•°æ®ç»“æ„ï¼›
- **æ’å…¥å’Œåˆ é™¤æ˜¯å¦å—å…ƒç´ ä½ç½®çš„å½±å“ï¼š**
  -  **ArrayList é‡‡ç”¨æ•°ç»„å­˜å‚¨ï¼Œæ‰€ä»¥æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦å—å…ƒç´ ä½ç½®çš„å½±å“ã€‚** æ¯”å¦‚ï¼šæ‰§è¡Œ `add(E e)`æ–¹æ³•çš„æ—¶å€™ï¼Œ ArrayList ä¼šé»˜è®¤åœ¨å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ï¼Œè¿™ç§æƒ…å†µæ—¶é—´å¤æ‚åº¦å°±æ˜¯O(1)ã€‚ä½†æ˜¯å¦‚æœè¦åœ¨æŒ‡å®šä½ç½® i æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„è¯ï¼ˆ `add(intindex,E element)`ï¼‰æ—¶é—´å¤æ‚åº¦å°±ä¸º O(n-i)ã€‚å› ä¸ºåœ¨è¿›è¡Œä¸Šè¿°æ“ä½œçš„æ—¶å€™é›†åˆä¸­ç¬¬ i å’Œç¬¬ i ä¸ªå…ƒç´ ä¹‹åçš„(n-i)ä¸ªå…ƒç´ éƒ½è¦æ‰§è¡Œå‘åä½/å‘å‰ç§»ä¸€ä½çš„æ“ä½œã€‚
  -  **LinkedList é‡‡ç”¨é“¾è¡¨å­˜å‚¨ï¼Œæ‰€ä»¥æ’å…¥ï¼Œåˆ é™¤å…ƒç´ æ—¶é—´å¤æ‚åº¦ä¸å—å…ƒç´ ä½ç½®çš„å½±å“ï¼Œéƒ½æ˜¯è¿‘ä¼¼ $O(1)$ï¼Œè€Œæ•°ç»„ä¸ºè¿‘ä¼¼ $O(n)$ã€‚**
  -  ArrayList ä¸€èˆ¬åº”ç”¨äºæŸ¥è¯¢è¾ƒå¤šä½†æ’å…¥ä»¥åŠåˆ é™¤è¾ƒå°‘æƒ…å†µï¼Œå¦‚æœæ’å…¥ä»¥åŠåˆ é™¤è¾ƒå¤šåˆ™å»ºè®®ä½¿ç”¨ LinkedList
- **æ˜¯å¦æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®**ï¼š LinkedList ä¸æ”¯æŒé«˜æ•ˆçš„éšæœºå…ƒç´ è®¿é—®ï¼Œè€Œ ArrayList å®ç°äº† RandomAccess æ¥å£ï¼Œæ‰€ä»¥æœ‰éšæœºè®¿é—®åŠŸèƒ½ã€‚å¿«é€Ÿéšæœºè®¿é—®å°±æ˜¯é€šè¿‡å…ƒç´ çš„åºå·å¿«é€Ÿè·å–å…ƒç´ å¯¹è±¡(å¯¹åº”äº `get(intindex)`æ–¹æ³•)ã€‚
- **å†…å­˜ç©ºé—´å ç”¨**ï¼š ArrayList çš„ç©ºé—´æµªè´¹ä¸»è¦ä½“ç°åœ¨åœ¨ list åˆ—è¡¨çš„ç»“å°¾ä¼šé¢„ç•™ä¸€å®šçš„å®¹é‡ç©ºé—´ï¼Œè€Œ LinkedList çš„ç©ºé—´èŠ±è´¹åˆ™ä½“ç°åœ¨å®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½éœ€è¦æ¶ˆè€—æ¯” ArrayList æ›´å¤šçš„ç©ºé—´ï¼ˆå› ä¸ºè¦å­˜æ”¾ç›´æ¥åç»§å’Œç›´æ¥å‰é©±ä»¥åŠæ•°æ®ï¼‰ã€‚

**ä½¿ç”¨åœºæ™¯ï¼š**

```java
// é¢‘ç¹éšæœºè®¿é—® - ä½¿ç”¨ArrayList
List<String> list1 = new ArrayList<>();
String item = list1.get(index); // O(1)

// é¢‘ç¹æ’å…¥åˆ é™¤ - ä½¿ç”¨LinkedList
List<String> list2 = new LinkedList<>();
list2.add(0, "item"); // å¤´éƒ¨æ’å…¥ O(1)

// ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ - LinkedListå®ç°äº†Deque
Deque<String> queue = new LinkedList<>();
queue.offer("item");
queue.poll();
```

---

## ğŸ”¢ ä¸‰ã€Setæ¥å£å®ç°

### 3.1 HashSetæ·±åº¦è§£æ

**ğŸ¯ HashSetçš„åº•å±‚å®ç°åŸç†ï¼Ÿ**

```
åº•å±‚å®ç°ï¼š
- åŸºäºHashMapå®ç°
- å…ƒç´ ä½œä¸ºHashMapçš„keyï¼Œvalueä¸ºå›ºå®šçš„PRESENTå¯¹è±¡
- åˆ©ç”¨HashMapçš„keyå”¯ä¸€æ€§ä¿è¯Setçš„ä¸é‡å¤ç‰¹æ€§

å»é‡åŸç†ï¼š
1. è®¡ç®—å…ƒç´ çš„hashCode()
2. æ ¹æ®hashå€¼å®šä½å­˜å‚¨ä½ç½®
3. å¦‚æœä½ç½®ä¸ºç©ºï¼Œç›´æ¥å­˜å‚¨
4. å¦‚æœä½ç½®æœ‰å…ƒç´ ï¼Œè°ƒç”¨equals()æ¯”è¾ƒ
5. equals()è¿”å›trueè¡¨ç¤ºé‡å¤ï¼Œä¸æ·»åŠ 

æ ¸å¿ƒç‰¹æ€§ï¼š
- æ— åºï¼ˆä¸ä¿è¯æ’å…¥é¡ºåºï¼‰
- ä¸å…è®¸é‡å¤å…ƒç´ 
- å…è®¸ä¸€ä¸ªnullå€¼
- çº¿ç¨‹ä¸å®‰å…¨
```

**æºç å…³é”®ç‚¹ï¼š**

```java
public class HashSet<E> {
    private transient HashMap<E,Object> map;
    private static final Object PRESENT = new Object();
    
    public boolean add(E e) {
        return map.put(e, PRESENT)==null;
    }
}
```

**ğŸ¯ å¦‚ä½•ä¿è¯è‡ªå®šä¹‰å¯¹è±¡åœ¨HashSetä¸­ä¸é‡å¤ï¼Ÿ**

```
å¿…é¡»é‡å†™hashCode()å’Œequals()æ–¹æ³•ï¼š

1. equals()ç›¸ç­‰çš„å¯¹è±¡ï¼ŒhashCode()å¿…é¡»ç›¸ç­‰
2. hashCode()ç›¸ç­‰çš„å¯¹è±¡ï¼Œequals()ä¸ä¸€å®šç›¸ç­‰
3. é‡å†™æ—¶éœ€è¦è€ƒè™‘æ‰€æœ‰å‚ä¸æ¯”è¾ƒçš„å­—æ®µ

æ­£ç¡®ç¤ºä¾‹ï¼š
```

```java
public class Person {
    private String name;
    private int age;
    
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Person person = (Person) obj;
        return age == person.age && Objects.equals(name, person.name);
    }
    
    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }
}
```

### 3.2 TreeSetæ·±åº¦è§£æ

**ğŸ¯ TreeSetçš„åº•å±‚å®ç°åŸç†ï¼Ÿ**

```
åº•å±‚å®ç°ï¼š
- åŸºäºTreeMapå®ç°ï¼ˆçº¢é»‘æ ‘ï¼‰
- å…ƒç´ ä½œä¸ºTreeMapçš„key
- åˆ©ç”¨çº¢é»‘æ ‘çš„ç‰¹æ€§ä¿è¯æœ‰åº

æ’åºæœºåˆ¶ï¼š
1. è‡ªç„¶æ’åºï¼šå…ƒç´ å®ç°Comparableæ¥å£
2. å®šåˆ¶æ’åºï¼šæ„é€ æ—¶ä¼ å…¥Comparator

æ ¸å¿ƒç‰¹æ€§ï¼š
- æœ‰åºå­˜å‚¨ï¼ˆå‡åºï¼‰
- ä¸å…è®¸é‡å¤å…ƒç´ 
- ä¸å…è®¸nullå€¼
- çº¿ç¨‹ä¸å®‰å…¨
- æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ï¼šO(log n)
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```java
// è‡ªç„¶æ’åº
Set<Integer> treeSet1 = new TreeSet<>();
treeSet1.add(3);
treeSet1.add(1);
treeSet1.add(2);
// è¾“å‡ºï¼š[1, 2, 3]

// å®šåˆ¶æ’åº
Set<String> treeSet2 = new TreeSet<>((s1, s2) -> s2.compareTo(s1));
treeSet2.add("b");
treeSet2.add("a");
treeSet2.add("c");
// è¾“å‡ºï¼š[c, b, a]
```

### 3.3 LinkedHashSetæ·±åº¦è§£æ

**ğŸ¯ LinkedHashSetçš„ç‰¹ç‚¹å’Œä½¿ç”¨åœºæ™¯ï¼Ÿ**

```
åº•å±‚å®ç°ï¼š
- ç»§æ‰¿HashSetï¼ŒåŸºäºLinkedHashMapå®ç°
- åœ¨HashSetåŸºç¡€ä¸Šç»´æŠ¤äº†æ’å…¥é¡ºåº

æ ¸å¿ƒç‰¹æ€§ï¼š
- ä¿æŒæ’å…¥é¡ºåº
- ä¸å…è®¸é‡å¤å…ƒç´ 
- å…è®¸ä¸€ä¸ªnullå€¼
- æ€§èƒ½ç•¥ä½äºHashSetï¼ˆç»´æŠ¤é“¾è¡¨å¼€é”€ï¼‰

ä½¿ç”¨åœºæ™¯ï¼š
- éœ€è¦å»é‡ä¸”ä¿æŒæ’å…¥é¡ºåº
- éå†é¡ºåºè¦æ±‚å¯é¢„æµ‹
```

**ä¸‰ç§Setå¯¹æ¯”ï¼š**

| **ç‰¹æ€§**       | **HashSet** | **LinkedHashSet** | **TreeSet**     |
| -------------- | ----------- | ----------------- | --------------- |
| **åº•å±‚å®ç°**   | HashMap     | LinkedHashMap     | TreeMap(çº¢é»‘æ ‘) |
| **æ˜¯å¦æœ‰åº**   | æ— åº        | æ’å…¥é¡ºåº          | è‡ªç„¶/å®šåˆ¶æ’åº   |
| **å…è®¸null**   | æ˜¯          | æ˜¯                | å¦              |
| **æ—¶é—´å¤æ‚åº¦** | O(1)        | O(1)              | O(log n)        |
| **ä½¿ç”¨åœºæ™¯**   | å¿«é€Ÿå»é‡    | å»é‡+ä¿åº         | æ’åºå»é‡        |

---

## ğŸ—‚ï¸ å››ã€Mapæ¥å£å®ç°

### 4.1 HashMapåŸºç¡€é—®é¢˜

**ğŸ¯ HashMapä¸­keyå’Œvalueå¯ä»¥ä¸ºnullå—ï¼Ÿå…è®¸å‡ ä¸ªä¸ºnullå‘€ï¼Ÿ**

1. **é”®ï¼ˆKeyï¼‰å¯ä»¥ä¸º`null`**ï¼š`HashMap`å…è®¸ä¸€ä¸ªé”®ä¸º`null`ã€‚å½“ä½¿ç”¨`null`ä½œä¸ºé”®æ—¶ï¼Œè¿™ä¸ªé”®æ€»æ˜¯è¢«å­˜å‚¨åœ¨`HashMap`çš„ç¬¬0ä¸ªæ¡¶ï¼ˆbucketï¼‰ä¸­ã€‚
2. **å€¼ï¼ˆValueï¼‰å¯ä»¥ä¸º`null`**ï¼š`HashMap`åŒæ ·å…è®¸å€¼ä¸º`null`ã€‚ä½ å¯ä»¥å°†ä»»ä½•é”®æ˜ å°„ä¸º`null`å€¼ã€‚
3. **å…è®¸çš„`null`æ•°é‡**ï¼šåœ¨`HashMap`ä¸­ï¼Œ**åªæœ‰ä¸€ä¸ªé”®å¯ä»¥æ˜¯`null`**ã€‚å› ä¸º`HashMap`å†…éƒ¨ä½¿ç”¨é”®çš„`hashCode()`æ¥ç¡®å®šé”®å€¼å¯¹çš„å­˜å‚¨ä½ç½®ï¼Œè€Œ`null`çš„`hashCode()`å€¼ä¸º0ã€‚
4. **å¯¹æ€§èƒ½çš„å½±å“**ï¼šè™½ç„¶`HashMap`å…è®¸é”®æˆ–å€¼ä¸º`null`ï¼Œä½†é¢‘ç¹ä½¿ç”¨`null`é”®å¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚

**ğŸ¯ HashMapçš„Keyéœ€è¦é‡å†™hashCode()å’Œequals()å—ï¼Ÿ**

**1. HashMap çš„å­˜å‚¨é€»è¾‘**

- **put(K,V)** æ—¶ï¼š
  1. å…ˆè°ƒç”¨ `key.hashCode()` è®¡ç®—å“ˆå¸Œå€¼ï¼Œå†³å®šå­˜æ”¾åœ¨å“ªä¸ª **æ¡¶ï¼ˆbucketï¼‰**ã€‚
  2. å¦‚æœæ¡¶é‡Œå·²æœ‰å…ƒç´ ï¼Œä¼šè°ƒç”¨ `equals()` æ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ª keyï¼ˆæ›´æ–° valueï¼‰è¿˜æ˜¯å“ˆå¸Œå†²çªï¼ˆæ‹‰é“¾/çº¢é»‘æ ‘å­˜å‚¨ï¼‰ã€‚
- **get(K)** æ—¶ï¼š
  1. å…ˆç®—å‡º `key.hashCode()` å®šä½åˆ°æ¡¶ã€‚
  2. å†ç”¨ `equals()` åœ¨æ¡¶é‡Œé€ä¸ªæ¯”å¯¹ï¼Œæ‰¾åˆ°ç›®æ ‡å€¼ã€‚

**2. ä¸ºä»€ä¹ˆè¦é‡å†™ï¼Ÿ**

å¦‚æœä¸é‡å†™ `hashCode()` å’Œ `equals()` æ–¹æ³•ï¼Œé»˜è®¤å®ç°ä¼šä½¿ç”¨å¯¹è±¡çš„å†…å­˜åœ°å€æ¥è®¡ç®—å“ˆå¸Œç å’Œæ¯”è¾ƒå¯¹è±¡ã€‚è¿™å°†å¯¼è‡´é€»è¾‘ä¸Šç›¸ç­‰çš„å¯¹è±¡ï¼ˆä¾‹å¦‚å†…å®¹ç›¸åŒçš„ä¸¤ä¸ªå®ä¾‹ï¼‰å…·æœ‰ä¸åŒçš„å“ˆå¸Œç ï¼Œæ— æ³•æ­£ç¡®å­˜å‚¨å’ŒæŸ¥æ‰¾ã€‚

ğŸ‘‰ ç»“æœå°±æ˜¯ï¼š**ä¸¤ä¸ª"å†…å®¹ç›¸åŒ"çš„ key ä¼šè¢«è®¤ä¸ºæ˜¯ä¸åŒçš„ key**ï¼Œå¯¼è‡´å­˜å–ä¸ä¸€è‡´ã€‚

**æ­£ç¡®åšæ³•**ï¼š

```java
public class Person {
    private String name;
    private int age;
    
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Person person = (Person) obj;
        return age == person.age && Objects.equals(name, person.name);
    }
    
    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }
}
```

**å¿…é¡»éµå¾ªçš„è§„åˆ™**ï¼š

1. equals()ç›¸ç­‰çš„å¯¹è±¡ï¼ŒhashCode()å¿…é¡»ç›¸ç­‰
2. hashCode()ç›¸ç­‰çš„å¯¹è±¡ï¼Œequals()ä¸ä¸€å®šç›¸ç­‰
3. é‡å†™æ—¶éœ€è¦è€ƒè™‘æ‰€æœ‰å‚ä¸æ¯”è¾ƒçš„å­—æ®µ

### 4.2 HashMapæ·±åº¦è§£æ

**ğŸ¯ HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿï¼ˆé‡ç‚¹ï¼‰**

```
JDK 1.8ä¹‹å‰ï¼šæ•°ç»„ + é“¾è¡¨
JDK 1.8ä¹‹åï¼šæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘

æ ¸å¿ƒç»“æ„ï¼š
- Nodeæ•°ç»„ï¼ˆå“ˆå¸Œæ¡¶ï¼‰
- é“¾è¡¨ï¼ˆè§£å†³hashå†²çªï¼‰
- çº¢é»‘æ ‘ï¼ˆé“¾è¡¨é•¿åº¦>8æ—¶è½¬æ¢ï¼Œæå‡æŸ¥è¯¢æ•ˆç‡ï¼‰

å…³é”®å‚æ•°ï¼š
- é»˜è®¤åˆå§‹å®¹é‡ï¼š16
- é»˜è®¤è´Ÿè½½å› å­ï¼š0.75
- æ ‘åŒ–é˜ˆå€¼ï¼š8
- åæ ‘åŒ–é˜ˆå€¼ï¼š6
```

**putæ“ä½œæµç¨‹ï¼š**

```java
1. è®¡ç®—keyçš„hashå€¼
2. æ ¹æ®hashå€¼è®¡ç®—æ•°ç»„ç´¢å¼•ï¼š(n-1) & hash
3. å¦‚æœä½ç½®ä¸ºç©ºï¼Œç›´æ¥åˆ›å»ºèŠ‚ç‚¹
4. å¦‚æœä½ç½®æœ‰å…ƒç´ ï¼š
   - keyç›¸ç­‰ï¼Œè¦†ç›–value
   - keyä¸ç­‰ï¼Œæ·»åŠ åˆ°é“¾è¡¨å°¾éƒ¨
   - é“¾è¡¨é•¿åº¦>8ä¸”æ•°ç»„é•¿åº¦>=64ï¼Œè½¬ä¸ºçº¢é»‘æ ‘
5. å…ƒç´ æ•°é‡è¶…è¿‡é˜ˆå€¼ï¼Œè§¦å‘æ‰©å®¹
```

**ğŸ¯ HashMapçš„æ‰©å®¹æœºåˆ¶ï¼Ÿ**

```
æ‰©å®¹æ—¶æœºï¼š
- å…ƒç´ æ•°é‡ > å®¹é‡ * è´Ÿè½½å› å­ï¼ˆé»˜è®¤16 * 0.75 = 12ï¼‰

æ‰©å®¹è¿‡ç¨‹ï¼š
1. å®¹é‡æ‰©å¤§ä¸ºåŸæ¥çš„2å€
2. é‡æ–°è®¡ç®—æ‰€æœ‰å…ƒç´ çš„ä½ç½®
3. å…ƒç´ è¦ä¹ˆåœ¨åŸä½ç½®ï¼Œè¦ä¹ˆåœ¨åŸä½ç½®+åŸå®¹é‡

JDK 1.8ä¼˜åŒ–ï¼š
- ä½¿ç”¨é«˜ä½ä½é“¾è¡¨ä¼˜åŒ–rehash
- é¿å…äº†é“¾è¡¨å€’ç½®é—®é¢˜
```

**æ‰©å®¹ä¼˜åŒ–ä»£ç ï¼š**

```java
// JDK 1.8 æ‰©å®¹ä¼˜åŒ–
Node<K,V> loHead = null, loTail = null; // ä½ä½é“¾è¡¨
Node<K,V> hiHead = null, hiTail = null; // é«˜ä½é“¾è¡¨

do {
    next = e.next;
    if ((e.hash & oldCap) == 0) {
        // åŸä½ç½®
        if (loTail == null) loHead = e;
        else loTail.next = e;
        loTail = e;
    } else {
        // åŸä½ç½® + oldCap
        if (hiTail == null) hiHead = e;
        else hiTail.next = e;
        hiTail = e;
    }
} while ((e = next) != null);
```

**ğŸ¯ HashMapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨ï¼Ÿ**

```
çº¿ç¨‹ä¸å®‰å…¨çš„è¡¨ç°ï¼š
1. æ•°æ®ä¸¢å¤±ï¼šå¤šçº¿ç¨‹putæ—¶å¯èƒ½è¦†ç›–
2. æ­»å¾ªç¯ï¼šJDK 1.7æ‰©å®¹æ—¶é“¾è¡¨å¯èƒ½å½¢æˆç¯
3. æ•°æ®ä¸ä¸€è‡´ï¼šgetæ—¶å¯èƒ½è·å–åˆ°ä¸å®Œæ•´çš„æ•°æ®

JDK 1.7æ­»å¾ªç¯åŸå› ï¼š
- æ‰©å®¹æ—¶é‡‡ç”¨å¤´æ’æ³•
- å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯èƒ½å½¢æˆå¾ªç¯é“¾è¡¨
- CPUä½¿ç”¨ç‡é£™å‡è‡³100%

JDK 1.8æ”¹è¿›ï¼š
- é‡‡ç”¨å°¾æ’æ³•
- é¿å…äº†æ­»å¾ªç¯é—®é¢˜
- ä½†ä»ç„¶å­˜åœ¨æ•°æ®ä¸¢å¤±é—®é¢˜
```

**è§£å†³æ–¹æ¡ˆï¼š**

```java
// 1. Hashtableï¼ˆæ€§èƒ½å·®ï¼‰
Map<String, String> map1 = new Hashtable<>();

// 2. Collections.synchronizedMapï¼ˆæ€§èƒ½å·®ï¼‰
Map<String, String> map2 = Collections.synchronizedMap(new HashMap<>());

// 3. ConcurrentHashMapï¼ˆæ¨èï¼‰
Map<String, String> map3 = new ConcurrentHashMap<>();
```

**ğŸ¯ HashMapçš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Ÿ**

`HashMap` ä¸­çš„æ•°ç»„ï¼ˆé€šå¸¸ç§°ä¸º"æ¡¶"æ•°ç»„ï¼‰é•¿åº¦è®¾è®¡ä¸º2çš„å¹‚æ¬¡æ–¹æœ‰å‡ ä¸ªåŸå› ï¼š

1. **å¿«é€Ÿå–æ¨¡è¿ç®—**ï¼šHashMap ä¸­æ¡¶æ•°ç»„çš„å¤§å° length æ€»æ˜¯ 2 çš„å¹‚ï¼Œæ­¤æ—¶ï¼Œ`h & (table.length -1)` ç­‰ä»·äºå¯¹ length å–æ¨¡ `h%length`ã€‚ä½†å–æ¨¡çš„è®¡ç®—æ•ˆç‡æ²¡æœ‰ä½è¿ç®—é«˜ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–ã€‚

2. **å‡å°‘å“ˆå¸Œç¢°æ’**ï¼šä½¿ç”¨2çš„å¹‚æ¬¡æ–¹ä½œä¸ºæ•°ç»„é•¿åº¦å¯ä»¥ä½¿å¾—å…ƒç´ åœ¨æ•°ç»„ä¸­åˆ†å¸ƒæ›´åŠ å‡åŒ€ï¼Œè¿™å‡å°‘äº†å“ˆå¸Œç¢°æ’çš„å¯èƒ½æ€§ã€‚

3. **åŠ¨æ€æ‰©å®¹**ï¼š`HashMap`åœ¨éœ€è¦æ‰©å®¹æ—¶ï¼Œé€šå¸¸ä¼šå¢åŠ åˆ°å½“å‰å®¹é‡çš„ä¸¤å€ã€‚å¦‚æœå½“å‰å®¹é‡å·²ç»æ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Œå¢åŠ åˆ°ä¸¤å€åä»ç„¶æ˜¯2çš„å¹‚æ¬¡æ–¹ã€‚

4. **é¿å…æ•°æ®è¿ç§»**ï¼šå½“æ•°ç»„é•¿åº¦ä¸º2çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œå½“è¿›è¡Œæ‰©å®¹å’Œé‡æ–°å“ˆå¸Œæ—¶ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„ä½è¿ç®—æ¥ç¡®å®šå…ƒç´ åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè€Œä¸éœ€è¦é‡æ–°è®¡ç®—å“ˆå¸Œç ã€‚

**ğŸ¯ ä¸ºä»€ä¹ˆJDK1.8ä¸­HashMapä»å¤´æ’å…¥æ”¹æˆå°¾æ’å…¥ï¼Ÿ**

åœ¨Java 8ä¸­ï¼Œ`HashMap`çš„æ’å…¥ç­–ç•¥ä»å¤´éƒ¨æ’å…¥ï¼ˆhead insertionï¼‰æ”¹ä¸ºå°¾éƒ¨æ’å…¥ï¼ˆtail insertionï¼‰ï¼Œä¸»è¦åŸå› ï¼š

1. **é¿å…æ­»å¾ªç¯**ï¼šJDK1.7ä¸­æ‰©å®¹æ—¶ï¼Œæ¯ä¸ªå…ƒç´ çš„rehashä¹‹åï¼Œéƒ½ä¼šæ’å…¥åˆ°æ–°æ•°ç»„å¯¹åº”ç´¢å¼•çš„é“¾è¡¨å¤´ï¼Œæ‰€ä»¥è¿™å°±å¯¼è‡´åŸé“¾è¡¨é¡ºåºä¸ºA->B->Cï¼Œæ‰©å®¹ä¹‹åï¼Œrehashä¹‹åçš„é“¾è¡¨å¯èƒ½ä¸ºC->B->Aï¼Œå…ƒç´ çš„é¡ºåºå‘ç”Ÿäº†å˜åŒ–ã€‚åœ¨å¹¶å‘åœºæ™¯ä¸‹ï¼Œ**æ‰©å®¹æ—¶**å¯èƒ½ä¼šå‡ºç°å¾ªç¯é“¾è¡¨çš„æƒ…å†µã€‚

2. **ä¿æŒé¡ºåº**ï¼šè€ŒJDK1.8ä»å¤´æ’å…¥æ”¹æˆå°¾æ’å…¥ï¼Œå…ƒç´ çš„é¡ºåºä¸å˜ï¼Œé¿å…å‡ºç°å¾ªç¯é“¾è¡¨çš„æƒ…å†µã€‚

3. **æé«˜å¹¶å‘å®‰å…¨æ€§**ï¼šå°¾æ’å…¥ç­–ç•¥åœ¨å¹¶å‘ç¯å¢ƒä¸‹æ›´åŠ ç¨³å®šï¼Œè™½ç„¶HashMapä»ç„¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†å‡å°‘äº†ä¸€äº›æ½œåœ¨é—®é¢˜ã€‚

**ğŸ¯ HashMapï¼šJDK1.7 VS JDK1.8ä¸»è¦åŒºåˆ«ï¼Ÿ**

| **ä¸åŒ**           | **JDK 1.7**                                                  | **JDK 1.8**                                                  |
| ------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **å­˜å‚¨ç»“æ„**       | æ•°ç»„ + é“¾è¡¨                                                  | æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘                                         |
| **åˆå§‹åŒ–æ–¹å¼**     | å•ç‹¬å‡½æ•°ï¼šinflateTable()                                     | ç›´æ¥é›†æˆåˆ°äº†æ‰©å®¹å‡½æ•°resize()ä¸­                               |
| **hashå€¼è®¡ç®—**     | æ‰°åŠ¨å¤„ç† = 9æ¬¡æ‰°åŠ¨ = 4æ¬¡ä½è¿ç®— + 5æ¬¡å¼‚æˆ–è¿ç®—                 | æ‰°åŠ¨å¤„ç† = 2æ¬¡æ‰°åŠ¨ = 1æ¬¡ä½è¿ç®— + 1æ¬¡å¼‚æˆ–è¿ç®—                 |
| **å­˜æ”¾æ•°æ®è§„åˆ™**   | æ— å†²çªæ—¶ï¼Œå­˜æ”¾æ•°ç»„ï¼›å†²çªæ—¶ï¼Œå­˜æ”¾é“¾è¡¨                         | æ— å†²çªæ—¶ï¼Œå­˜æ”¾æ•°ç»„ï¼›å†²çª & é“¾è¡¨é•¿åº¦ < 8ï¼šå­˜æ”¾å•é“¾è¡¨ï¼›å†²çª & é“¾è¡¨é•¿åº¦ > 8ï¼šæ ‘åŒ–å¹¶å­˜æ”¾çº¢é»‘æ ‘ |
| **æ’å…¥æ•°æ®æ–¹å¼**   | å¤´æ’æ³•ï¼ˆå…ˆå°†åŸä½ç½®çš„æ•°æ®ç§»åˆ°å1ä½ï¼Œå†æ’å…¥æ•°æ®åˆ°è¯¥ä½ç½®ï¼‰      | å°¾æ’æ³•ï¼ˆç›´æ¥æ’å…¥åˆ°é“¾è¡¨å°¾éƒ¨/çº¢é»‘æ ‘ï¼‰                          |
| **æ‰©å®¹åä½ç½®è®¡ç®—** | å…¨éƒ¨æŒ‰ç…§åŸæ¥æ–¹æ³•è¿›è¡Œè®¡ç®—ï¼ˆå³hashCode -> æ‰°åŠ¨å‡½æ•° -> (h&length-1)ï¼‰ | æŒ‰ç…§æ‰©å®¹åçš„è§„å¾‹è®¡ç®—ï¼ˆå³æ‰©å®¹åçš„ä½ç½®=åŸä½ç½® or åŸä½ç½® + æ—§å®¹é‡ï¼‰ |

### 4.2 ConcurrentHashMapæ·±åº¦è§£æ

**ğŸ¯ ConcurrentHashMapçš„å®ç°åŸç†ï¼Ÿï¼ˆé‡ç‚¹ï¼‰**

```
JDK 1.7å®ç°ï¼ˆåˆ†æ®µé”ï¼‰ï¼š
- Segmentæ•°ç»„ + HashEntryæ•°ç»„
- æ¯ä¸ªSegmentç»§æ‰¿ReentrantLock
- é»˜è®¤16ä¸ªSegmentï¼Œæœ€å¤§å¹¶å‘åº¦16
- é”ç²’åº¦ï¼šSegmentçº§åˆ«

JDK 1.8å®ç°ï¼ˆCAS + synchronizedï¼‰ï¼š
- Nodeæ•°ç»„ + é“¾è¡¨/çº¢é»‘æ ‘
- å–æ¶ˆSegmentæ¦‚å¿µ
- ä½¿ç”¨CAS + synchronizedå®ç°
- é”ç²’åº¦ï¼šNodeçº§åˆ«ï¼ˆæ›´ç»†ç²’åº¦ï¼‰
```

**JDK 1.8 putæ“ä½œï¼š**

```java
final V putVal(K key, V value, boolean onlyIfAbsent) {
    // 1. è®¡ç®—hashå€¼
    int hash = spread(key.hashCode());
    
    for (Node<K,V>[] tab = table;;) {
        // 2. å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œåˆå§‹åŒ–
        if (tab == null || (n = tab.length) == 0)
            tab = initTable();
        // 3. å¦‚æœä½ç½®ä¸ºç©ºï¼ŒCASæ’å…¥
        else if ((f = tabAt(tab, i = (n - 1) & hash)) == null) {
            if (casTabAt(tab, i, null, new Node<K,V>(hash, key, value)))
                break;
        }
        // 4. å¦‚æœæ­£åœ¨æ‰©å®¹ï¼Œå¸®åŠ©æ‰©å®¹
        else if ((fh = f.hash) == MOVED)
            tab = helpTransfer(tab, f);
        // 5. å¦åˆ™synchronizedé”ä½å¤´èŠ‚ç‚¹
        else {
            synchronized (f) {
                // é“¾è¡¨æˆ–çº¢é»‘æ ‘æ’å…¥é€»è¾‘
            }
        }
    }
}
```

**ğŸ¯ ConcurrentHashMapçš„ä¼˜åŠ¿ï¼Ÿ**

| **ç‰¹æ€§**   | **Hashtable**      | **Collections.synchronizedMap** | **ConcurrentHashMap** |
| ---------- | ------------------ | ------------------------------- | --------------------- |
| **é”æœºåˆ¶** | æ–¹æ³•çº§synchronized | æ–¹æ³•çº§synchronized              | åˆ†æ®µé”/èŠ‚ç‚¹é”         |
| **å¹¶å‘åº¦** | 1                  | 1                               | é«˜                    |
| **è¯»æ“ä½œ** | åŠ é”               | åŠ é”                            | æ— é”(volatile)        |
| **è¿­ä»£å™¨** | fail-fast          | fail-fast                       | å¼±ä¸€è‡´æ€§              |
| **nullå€¼** | ä¸å…è®¸             | ä¸å…è®¸                          | ä¸å…è®¸                |

**æ€§èƒ½ä¼˜åŠ¿ï¼š**

- è¯»æ“ä½œæ— é”ï¼Œå†™æ“ä½œç»†ç²’åº¦é”
- æ”¯æŒé«˜å¹¶å‘è¯»å†™
- è¿­ä»£è¿‡ç¨‹ä¸é˜»å¡å…¶ä»–æ“ä½œ

### 4.3 å…¶ä»–Mapå®ç°

**ğŸ¯ TreeMapçš„ç‰¹ç‚¹å’Œä½¿ç”¨åœºæ™¯ï¼Ÿ**

```
åº•å±‚å®ç°ï¼šçº¢é»‘æ ‘ï¼ˆè‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼‰

æ ¸å¿ƒç‰¹æ€§ï¼š
- æŒ‰keyæ’åºå­˜å‚¨
- ä¸å…è®¸keyä¸ºnull
- çº¿ç¨‹ä¸å®‰å…¨
- æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ï¼šO(log n)

æ’åºæœºåˆ¶ï¼š
1. keyå®ç°Comparableæ¥å£
2. æ„é€ æ—¶ä¼ å…¥Comparator

ä½¿ç”¨åœºæ™¯ï¼š
- éœ€è¦æŒ‰keyæ’åºçš„Map
- èŒƒå›´æŸ¥è¯¢ï¼šsubMapã€headMapã€tailMap
```

**ğŸ¯ LinkedHashMapçš„ç‰¹ç‚¹ï¼Ÿ**

```
åº•å±‚å®ç°ï¼šHashMap + åŒå‘é“¾è¡¨

æ ¸å¿ƒç‰¹æ€§ï¼š
- ä¿æŒæ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåº
- ç»§æ‰¿HashMapï¼Œæ€§èƒ½ç•¥ä½
- æ”¯æŒLRUç¼“å­˜å®ç°

æ„é€ å‚æ•°ï¼š
- accessOrder=falseï¼šæ’å…¥é¡ºåºï¼ˆé»˜è®¤ï¼‰
- accessOrder=trueï¼šè®¿é—®é¡ºåº

LRUç¼“å­˜å®ç°ï¼š
```

```java
public class LRUCache<K, V> extends LinkedHashMap<K, V> {
    private final int capacity;
    
    public LRUCache(int capacity) {
        super(capacity, 0.75f, true); // accessOrder=true
        this.capacity = capacity;
    }
    
    @Override
    protected boolean removeEldestEntry(Map.Entry<K, V> eldest) {
        return size() > capacity;
    }
}
```

---

## ğŸ”’ äº”ã€çº¿ç¨‹å®‰å…¨é›†åˆ

### 5.1 å¹¶å‘é›†åˆæ¦‚è¿°

**ğŸ¯ åŒæ­¥å®¹å™¨å’Œå¹¶å‘å®¹å™¨çš„åŒºåˆ«ï¼Ÿ**

| **ç‰¹æ€§**     | **åŒæ­¥å®¹å™¨**              | **å¹¶å‘å®¹å™¨**                            |
| ------------ | ------------------------- | --------------------------------------- |
| **å®ç°æ–¹å¼** | Collections.synchronized* | java.util.concurrent                    |
| **é”æœºåˆ¶**   | å¯¹è±¡çº§synchronized        | åˆ†æ®µé”ã€CASã€Lock                       |
| **æ€§èƒ½**     | ä½                        | é«˜                                      |
| **è¿­ä»£å™¨**   | fail-fastéœ€è¦å¤–éƒ¨åŒæ­¥     | å¼±ä¸€è‡´æ€§æˆ–å¿«ç…§                          |
| **ä»£è¡¨**     | Vectorã€Hashtable         | ConcurrentHashMapã€CopyOnWriteArrayList |

**åŒæ­¥å®¹å™¨é—®é¢˜ï¼š**

```java
Vector<Integer> vector = new Vector<>();
// è™½ç„¶addå’Œgetæ˜¯åŒæ­¥çš„ï¼Œä½†ç»„åˆæ“ä½œä¸æ˜¯åŸå­çš„
if (vector.size() > 0) {
    vector.get(0); // å¯èƒ½æŠ›å‡ºIndexOutOfBoundsException
}
```

### 5.2 CopyOnWriteArrayListè¯¦è§£

**ğŸ¯ CopyOnWriteArrayListçš„å®ç°åŸç†ï¼Ÿ**

```
æ ¸å¿ƒæ€æƒ³ï¼šå†™æ—¶å¤åˆ¶ï¼ˆCopy-On-Writeï¼‰

å®ç°æœºåˆ¶ï¼š
- è¯»æ“ä½œä¸åŠ é”ï¼Œç›´æ¥è¯»å–
- å†™æ“ä½œåŠ é”ï¼Œå¤åˆ¶æ•´ä¸ªæ•°ç»„ï¼Œåœ¨æ–°æ•°ç»„ä¸Šä¿®æ”¹
- ä¿®æ”¹å®Œæˆåï¼Œæ›´æ–°å¼•ç”¨æŒ‡å‘æ–°æ•°ç»„

é€‚ç”¨åœºæ™¯ï¼š
- è¯»å¤šå†™å°‘çš„åœºæ™¯
- å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯
- æ•°æ®é‡ä¸å¤§çš„åœºæ™¯
```

**æºç åˆ†æï¼š**

```java
public boolean add(E e) {
    final ReentrantLock lock = this.lock;
    lock.lock();
    try {
        Object[] elements = getArray();
        int len = elements.length;
        Object[] newElements = Arrays.copyOf(elements, len + 1); // å¤åˆ¶æ•°ç»„
        newElements[len] = e;
        setArray(newElements); // åŸå­æ›´æ–°å¼•ç”¨
        return true;
    } finally {
        lock.unlock();
    }
}

public E get(int index) {
    return get(getArray(), index); // æ— é”è¯»å–
}
```

**ğŸ¯ CopyOnWriteArrayList vs Collections.synchronizedListï¼Ÿ**

| **ç‰¹æ€§**     | **CopyOnWriteArrayList** | **Collections.synchronizedList** |
| ------------ | ------------------------ | -------------------------------- |
| **è¯»æ€§èƒ½**   | é«˜ï¼ˆæ— é”ï¼‰               | ä½ï¼ˆéœ€è¦åŒæ­¥ï¼‰                   |
| **å†™æ€§èƒ½**   | ä½ï¼ˆå¤åˆ¶æ•°ç»„ï¼‰           | ä¸­ç­‰                             |
| **å†…å­˜å ç”¨** | é«˜ï¼ˆå¯èƒ½æœ‰å¤šä¸ªå‰¯æœ¬ï¼‰     | æ­£å¸¸                             |
| **å®æ—¶æ€§**   | å¼±ä¸€è‡´æ€§                 | å¼ºä¸€è‡´æ€§                         |
| **è¿­ä»£å®‰å…¨** | å¤©ç„¶å®‰å…¨                 | éœ€è¦å¤–éƒ¨åŒæ­¥                     |

---

## ğŸ”§ äº”ã€é«˜çº§ç‰¹æ€§ä¸å®‰å…¨æœºåˆ¶

### 5.1 å¿«é€Ÿå¤±è´¥ä¸å®‰å…¨å¤±è´¥

**ğŸ¯ Javaå¿«é€Ÿå¤±è´¥ï¼ˆfail-fastï¼‰å’Œå®‰å…¨å¤±è´¥ï¼ˆfail-safeï¼‰åŒºåˆ«ï¼Ÿ**

**1. Fail-Fastï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰**

- **å®šä¹‰**ï¼šåœ¨è¿­ä»£é›†åˆæ—¶ï¼Œå¦‚æœå‘ç°é›†åˆè¢«ç»“æ„æ€§ä¿®æ”¹ï¼ˆadd/remove ç­‰ï¼‰ï¼Œä¼šç«‹åˆ»æŠ›å‡º `ConcurrentModificationException`ã€‚
- **åŸå› **ï¼šè¿­ä»£å™¨å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ª **modCountï¼ˆä¿®æ”¹æ¬¡æ•°ï¼‰**ï¼Œæ¯æ¬¡è¿­ä»£ä¼šæ ¡éªŒæ˜¯å¦å’ŒæœŸæœ›å€¼ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´å°±è®¤ä¸ºå‡ºç°å¹¶å‘ä¿®æ”¹ï¼Œç›´æ¥æŠ¥é”™ã€‚
- **å…¸å‹é›†åˆ**ï¼š`ArrayList`ã€`HashMap` ç­‰ã€‚
- **ç‰¹ç‚¹**ï¼š
  - æ£€æµ‹åˆ°å¹¶å‘ä¿®æ”¹ â†’ **ç«‹å³å¤±è´¥**ï¼Œé¿å…è¿”å›é”™è¯¯ç»“æœã€‚
  - ä¸èƒ½åœ¨éå†è¿‡ç¨‹ä¸­ä¿®æ”¹é›†åˆï¼Œé™¤éç”¨è¿­ä»£å™¨è‡ªå¸¦çš„ `remove()`ã€‚

**2. Fail-Safeï¼ˆå®‰å…¨å¤±è´¥ï¼‰**

- **å®šä¹‰**ï¼šåœ¨è¿­ä»£æ—¶å…è®¸é›†åˆè¢«ä¿®æ”¹ï¼Œä¿®æ”¹ä¸ä¼šå½±å“æ­£åœ¨è¿›è¡Œçš„è¿­ä»£ã€‚
- **åŸå› **ï¼šè¿­ä»£å™¨åŸºäº **é›†åˆçš„å‰¯æœ¬ï¼ˆå¿«ç…§ï¼‰** æ¥éå†ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¿é—®åŸé›†åˆã€‚
- **å…¸å‹é›†åˆ**ï¼š`CopyOnWriteArrayList`ã€`ConcurrentHashMap` ç­‰å¹¶å‘é›†åˆã€‚
- **ç‰¹ç‚¹**ï¼š
  - éå†æ—¶ä¸æŠ›å¼‚å¸¸ã€‚
  - ä¿®æ”¹ä¸ä¼šå½±å“å½“å‰éå†ç»“æœï¼Œä½†å¯èƒ½å¯¼è‡´æ•°æ® **ä¸å¯è§**ï¼ˆå› ä¸ºéå†çš„æ˜¯å‰¯æœ¬ï¼‰ã€‚
  - å†…å­˜å¼€é”€è¾ƒå¤§ï¼ˆéœ€è¦æ‹·è´æˆ–é¢å¤–çš„æ•°æ®ç»“æ„æ”¯æŒï¼‰ã€‚

**ğŸ¯ å¦‚ä½•é¿å…fail-fastï¼Ÿ**

- **åœ¨å•çº¿ç¨‹çš„éå†è¿‡ç¨‹ä¸­**ï¼Œå¦‚æœè¦è¿›è¡Œ remove æ“ä½œï¼Œå¯ä»¥è°ƒç”¨è¿­ä»£å™¨ ListIterator çš„ remove æ–¹æ³•è€Œä¸æ˜¯é›†åˆç±»çš„ removeæ–¹æ³•ã€‚

```java
public void remove() {
    if (lastRet < 0)
        throw new IllegalStateException();
    checkForComodification();

    try {
        SubList.this.remove(lastRet);
        cursor = lastRet;
        lastRet = -1;
        expectedModCount = ArrayList.this.modCount;  // å…³é”®ï¼šæ›´æ–°æœŸæœ›çš„modCount
    } catch (IndexOutOfBoundsException ex) {
        throw new ConcurrentModificationException();
    }
}
```

- **ä½¿ç”¨å¹¶å‘åŒ…**(`java.util.concurrent`)ä¸­çš„ç±»æ¥ä»£æ›¿ ArrayList å’Œ hashMap
  - CopyOnWriterArrayList ä»£æ›¿ ArrayList
  - ConcurrentHashMap ä»£æ›¿ HashMap

### 5.2 Iteratorè¯¦è§£

**ğŸ¯ Iterator å’Œ Enumeration åŒºåˆ«ï¼Ÿ**

åœ¨ Java é›†åˆä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éƒ½é€šè¿‡ "Iterator(è¿­ä»£å™¨)" æˆ– "Enumeration(æšä¸¾ç±»)" å»éå†é›†åˆã€‚

```java
public interface Enumeration<E> {
    boolean hasMoreElements();
    E nextElement();
}

public interface Iterator<E> {
    boolean hasNext();
    E next();
    void remove();
}
```

**ä¸»è¦åŒºåˆ«**ï¼š

- **å‡½æ•°æ¥å£ä¸åŒ**ï¼šEnumeration**åªæœ‰2ä¸ªå‡½æ•°æ¥å£ã€‚**é€šè¿‡Enumerationï¼Œæˆ‘ä»¬åªèƒ½è¯»å–é›†åˆçš„æ•°æ®ï¼Œè€Œä¸èƒ½å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚Iterator**åªæœ‰3ä¸ªå‡½æ•°æ¥å£ã€‚**Iteratoré™¤äº†èƒ½è¯»å–é›†åˆçš„æ•°æ®ä¹‹å¤–ï¼Œä¹Ÿèƒ½æ•°æ®è¿›è¡Œåˆ é™¤æ“ä½œã€‚

- **Iteratoræ”¯æŒ fail-fastæœºåˆ¶ï¼Œè€ŒEnumerationä¸æ”¯æŒ**ï¼šEnumeration æ˜¯ JDK 1.0 æ·»åŠ çš„æ¥å£ã€‚ä½¿ç”¨åˆ°å®ƒçš„å‡½æ•°åŒ…æ‹¬ Vectorã€Hashtable ç­‰ç±»ï¼Œè¿™äº›ç±»éƒ½æ˜¯ JDK 1.0ä¸­åŠ å…¥çš„ï¼ŒEnumeration å­˜åœ¨çš„ç›®çš„å°±æ˜¯ä¸ºå®ƒä»¬æä¾›éå†æ¥å£ã€‚è€Œ Iterator æ˜¯ JDK 1.2 æ‰æ·»åŠ çš„æ¥å£ï¼Œå®ƒä¹Ÿæ˜¯ä¸ºäº† HashMapã€ArrayList ç­‰é›†åˆæä¾›éå†æ¥å£ã€‚Iterator æ˜¯æ”¯æŒ fail-fast æœºåˆ¶çš„ã€‚

**ğŸ¯ Iterater å’Œ ListIterator ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**

- æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Iteratoræ¥éå† Set å’Œ List é›†åˆï¼Œè€Œ ListIterator åªèƒ½éå†List
- ListIteratoræœ‰addæ–¹æ³•ï¼Œå¯ä»¥å‘Listä¸­æ·»åŠ å¯¹è±¡ï¼Œè€ŒIteratorä¸èƒ½
- ListIteratorå’ŒIteratoréƒ½æœ‰hasNext()å’Œnext()æ–¹æ³•ï¼Œå¯ä»¥å®ç°é¡ºåºå‘åéå†ï¼Œä½†æ˜¯ListIteratoræœ‰hasPrevious()å’Œprevious()æ–¹æ³•ï¼Œå¯ä»¥å®ç°é€†å‘ï¼ˆé¡ºåºå‘å‰ï¼‰éå†ã€‚Iteratorä¸å¯ä»¥
- ListIteratorå¯ä»¥å®šä½å½“å‰ç´¢å¼•çš„ä½ç½®ï¼ŒnextIndex()å’ŒpreviousIndex()å¯ä»¥å®ç°ã€‚Iteratoræ²¡æœ‰æ­¤åŠŸèƒ½
- éƒ½å¯å®ç°åˆ é™¤æ“ä½œï¼Œä½†æ˜¯ ListIteratorå¯ä»¥å®ç°å¯¹è±¡çš„ä¿®æ”¹ï¼Œset()æ–¹æ³•å¯ä»¥å®ç°ã€‚Iteratorä»…èƒ½éå†ï¼Œä¸èƒ½ä¿®æ”¹

---

## âš¡ å…­ã€æ€§èƒ½ä¸ä¼˜åŒ–

### 6.1 æ—¶é—´å¤æ‚åº¦åˆ†æ

**ğŸ¯ å„ç§é›†åˆæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ï¼Ÿ**

| **é›†åˆç±»å‹**        | **get/contains** | **add**  | **remove** | **ç‰¹ç‚¹**   |
| ------------------- | ---------------- | -------- | ---------- | ---------- |
| **ArrayList**       | O(1)/O(n)        | O(1)     | O(n)       | éšæœºè®¿é—®å¿« |
| **LinkedList**      | O(n)             | O(1)     | O(1)       | æ’å…¥åˆ é™¤å¿« |
| **HashSet/HashMap** | O(1)             | O(1)     | O(1)       | å“ˆå¸Œè¡¨     |
| **TreeSet/TreeMap** | O(log n)         | O(log n) | O(log n)   | æœ‰åºç»“æ„   |
| **ArrayDeque**      | O(1)             | O(1)     | O(1)       | åŒç«¯é˜Ÿåˆ—   |

> [!CAUTION]
>
> - ArrayList addå¯èƒ½è§¦å‘æ‰©å®¹ï¼Œæœ€åO(n)
> - LinkedList removeéœ€è¦å…ˆæŸ¥æ‰¾ä½ç½®
> - HashMapæœ€åæƒ…å†µO(n)ï¼Œå¹³å‡O(1)
> - ArrayDequeä¸¤ç«¯æ“ä½œ



### 6.2 æœ€ä½³å®è·µ

**ğŸ¯ é›†åˆä½¿ç”¨çš„æœ€ä½³å®è·µï¼Ÿ**

```
1. å®¹é‡é¢„ä¼°ï¼š
   - ArrayList: new ArrayList<>(expectedSize)
   - HashMap: new HashMap<>(expectedSize / 0.75 + 1)

2. é€‰æ‹©åˆé€‚çš„é›†åˆï¼š
   - é¢‘ç¹éšæœºè®¿é—® -> ArrayList
   - é¢‘ç¹æ’å…¥åˆ é™¤ -> LinkedList
   - å»é‡ -> Set
   - æ’åº -> TreeSet/TreeMap
   - é«˜å¹¶å‘ -> ConcurrentHashMap

3. é¿å…è£…ç®±æ‹†ç®±ï¼š
   - ä½¿ç”¨primitiveé›†åˆï¼šTIntArrayListã€TLongHashSet

4. è¿­ä»£å™¨ä½¿ç”¨ï¼š
   - foreachä¼˜äºä¼ ç»Ÿforå¾ªç¯
   - åˆ é™¤å…ƒç´ ä½¿ç”¨Iterator.remove()

5. çº¿ç¨‹å®‰å…¨ï¼š
   - å•çº¿ç¨‹ï¼šArrayListã€HashMap
   - å¤šçº¿ç¨‹è¯»å¤šå†™å°‘ï¼šCopyOnWriteArrayList
   - å¤šçº¿ç¨‹é«˜å¹¶å‘ï¼šConcurrentHashMap
```

**æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹ï¼š**

```java
// 1. å®¹é‡é¢„ä¼°
List<String> list = new ArrayList<>(1000); // é¿å…æ‰©å®¹

// 2. æ‰¹é‡æ“ä½œ
list.addAll(Arrays.asList("a", "b", "c")); // ä¸€æ¬¡æ€§æ·»åŠ 

// 3. å®‰å…¨åˆ é™¤
Iterator<String> it = list.iterator();
while (it.hasNext()) {
    if (shouldRemove(it.next())) {
        it.remove(); // ä½¿ç”¨è¿­ä»£å™¨åˆ é™¤
    }
}

// 4. HashMapä¼˜åŒ–
Map<String, String> map = new HashMap<>(size / 0.75 + 1);
```

### 6.3 å…¶ä»–é‡è¦é¢è¯•é¢˜

**ğŸ¯ HashMap å’Œ Hashtable çš„åŒºåˆ«ï¼Ÿ**

| **ç‰¹æ€§**     | **HashMap**          | **Hashtable**      | **ConcurrentHashMap**    |
| ------------ | -------------------- | ------------------ | ------------------------ |
| **çº¿ç¨‹å®‰å…¨** | å¦                   | æ˜¯ï¼ˆsynchronizedï¼‰ | æ˜¯ï¼ˆCAS + synchronizedï¼‰ |
| **æ•ˆç‡**     | é«˜                   | ä½ï¼ˆå…¨è¡¨é”ï¼‰       | é«˜ï¼ˆåˆ†æ®µé”/æ¡¶é”ï¼‰        |
| **nullå€¼**   | keyå’Œvalueéƒ½å…è®¸null | éƒ½ä¸å…è®¸null       | éƒ½ä¸å…è®¸null             |
| **åˆå§‹å®¹é‡** | 16                   | 11                 | 16                       |
| **æ‰©å®¹æ–¹å¼** | 2å€                  | 2n+1               | 2å€                      |
| **å‡ºç°ç‰ˆæœ¬** | JDK 1.2              | JDK 1.0            | JDK 1.5                  |
| **è¿­ä»£å™¨**   | fail-fast            | fail-fast          | å¼±ä¸€è‡´æ€§                 |

**è¯¦ç»†å¯¹æ¯”**ï¼š

1. **çº¿ç¨‹å®‰å…¨**ï¼šHashtable å†…éƒ¨çš„æ–¹æ³•åŸºæœ¬éƒ½ç»è¿‡ `synchronized` ä¿®é¥°ï¼ŒHashMap æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚
2. **åˆå§‹å®¹é‡å’Œæ‰©å®¹**ï¼š
   - åˆ›å»ºæ—¶å¦‚æœä¸æŒ‡å®šå®¹é‡ï¼ŒHashtable é»˜è®¤ä¸º11ï¼ŒHashMapé»˜è®¤ä¸º16
   - Hashtable æ‰©å®¹ï¼šå®¹é‡å˜ä¸ºåŸæ¥çš„2n+1ï¼›HashMapæ‰©å®¹ï¼šå®¹é‡å˜ä¸ºåŸæ¥çš„2å€
   - HashMap æ€»æ˜¯ä½¿ç”¨2çš„å¹‚æ¬¡æ–¹ä½œä¸ºå“ˆå¸Œè¡¨çš„å¤§å°

**ğŸ¯ Comparable å’Œ Comparator æ¥å£æœ‰ä½•åŒºåˆ«ï¼Ÿ**

Java ä¸­å¯¹é›†åˆå¯¹è±¡æˆ–è€…æ•°ç»„å¯¹è±¡æ’åºï¼Œæœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š

**1. Comparableæ¥å£ï¼ˆå†…éƒ¨æ¯”è¾ƒå™¨ï¼‰**

- ä½äº `java.lang` åŒ…ä¸‹ï¼Œåªæœ‰ä¸€ä¸ªæ–¹æ³• `compareTo()`
- å®ç°äº† Comparable æ¥å£çš„ç±»å¯ä»¥è¿›è¡Œè‡ªç„¶æ’åº
- å®ç°äº†è¯¥æ¥å£çš„ List æˆ–æ•°ç»„å¯ä»¥ä½¿ç”¨ `Collections.sort()` æˆ– `Arrays.sort()` æ’åº

```java
public interface Comparable<T> {
    public int compareTo(T o);
}
```

**2. Comparatoræ¥å£ï¼ˆå¤–éƒ¨æ¯”è¾ƒå™¨ï¼‰**

- ä½äº `java.util` åŒ…ä¸‹ï¼Œä¸»è¦æ–¹æ³•æ˜¯ `compare()`
- å¯ä»¥åœ¨ç±»å¤–éƒ¨å®šä¹‰æ¯”è¾ƒè§„åˆ™ï¼Œä¸éœ€è¦ä¿®æ”¹ç±»æœ¬èº«

```java
public interface Comparator<T> {
    public int compare(T lhs, T rhs);
    public boolean equals(Object object);
}
```

**ä½¿ç”¨åœºæ™¯å¯¹æ¯”**ï¼š

| **ç‰¹æ€§**     | **Comparable**         | **Comparator**         |
| ------------ | ---------------------- | ---------------------- |
| **å®ç°ä½ç½®** | ç±»å†…éƒ¨                 | ç±»å¤–éƒ¨                 |
| **åŒ…ä½ç½®**   | java.lang              | java.util              |
| **æ–¹æ³•**     | compareTo()            | compare()              |
| **ä½¿ç”¨åœºæ™¯** | è‡ªç„¶æ’åºï¼Œä¸€ç§æ’åºè§„åˆ™ | å®šåˆ¶æ’åºï¼Œå¤šç§æ’åºè§„åˆ™ |
| **ä¿®æ”¹åŸç±»** | éœ€è¦                   | ä¸éœ€è¦                 |

**ğŸ¯ HashSet åº•å±‚å®ç°åŸç†ï¼Ÿ**

HashSet çš„åº•å±‚å…¶å®å°±æ˜¯ HashMapï¼Œåªä¸è¿‡ **HashSet æ˜¯å®ç°äº† Set æ¥å£å¹¶ä¸”æŠŠæ•°æ®ä½œä¸º K å€¼ï¼Œè€Œ V å€¼ä¸€ç›´ä½¿ç”¨ä¸€ä¸ªç›¸åŒçš„è™šå€¼æ¥ä¿å­˜**ã€‚

```java
public class HashSet<E> {
    private transient HashMap<E,Object> map;
    private static final Object PRESENT = new Object();
    
    public boolean add(E e) {
        return map.put(e, PRESENT)==null;
    }
}
```

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š

- HashMapçš„ K å€¼æœ¬èº«å°±ä¸å…è®¸é‡å¤
- å¦‚æœ K/V ç›¸åŒæ—¶ï¼Œä¼šç”¨æ–°çš„ V è¦†ç›–æ‰æ—§çš„ Vï¼Œç„¶åè¿”å›æ—§çš„ V
- åˆ©ç”¨HashMapçš„keyå”¯ä¸€æ€§ä¿è¯Setçš„ä¸é‡å¤ç‰¹æ€§

---

## ğŸ¯ é«˜é¢‘é¢è¯•é¢˜æ±‡æ€»

### æ ¸å¿ƒå¿…è€ƒé¢˜ï¼ˆâ­â­â­ï¼‰

1. **è¯´è¯´å¸¸ç”¨çš„é›†åˆæœ‰å“ªäº›ï¼Ÿ**
2. **HashMapåº•å±‚å®ç°åŸç†å’ŒJDK1.8ä¼˜åŒ–**
3. **HashMapä¸­keyéœ€è¦é‡å†™hashCode()å’Œequals()å—ï¼Ÿ**
4. **HashMapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ**
5. **ArrayList vs LinkedListä½¿ç”¨åœºæ™¯å’Œæ€§èƒ½å¯¹æ¯”**
6. **ConcurrentHashMapå®ç°åŸç†å’ŒJDKç‰ˆæœ¬å·®å¼‚**
7. **HashSetå¦‚ä½•ä¿è¯å…ƒç´ ä¸é‡å¤ï¼Ÿ**

### è¿›é˜¶æ·±å…¥é¢˜ï¼ˆâ­â­ï¼‰

8. **HashMapçš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Ÿ**
9. **HashMapæ‰©å®¹æœºåˆ¶å’Œè´Ÿè½½å› å­çš„ä½œç”¨**
10. **ä¸ºä»€ä¹ˆJDK1.8ä¸­HashMapä»å¤´æ’å…¥æ”¹æˆå°¾æ’å…¥ï¼Ÿ**
11. **çº¢é»‘æ ‘è½¬æ¢æ¡ä»¶å’Œæ„ä¹‰**
12. **CopyOnWriteArrayListé€‚ç”¨åœºæ™¯å’Œç¼ºç‚¹**
13. **HashMap vs Hashtable vs ConcurrentHashMapåŒºåˆ«**
14. **å¿«é€Ÿå¤±è´¥(fail-fast)å’Œå®‰å…¨å¤±è´¥(fail-safe)æœºåˆ¶**
15. **LinkedHashMapå®ç°LRUç¼“å­˜**

### åº”ç”¨å®è·µé¢˜ï¼ˆâ­ï¼‰

16. **å¦‚ä½•é€‰æ‹©åˆé€‚çš„é›†åˆç±»å‹ï¼Ÿ**
17. **é›†åˆæ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•**
18. **å¤šçº¿ç¨‹ç¯å¢ƒä¸‹é›†åˆçš„ä½¿ç”¨æ³¨æ„äº‹é¡¹**
19. **è‡ªå®šä¹‰å¯¹è±¡ä½œä¸ºHashMap keyçš„æ³¨æ„äº‹é¡¹**
20. **é›†åˆéå†å’Œåˆ é™¤çš„æœ€ä½³å®è·µ**
21. **Iterator vs Enumeration vs ListIteratoråŒºåˆ«**
22. **Comparable vs ComparatoråŒºåˆ«å’Œä½¿ç”¨åœºæ™¯**

---

## ğŸ“ é¢è¯•è¯æœ¯æ¨¡æ¿

### å›ç­”æ¡†æ¶

```
1. æ¦‚å¿µå®šä¹‰ï¼ˆ30ç§’ï¼‰
   - ç®€è¦è¯´æ˜æ˜¯ä»€ä¹ˆ

2. æ ¸å¿ƒåŸç†ï¼ˆ60ç§’ï¼‰
   - åº•å±‚å®ç°æœºåˆ¶
   - å…³é”®æ•°æ®ç»“æ„

3. ç‰¹æ€§åˆ†æï¼ˆ30ç§’ï¼‰
   - ä¼˜ç¼ºç‚¹å¯¹æ¯”
   - æ—¶é—´å¤æ‚åº¦

4. ä½¿ç”¨åœºæ™¯ï¼ˆ30ç§’ï¼‰
   - ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨
   - æ³¨æ„äº‹é¡¹

5. æ·±å…¥æ‰©å±•ï¼ˆå¯é€‰ï¼‰
   - æºç ç»†èŠ‚
   - æ€§èƒ½ä¼˜åŒ–
   - æœ€ä½³å®è·µ
```

### å…³é”®è¯æœ¯

- **HashMapåŸç†**ï¼š"HashMapåº•å±‚åŸºäºæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å®ç°ï¼ŒJDK1.8è¿›è¡Œäº†é‡è¦ä¼˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äº8æ—¶è½¬æ¢ä¸ºçº¢é»‘æ ‘..."

- **çº¿ç¨‹å®‰å…¨**ï¼š"HashMapçº¿ç¨‹ä¸å®‰å…¨ä¸»è¦è¡¨ç°åœ¨æ•°æ®ä¸¢å¤±å’Œæ­»å¾ªç¯ï¼Œè§£å†³æ–¹æ¡ˆæœ‰ä½¿ç”¨ConcurrentHashMapæˆ–Collections.synchronizedMap..."

- **æ€§èƒ½å¯¹æ¯”**ï¼š"ArrayListå’ŒLinkedListå„æœ‰ä¼˜åŠ¿ï¼ŒArrayListé€‚åˆéšæœºè®¿é—®ï¼ŒLinkedListé€‚åˆé¢‘ç¹æ’å…¥åˆ é™¤ï¼Œé€‰æ‹©ä¾æ®ä¸»è¦æ˜¯æ“ä½œç‰¹ç‚¹..."

- **å¹¶å‘é›†åˆ**ï¼š"ConcurrentHashMapé€šè¿‡åˆ†æ®µé”(JDK1.7)å’ŒCAS+synchronized(JDK1.8)å®ç°é«˜å¹¶å‘ï¼Œç›¸æ¯”Hashtableæ€§èƒ½æ›´å¥½..."

- **æ‰©å®¹æœºåˆ¶**ï¼š"HashMapé»˜è®¤åˆå§‹å®¹é‡16ï¼Œè´Ÿè½½å› å­0.75ï¼Œæ‰©å®¹æ—¶å®¹é‡ç¿»å€ï¼ŒJDK1.8ä¼˜åŒ–äº†æ‰©å®¹ç®—æ³•..."

- **æ•°æ®ç»“æ„é€‰æ‹©**ï¼š"æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©ï¼šéœ€è¦å»é‡ç”¨Setï¼Œéœ€è¦æ’åºç”¨TreeSetï¼Œé«˜å¹¶å‘ç”¨ConcurrentHashMap..."



### é¢è¯•å‡†å¤‡æ¸…å•

**ğŸ“‹ å¿…å¤‡å›¾è¡¨**

- [ ] ç”»å‡ºHashMapæ•°æ®ç»“æ„å›¾ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰
- [ ] å‡†å¤‡ConcurrentHashMap JDKç‰ˆæœ¬å¯¹æ¯”è¡¨
- [ ] æ€»ç»“å„ç§é›†åˆçš„ä½¿ç”¨åœºæ™¯è¡¨æ ¼
- [ ] æ•´ç†é›†åˆç±»ç»§æ‰¿å…³ç³»å›¾

**ğŸ’» å®æˆ˜ç»ƒä¹ **

- [ ] æ‰‹å†™LRUç¼“å­˜ï¼ˆåŸºäºLinkedHashMapï¼‰
- [ ] å®ç°çº¿ç¨‹å®‰å…¨çš„ArrayList
- [ ] åˆ†æHashMapæ­»å¾ªç¯é—®é¢˜ï¼ˆJDK1.7ï¼‰
- [ ] æ€§èƒ½æµ‹è¯•å¯¹æ¯”ä¸åŒé›†åˆç±»å‹

**ğŸ¯ æ ¸å¿ƒç®—æ³•**

- [ ] HashMapçš„hashå‡½æ•°å®ç°
- [ ] HashMapçš„putå’Œgetæµç¨‹
- [ ] ConcurrentHashMapçš„åˆ†æ®µé”åŸç†
- [ ] ArrayListçš„æ‰©å®¹æœºåˆ¶

**ğŸ“š æ¨èèµ„æº**

- ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ã€‹ç¬¬ä¹ç« ï¼šé›†åˆ
- ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ï¼šå¹¶å‘é›†åˆéƒ¨åˆ†
- HashMapæºç åˆ†ææ–‡ç« 
- ConcurrentHashMapæºç è§£è¯»

---

## ğŸ‰ æ€»ç»“

> **Javaé›†åˆæ¡†æ¶é¢è¯•æˆåŠŸç§˜è¯€**
>
> 1. **æŒæ¡æ ¸å¿ƒåŸç†**ï¼šHashMapã€ConcurrentHashMapã€ArrayListæ˜¯é‡ä¸­ä¹‹é‡
> 2. **ç†è§£è®¾è®¡æ€æƒ³**ï¼šä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
> 3. **å…³æ³¨ç‰ˆæœ¬å·®å¼‚**ï¼šJDK1.7 vs JDK1.8çš„é‡è¦å˜åŒ–
> 4. **ç»“åˆå®é™…åº”ç”¨**ï¼šä»€ä¹ˆåœºæ™¯ç”¨ä»€ä¹ˆé›†åˆï¼Ÿæ€§èƒ½å¦‚ä½•ä¼˜åŒ–ï¼Ÿ
> 5. **å‡†å¤‡ä»£ç ç¤ºä¾‹**ï¼šèƒ½æ‰‹å†™å…³é”®ç®—æ³•ï¼Œèƒ½åˆ†ææºç 
>
> **è®°ä½ï¼šé›†åˆæ¡†æ¶ä¸ä»…æ˜¯æ•°æ®ç»“æ„ï¼Œæ›´æ˜¯è§£å†³å®é™…é—®é¢˜çš„å·¥å…·ã€‚æ·±å…¥ç†è§£åŸç†ï¼Œæ‰èƒ½åœ¨é¢è¯•ä¸­æ¸¸åˆƒæœ‰ä½™ï¼Œåœ¨å®é™…å¼€å‘ä¸­é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆã€‚**

