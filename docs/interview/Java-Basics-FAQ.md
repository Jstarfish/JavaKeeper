---
title: Java åŸºç¡€å…«è‚¡æ–‡ 
date: 2024-08-31
tags: 
 - Java
 - Interview
categories: Interview
---

![](https://img.starfish.ink/common/faq-banner.png)

> JavaåŸºç¡€æ˜¯æ‰€æœ‰Javaå¼€å‘è€…çš„**æ ¹åŸº**ï¼Œä¹Ÿæ˜¯é¢è¯•å®˜è€ƒå¯Ÿçš„**é‡ä¸­ä¹‹é‡**ã€‚ä»é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§åˆ°æ³›å‹æ“¦é™¤æœºåˆ¶ï¼Œä»å¼‚å¸¸å¤„ç†åˆ°åå°„åŸç†ï¼Œæ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹éƒ½å¯èƒ½æˆä¸ºé¢è¯•çš„å…³é”®ã€‚æœ¬æ–‡æ¡£å°†**æœ€å¸¸è€ƒçš„JavaåŸºç¡€**æ•´ç†æˆ**æ ‡å‡†è¯æœ¯**ï¼Œè®©ä½ åœ¨é¢è¯•ä¸­å¯¹ç­”å¦‚æµï¼

### ğŸ”¥ ä¸ºä»€ä¹ˆJavaåŸºç¡€å¦‚æ­¤é‡è¦ï¼Ÿ

- **ğŸ“ˆ é¢è¯•å¿…è€ƒ**ï¼š95%çš„Javaå²—éƒ½ä¼šæ·±æŒ–åŸºç¡€
- **ğŸ§  æ€ç»´ä½“ç°**ï¼šä½“ç°ä½ å¯¹Javaè¯­è¨€çš„æ·±åº¦ç†è§£  
- **ğŸ’¼ å·¥ä½œåŸºç¡€**ï¼šæ—¥å¸¸å¼€å‘ä¸­æ— å¤„ä¸åœ¨çš„æ ¸å¿ƒæ¦‚å¿µ
- **ğŸ“ è¿›é˜¶å‰æ**ï¼šæ¡†æ¶ã€ä¸­é—´ä»¶éƒ½å»ºç«‹åœ¨åŸºç¡€ä¹‹ä¸Š

---

## ğŸ—ºï¸ çŸ¥è¯†å¯¼èˆª

### ğŸ·ï¸ æ ¸å¿ƒçŸ¥è¯†åˆ†ç±»

1. **ğŸ”¥ é¢å‘å¯¹è±¡ç¼–ç¨‹**ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€æŠ½è±¡ç±»ã€æ¥å£ã€å†…éƒ¨ç±»
2. **ğŸ“Š æ•°æ®ç±»å‹ä½“ç³»**ï¼šåŸºæœ¬ç±»å‹ã€åŒ…è£…ç±»ã€è‡ªåŠ¨è£…ç®±æ‹†ç®±ã€ç±»å‹è½¬æ¢
3. **ğŸ”¤ å­—ç¬¦ä¸²å¤„ç†**ï¼šStringã€StringBuilderã€StringBufferã€å­—ç¬¦ä¸²å¸¸é‡æ± 
4. **âš ï¸ å¼‚å¸¸å¤„ç†æœºåˆ¶**ï¼šå¼‚å¸¸ä½“ç³»ã€try-catch-finallyã€å¼‚å¸¸ä¼ æ’­ã€è‡ªå®šä¹‰å¼‚å¸¸
5. **ğŸ¯ æ³›å‹æœºåˆ¶**ï¼šæ³›å‹è¯­æ³•ã€ç±»å‹æ“¦é™¤ã€é€šé…ç¬¦ã€æ³›å‹è¾¹ç•Œ
6. **ğŸª åå°„æœºåˆ¶**ï¼šClasså¯¹è±¡ã€åŠ¨æ€ä»£ç†ã€æ³¨è§£å¤„ç†ã€åå°„æ€§èƒ½
7. **ğŸ“ IOæµä½“ç³»**ï¼šå­—èŠ‚æµã€å­—ç¬¦æµã€ç¼“å†²æµã€NIOåŸºç¡€
8. **ğŸ†• Javaæ–°ç‰¹æ€§**ï¼šLambdaè¡¨è¾¾å¼ã€Stream APIã€Optionalã€å‡½æ•°å¼æ¥å£



### ğŸ”‘ é¢è¯•è¯æœ¯æ¨¡æ¿

| **é—®é¢˜ç±»å‹** | **å›ç­”æ¡†æ¶**                        | **å…³é”®è¦ç‚¹**       | **æ·±å…¥æ‰©å±•**       |
| ------------ | ----------------------------------- | ------------------ | ------------------ |
| **æ¦‚å¿µè§£é‡Š** | å®šä¹‰â†’ç‰¹ç‚¹â†’åº”ç”¨åœºæ™¯â†’ç¤ºä¾‹             | å‡†ç¡®å®šä¹‰ï¼Œçªå‡ºç‰¹ç‚¹ | åº•å±‚åŸç†ï¼Œæºç åˆ†æ |
| **å¯¹æ¯”åˆ†æ** | ç›¸åŒç‚¹â†’ä¸åŒç‚¹â†’ä½¿ç”¨åœºæ™¯â†’é€‰æ‹©å»ºè®®     | å¤šç»´åº¦å¯¹æ¯”         | æ€§èƒ½å·®å¼‚ï¼Œå®é™…åº”ç”¨ |
| **åŸç†è§£æ** | èƒŒæ™¯â†’å®ç°æœºåˆ¶â†’æ‰§è¡Œæµç¨‹â†’æ³¨æ„äº‹é¡¹     | å›¾è§£æµç¨‹           | æºç å®ç°ï¼ŒJVMå±‚é¢  |
| **åº”ç”¨å®è·µ** | é—®é¢˜åœºæ™¯â†’è§£å†³æ–¹æ¡ˆâ†’ä»£ç å®ç°â†’ä¼˜åŒ–å»ºè®® | å®é™…æ¡ˆä¾‹           | æœ€ä½³å®è·µï¼Œè¸©å‘ç»éªŒ |

---

## ğŸ”¥ ä¸€ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPæ ¸å¿ƒï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šå°†ç°å®ä¸–ç•Œçš„äº‹ç‰©æŠ½è±¡ä¸ºå¯¹è±¡ï¼Œé€šè¿‡ç±»å’Œå¯¹è±¡æ¥ç»„ç»‡ä»£ç ï¼Œå®ç°é«˜å†…èšã€ä½è€¦åˆçš„ç¨‹åºè®¾è®¡ã€‚

### ğŸ¯ JDKã€JREã€JVMçš„åŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "JDKã€JREã€JVMæ˜¯JavaæŠ€æœ¯ä½“ç³»çš„ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š
>
> **JVMï¼ˆJava Virtual Machineï¼‰**ï¼š
>
> - Javaè™šæ‹Ÿæœºï¼Œæ˜¯æ•´ä¸ªJavaå®ç°è·¨å¹³å°çš„æœ€æ ¸å¿ƒéƒ¨åˆ†
> - è´Ÿè´£å­—èŠ‚ç çš„è§£é‡Šæ‰§è¡Œï¼Œæä¾›å†…å­˜ç®¡ç†ã€åƒåœ¾å›æ”¶ç­‰åŠŸèƒ½
> - ä¸åŒæ“ä½œç³»ç»Ÿæœ‰å¯¹åº”çš„JVMå®ç°ï¼Œä½†å¯¹ä¸Šå±‚é€æ˜
>
> **JREï¼ˆJava Runtime Environmentï¼‰**ï¼š
>
> - Javaè¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒ…å«JVMå’ŒJavaæ ¸å¿ƒç±»åº“
> - æ˜¯è¿è¡ŒJavaç¨‹åºæ‰€å¿…éœ€çš„æœ€å°ç¯å¢ƒ
> - åŒ…æ‹¬JVMæ ‡å‡†å®ç°åŠJavaåŸºç¡€ç±»åº“ï¼ˆå¦‚java.langã€java.utilç­‰ï¼‰
>
> **JDKï¼ˆJava Development Kitï¼‰**ï¼š
>
> - Javaå¼€å‘å·¥å…·åŒ…ï¼ŒåŒ…å«JREä»¥åŠå¼€å‘å·¥å…·
> - æä¾›ç¼–è¯‘å™¨javacã€è°ƒè¯•å™¨jdbã€æ–‡æ¡£ç”Ÿæˆå™¨javadocç­‰
> - å¼€å‘Javaç¨‹åºå¿…é¡»å®‰è£…JDKï¼Œè€Œè¿è¡ŒJavaç¨‹åºåªéœ€JRE
>
> ç®€å•è¯´ï¼šJDKåŒ…å«JREï¼ŒJREåŒ…å«JVMï¼Œå¼€å‘ç”¨JDKï¼Œè¿è¡Œç”¨JREï¼Œæ‰§è¡Œé JVMã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
public class JavaEnvironmentDemo {
    
    public static void main(String[] args) {
        // è·å–Javaç¯å¢ƒä¿¡æ¯
        System.out.println("=== Java Environment Info ===");
        
        // JVMç›¸å…³ä¿¡æ¯
        System.out.println("JVM Name: " + System.getProperty("java.vm.name"));
        System.out.println("JVM Version: " + System.getProperty("java.vm.version"));
        System.out.println("JVM Vendor: " + System.getProperty("java.vm.vendor"));
        
        // JREç›¸å…³ä¿¡æ¯
        System.out.println("Java Version: " + System.getProperty("java.version"));
        System.out.println("Java Home: " + System.getProperty("java.home"));
        
        // è¿è¡Œæ—¶ç¯å¢ƒä¿¡æ¯
        Runtime runtime = Runtime.getRuntime();
        System.out.println("Available Processors: " + runtime.availableProcessors());
        System.out.println("Max Memory: " + runtime.maxMemory() / 1024 / 1024 + " MB");
        System.out.println("Total Memory: " + runtime.totalMemory() / 1024 / 1024 + " MB");
        System.out.println("Free Memory: " + runtime.freeMemory() / 1024 / 1024 + " MB");
        
        // æ“ä½œç³»ç»Ÿä¿¡æ¯
        System.out.println("OS Name: " + System.getProperty("os.name"));
        System.out.println("OS Version: " + System.getProperty("os.version"));
        System.out.println("OS Architecture: " + System.getProperty("os.arch"));
        
        // Class Pathä¿¡æ¯
        System.out.println("Class Path: " + System.getProperty("java.class.path"));
    }
}

/*
 * JDKã€JREã€JVMçš„å±‚æ¬¡å…³ç³»ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ JDK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ JRE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
 * â”‚  â”‚  â”Œâ”€â”€â”€ JVM â”€â”€â”€â”           â”‚     â”‚
 * â”‚  â”‚  â”‚           â”‚           â”‚     â”‚
 * â”‚  â”‚  â”‚  å­—èŠ‚ç    â”‚  Javaæ ¸å¿ƒ  â”‚ å¼€å‘ â”‚
 * â”‚  â”‚  â”‚  æ‰§è¡Œå¼•æ“ â”‚  ç±»åº“      â”‚ å·¥å…· â”‚
 * â”‚  â”‚  â”‚  å†…å­˜ç®¡ç† â”‚  (rt.jar)  â”‚     â”‚
 * â”‚  â”‚  â”‚  åƒåœ¾å›æ”¶ â”‚           â”‚     â”‚
 * â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚     â”‚
 * â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * å¼€å‘å·¥å…·åŒ…æ‹¬ï¼š
 * - javac: ç¼–è¯‘å™¨
 * - java: è¿è¡Œå™¨  
 * - javadoc: æ–‡æ¡£ç”Ÿæˆ
 * - jar: æ‰“åŒ…å·¥å…·
 * - jdb: è°ƒè¯•å™¨
 * - jconsole: ç›‘æ§å·¥å…·
 */
```

### ğŸ¯ Classå’ŒObjectçš„åŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Classå’ŒObjectæœ‰æœ¬è´¨åŒºåˆ«ï¼š
>
> **Classï¼ˆç±»ï¼‰**ï¼š
>
> - æ˜¯å¯¹è±¡çš„æ¨¡æ¿æˆ–è“å›¾ï¼Œå®šä¹‰äº†å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸º
> - åœ¨Javaä¸­æœ‰ä¸¤é‡å«ä¹‰ï¼šä¸€æ˜¯æˆ‘ä»¬å®šä¹‰çš„Javaç±»ï¼ŒäºŒæ˜¯java.lang.Classç±»
> - java.lang.Classä¿å­˜äº†Javaç±»çš„å…ƒä¿¡æ¯ï¼Œä¸»è¦ç”¨äºåå°„æ“ä½œ
> - é€šè¿‡Classå¯ä»¥è·å–ç±»çš„å­—æ®µã€æ–¹æ³•ã€æ„é€ å™¨ç­‰å…ƒæ•°æ®
>
> **Objectï¼ˆå¯¹è±¡ï¼‰**ï¼š
>
> - æ˜¯ç±»çš„å…·ä½“å®ä¾‹ï¼Œæ˜¯ç±»åœ¨å†…å­˜ä¸­çš„å…·ä½“è¡¨ç°
> - java.lang.Objectæ˜¯æ‰€æœ‰Javaç±»çš„æ ¹çˆ¶ç±»ï¼ŒåŒ…æ‹¬Classç±»æœ¬èº«
> - æä¾›äº†åŸºç¡€æ–¹æ³•å¦‚equals()ã€hashCode()ã€toString()ç­‰
>
> **å…³ç³»æ€»ç»“**ï¼šç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ï¼›Classç±»ç”¨äºåå°„è·å–ç±»ä¿¡æ¯ï¼ŒObjectç±»æ˜¯æ‰€æœ‰ç±»çš„åŸºç±»ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
import java.lang.reflect.*;

public class ClassObjectDemo {
    
    public static void main(String[] args) throws Exception {
        // 1. æ¼”ç¤ºClasså’ŒObjectçš„å…³ç³»
        demonstrateClassObjectRelation();
        
        // 2. Classç±»çš„ä½¿ç”¨ï¼ˆåå°„ï¼‰
        demonstrateClassUsage();
        
        // 3. Objectç±»çš„æ–¹æ³•
        demonstrateObjectMethods();
    }
    
    // Classå’ŒObjectå…³ç³»æ¼”ç¤º
    public static void demonstrateClassObjectRelation() {
        System.out.println("=== Class and Object Relation ===");
        
        // åˆ›å»ºStudentå¯¹è±¡
        Student student1 = new Student("Alice", 20);
        Student student2 = new Student("Bob", 22);
        
        // è·å–Classå¯¹è±¡çš„ä¸‰ç§æ–¹å¼
        Class<?> clazz1 = student1.getClass();      // é€šè¿‡å¯¹è±¡
        Class<?> clazz2 = Student.class;            // é€šè¿‡ç±»å­—é¢é‡
        try {
            Class<?> clazz3 = Class.forName("Student"); // é€šè¿‡ç±»å
            System.out.println("All Class objects are same: " + 
                (clazz1 == clazz2 && clazz2 == clazz3));
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
        
        // Classå¯¹è±¡çš„ä¿¡æ¯
        System.out.println("Class name: " + clazz1.getName());
        System.out.println("Simple name: " + clazz1.getSimpleName());
        System.out.println("Package: " + clazz1.getPackage());
        
        // Objectçš„åŸºæœ¬ä¿¡æ¯
        System.out.println("student1 class: " + student1.getClass().getSimpleName());
        System.out.println("student1 hash: " + student1.hashCode());
        System.out.println("student1 string: " + student1.toString());
    }
    
    // Classç±»çš„åå°„ä½¿ç”¨
    public static void demonstrateClassUsage() {
        System.out.println("\n=== Class Usage (Reflection) ===");
        
        try {
            Class<?> studentClass = Student.class;
            
            // è·å–æ„é€ å™¨
            Constructor<?>[] constructors = studentClass.getConstructors();
            System.out.println("Constructors count: " + constructors.length);
            
            // è·å–å­—æ®µ
            Field[] fields = studentClass.getDeclaredFields();
            System.out.println("Fields:");
            for (Field field : fields) {
                System.out.println("  " + field.getType().getSimpleName() + " " + field.getName());
            }
            
            // è·å–æ–¹æ³•
            Method[] methods = studentClass.getDeclaredMethods();
            System.out.println("Methods:");
            for (Method method : methods) {
                System.out.println("  " + method.getName() + "()");
            }
            
            // é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡
            Constructor<?> constructor = studentClass.getConstructor(String.class, int.class);
            Object studentObj = constructor.newInstance("Charlie", 21);
            System.out.println("Created by reflection: " + studentObj);
            
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    
    // Objectç±»æ–¹æ³•æ¼”ç¤º
    public static void demonstrateObjectMethods() {
        System.out.println("\n=== Object Methods ===");
        
        Student s1 = new Student("David", 23);
        Student s2 = new Student("David", 23);
        Student s3 = s1;
        
        // equalsæ–¹æ³•
        System.out.println("s1.equals(s2): " + s1.equals(s2));  // trueï¼ˆé‡å†™äº†equalsï¼‰
        System.out.println("s1.equals(s3): " + s1.equals(s3));  // true
        System.out.println("s1 == s3: " + (s1 == s3));          // trueï¼ˆåŒä¸€å¯¹è±¡ï¼‰
        
        // hashCodeæ–¹æ³•
        System.out.println("s1.hashCode(): " + s1.hashCode());
        System.out.println("s2.hashCode(): " + s2.hashCode());
        System.out.println("HashCodes equal: " + (s1.hashCode() == s2.hashCode()));
        
        // toStringæ–¹æ³•
        System.out.println("s1.toString(): " + s1.toString());
        
        // getClassæ–¹æ³•
        System.out.println("s1.getClass(): " + s1.getClass());
        
        // æ¼”ç¤ºObjectå…¶ä»–æ–¹æ³•
        try {
            // wait/notifyéœ€è¦åœ¨synchronizedå—ä¸­
            synchronized (s1) {
                System.out.println("Object methods like wait/notify require synchronization");
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}

// ç¤ºä¾‹å­¦ç”Ÿç±»
class Student {
    private String name;
    private int age;
    
    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    // é‡å†™Objectçš„æ–¹æ³•
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Student student = (Student) obj;
        return age == student.age && java.util.Objects.equals(name, student.name);
    }
    
    @Override
    public int hashCode() {
        return java.util.Objects.hash(name, age);
    }
    
    @Override
    public String toString() {
        return "Student{name='" + name + "', age=" + age + "}";
    }
    
    // getteræ–¹æ³•
    public String getName() { return name; }
    public int getAge() { return age; }
}
```

### ğŸ¯ è¯·è§£é‡Šé¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§ï¼š**å°è£…ã€ç»§æ‰¿ã€å¤šæ€**ã€‚
>
> **å°è£…ï¼ˆEncapsulationï¼‰**ï¼šå°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•ç»‘å®šåœ¨ä¸€èµ·ï¼Œé€šè¿‡è®¿é—®ä¿®é¥°ç¬¦æ§åˆ¶å¤–éƒ¨å¯¹å†…éƒ¨æ•°æ®çš„è®¿é—®ï¼Œéšè—å®ç°ç»†èŠ‚ï¼Œåªæš´éœ²å¿…è¦çš„æ¥å£ã€‚è¿™æ ·å¯ä»¥ä¿æŠ¤æ•°æ®å®‰å…¨ï¼Œé™ä½æ¨¡å—é—´è€¦åˆåº¦ã€‚
>
> **ç»§æ‰¿ï¼ˆInheritanceï¼‰**ï¼šå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå®ç°ä»£ç å¤ç”¨ã€‚Javaæ”¯æŒå•ç»§æ‰¿ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†å¯ä»¥é€šè¿‡æ¥å£å®ç°å¤šé‡ç»§æ‰¿çš„æ•ˆæœã€‚ç»§æ‰¿ä½“ç°äº†'is-a'çš„å…³ç³»ã€‚
>
> **å¤šæ€ï¼ˆPolymorphismï¼‰**ï¼šåŒä¸€ä¸ªæ¥å£å¯ä»¥æœ‰å¤šç§ä¸åŒçš„å®ç°æ–¹å¼ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€å†³å®šè°ƒç”¨å“ªä¸ªå…·ä½“å®ç°ã€‚Javaä¸­å¤šæ€é€šè¿‡æ–¹æ³•é‡å†™å’Œæ¥å£å®ç°æ¥ä½“ç°ï¼Œè¿è¡Œæ—¶ç»‘å®šç¡®ä¿è°ƒç”¨æ­£ç¡®çš„æ–¹æ³•ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
// å°è£…ç¤ºä¾‹
public class Account {
    private double balance;  // ç§æœ‰å­—æ®µï¼Œå¤–éƒ¨ä¸èƒ½ç›´æ¥è®¿é—®
    
    public void deposit(double amount) {  // å…¬å…±æ–¹æ³•ï¼Œæä¾›å®‰å…¨çš„æ“ä½œæ¥å£
        if (amount > 0) {
            balance += amount;
        }
    }
    
    public double getBalance() {  // getteræ–¹æ³•ï¼Œæ§åˆ¶æ•°æ®è®¿é—®
        return balance;
    }
}

// ç»§æ‰¿ç¤ºä¾‹
class Animal {
    protected String name;
    
    public void eat() {
        System.out.println(name + " is eating");
    }
}

class Dog extends Animal {  // ç»§æ‰¿Animalç±»
    public void bark() {    // å­ç±»ç‰¹æœ‰æ–¹æ³•
        System.out.println(name + " is barking");
    }
    
    @Override
    public void eat() {     // æ–¹æ³•é‡å†™
        System.out.println(name + " is eating dog food");
    }
}

// å¤šæ€ç¤ºä¾‹
interface Shape {
    double getArea();
}

class Circle implements Shape {
    private double radius;
    
    public Circle(double radius) {
        this.radius = radius;
    }
    
    @Override
    public double getArea() {
        return Math.PI * radius * radius;
    }
}

class Rectangle implements Shape {
    private double width, height;
    
    public Rectangle(double width, double height) {
        this.width = width;
        this.height = height;
    }
    
    @Override
    public double getArea() {
        return width * height;
    }
}

// å¤šæ€çš„ä½¿ç”¨
public class PolymorphismDemo {
    public static void printArea(Shape shape) {  // å‚æ•°ç±»å‹æ˜¯æ¥å£
        System.out.println("Area: " + shape.getArea());  // è¿è¡Œæ—¶åŠ¨æ€ç»‘å®š
    }
    
    public static void main(String[] args) {
        Shape circle = new Circle(5);
        Shape rectangle = new Rectangle(4, 6);
        
        printArea(circle);     // è¾“å‡ºåœ†çš„é¢ç§¯
        printArea(rectangle);  // è¾“å‡ºçŸ©å½¢çš„é¢ç§¯
    }
}
```

### ğŸ¯ Overloadå’ŒOverrideçš„åŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Overloadï¼ˆé‡è½½ï¼‰å’ŒOverrideï¼ˆé‡å†™ï¼‰æ˜¯Javaé¢å‘å¯¹è±¡çš„ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼š
>
> **Overloadï¼ˆæ–¹æ³•é‡è½½ï¼‰**ï¼š
>
> - åŒä¸€ä¸ªç±»ä¸­å¤šä¸ªæ–¹æ³•åç›¸åŒï¼Œä½†å‚æ•°ä¸åŒ
> - ç¼–è¯‘æ—¶å¤šæ€ï¼ˆé™æ€å¤šæ€ï¼‰ï¼Œç¼–è¯‘å™¨æ ¹æ®å‚æ•°å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•
> - å‚æ•°å¿…é¡»ä¸åŒï¼šç±»å‹ã€ä¸ªæ•°ã€é¡ºåºè‡³å°‘ä¸€é¡¹ä¸åŒ
> - è¿”å›å€¼ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸åŒï¼Œä½†ä¸èƒ½ä»…å‡­è¿”å›å€¼åŒºåˆ†
> - è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒ
>
> **Overrideï¼ˆæ–¹æ³•é‡å†™ï¼‰**ï¼š
>
> - å­ç±»é‡æ–°å®ç°çˆ¶ç±»çš„æ–¹æ³•
> - è¿è¡Œæ—¶å¤šæ€ï¼ˆåŠ¨æ€å¤šæ€ï¼‰ï¼Œæ ¹æ®å®é™…å¯¹è±¡ç±»å‹å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•
> - æ–¹æ³•ç­¾åå¿…é¡»å®Œå…¨ç›¸åŒï¼šæ–¹æ³•åã€å‚æ•°åˆ—è¡¨ã€è¿”å›å€¼ç±»å‹
> - è®¿é—®ä¿®é¥°ç¬¦ä¸èƒ½æ›´ä¸¥æ ¼ï¼Œä½†å¯ä»¥æ›´å®½æ¾
> - ä¸èƒ½é‡å†™staticã€finalã€privateæ–¹æ³•
>
> **æ ¸å¿ƒåŒºåˆ«**ï¼š
>
> - é‡è½½æ˜¯æ°´å¹³æ‰©å±•ï¼ˆåŒç±»å¤šæ–¹æ³•ï¼‰ï¼Œé‡å†™æ˜¯å‚ç›´æ‰©å±•ï¼ˆç»§æ‰¿å±‚æ¬¡ï¼‰
> - é‡è½½åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œé‡å†™åœ¨è¿è¡Œæ—¶ç¡®å®š
> - é‡è½½ä½“ç°äº†æ¥å£çš„çµæ´»æ€§ï¼Œé‡å†™ä½“ç°äº†å¤šæ€æ€§
>
> è®°å¿†æŠ€å·§ï¼šOverloadæ·»åŠ åŠŸèƒ½ï¼ŒOverrideæ”¹å˜åŠŸèƒ½ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
public class OverloadOverrideDemo {
    
    public static void main(String[] args) {
        // æ¼”ç¤ºæ–¹æ³•é‡è½½
        Calculator calc = new Calculator();
        calc.demonstrateOverload();
        
        System.out.println();
        
        // æ¼”ç¤ºæ–¹æ³•é‡å†™
        Animal animal = new Dog();
        animal.makeSound();  // è¿è¡Œæ—¶å¤šæ€
        
        // æ¼”ç¤ºé‡å†™çš„è®¿é—®æ§åˆ¶
        demonstrateOverrideAccessControl();
        
        // æ¼”ç¤ºé‡è½½çš„ç¼–è¯‘æ—¶è§£æ
        demonstrateOverloadResolution();
    }
    
    public static void demonstrateOverrideAccessControl() {
        System.out.println("=== Overrideè®¿é—®æ§åˆ¶æ¼”ç¤º ===");
        
        Parent parent = new Child();
        parent.protectedMethod();  // è°ƒç”¨å­ç±»é‡å†™çš„æ–¹æ³•
        parent.publicMethod();     // è°ƒç”¨å­ç±»é‡å†™çš„æ–¹æ³•
    }
    
    public static void demonstrateOverloadResolution() {
        System.out.println("\n=== Overloadè§£ææ¼”ç¤º ===");
        
        OverloadExample example = new OverloadExample();
        
        // ç¼–è¯‘æ—¶å°±ç¡®å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•
        example.process(10);           // è°ƒç”¨process(int)
        example.process(10L);          // è°ƒç”¨process(long)
        example.process("hello");      // è°ƒç”¨process(String)
        example.process(10, 20);       // è°ƒç”¨process(int, int)
        example.process(10.5);         // è°ƒç”¨process(double)
        
        // è‡ªåŠ¨ç±»å‹æå‡
        byte b = 10;
        example.process(b);            // byte -> intï¼Œè°ƒç”¨process(int)
        
        short s = 20;
        example.process(s);            // short -> intï¼Œè°ƒç”¨process(int)
        
        char c = 'A';
        example.process(c);            // char -> intï¼Œè°ƒç”¨process(int)
    }
}

// æ–¹æ³•é‡è½½ç¤ºä¾‹
class Calculator {
    
    public void demonstrateOverload() {
        System.out.println("=== æ–¹æ³•é‡è½½æ¼”ç¤º ===");
        
        // åŒåæ–¹æ³•ï¼Œä¸åŒå‚æ•°
        System.out.println("add(2, 3) = " + add(2, 3));
        System.out.println("add(2.5, 3.7) = " + add(2.5, 3.7));
        System.out.println("add(1, 2, 3) = " + add(1, 2, 3));
        System.out.println("add(\"Hello\", \"World\") = " + add("Hello", "World"));
        
        // å¯å˜å‚æ•°é‡è½½
        System.out.println("sum() = " + sum());
        System.out.println("sum(1) = " + sum(1));
        System.out.println("sum(1,2,3,4,5) = " + sum(1, 2, 3, 4, 5));
    }
    
    // é‡è½½æ–¹æ³•1ï¼šä¸¤ä¸ªintå‚æ•°
    public int add(int a, int b) {
        System.out.println("è°ƒç”¨äº†add(int, int)");
        return a + b;
    }
    
    // é‡è½½æ–¹æ³•2ï¼šä¸¤ä¸ªdoubleå‚æ•°
    public double add(double a, double b) {
        System.out.println("è°ƒç”¨äº†add(double, double)");
        return a + b;
    }
    
    // é‡è½½æ–¹æ³•3ï¼šä¸‰ä¸ªintå‚æ•°
    public int add(int a, int b, int c) {
        System.out.println("è°ƒç”¨äº†add(int, int, int)");
        return a + b + c;
    }
    
    // é‡è½½æ–¹æ³•4ï¼šä¸¤ä¸ªStringå‚æ•°
    public String add(String a, String b) {
        System.out.println("è°ƒç”¨äº†add(String, String)");
        return a + b;
    }
    
    // é‡è½½æ–¹æ³•5ï¼šå‚æ•°é¡ºåºä¸åŒ
    public String format(String format, int value) {
        System.out.println("è°ƒç”¨äº†format(String, int)");
        return String.format(format, value);
    }
    
    public String format(int value, String suffix) {
        System.out.println("è°ƒç”¨äº†format(int, String)");
        return value + suffix;
    }
    
    // å¯å˜å‚æ•°é‡è½½
    public int sum(int... numbers) {
        System.out.println("è°ƒç”¨äº†sum(int...)ï¼Œå‚æ•°ä¸ªæ•°: " + numbers.length);
        int result = 0;
        for (int num : numbers) {
            result += num;
        }
        return result;
    }
    
    // æ³¨æ„ï¼šè¿™ç§é‡è½½ä¼šå¯¼è‡´æ­§ä¹‰ï¼Œç¼–è¯‘é”™è¯¯
    // public int sum(int[] numbers) { ... }  // ä¸å¯å˜å‚æ•°å†²çª
}

// é‡è½½è§£æç¤ºä¾‹
class OverloadExample {
    
    public void process(int value) {
        System.out.println("å¤„ç†int: " + value);
    }
    
    public void process(long value) {
        System.out.println("å¤„ç†long: " + value);
    }
    
    public void process(double value) {
        System.out.println("å¤„ç†double: " + value);
    }
    
    public void process(String value) {
        System.out.println("å¤„ç†String: " + value);
    }
    
    public void process(int a, int b) {
        System.out.println("å¤„ç†ä¸¤ä¸ªint: " + a + ", " + b);
    }
    
    // é‡è½½ä¸ç»§æ‰¿çš„äº¤äº’
    public void process(Object obj) {
        System.out.println("å¤„ç†Object: " + obj);
    }
    
    public void process(Number num) {
        System.out.println("å¤„ç†Number: " + num);
    }
}

// æ–¹æ³•é‡å†™ç¤ºä¾‹
abstract class Animal {
    protected String name;
    
    public Animal(String name) {
        this.name = name;
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼Œå¼ºåˆ¶å­ç±»é‡å†™
    public abstract void makeSound();
    
    // æ™®é€šæ–¹æ³•ï¼Œå¯ä»¥è¢«é‡å†™
    public void eat() {
        System.out.println(name + " is eating");
    }
    
    // finalæ–¹æ³•ï¼Œä¸èƒ½è¢«é‡å†™
    public final void sleep() {
        System.out.println(name + " is sleeping");
    }
    
    // staticæ–¹æ³•ï¼Œä¸èƒ½è¢«é‡å†™ï¼ˆä½†å¯ä»¥è¢«éšè—ï¼‰
    public static void species() {
        System.out.println("This is an animal");
    }
}

class Dog extends Animal {
    
    public Dog() {
        super("Dog");
    }
    
    // é‡å†™æŠ½è±¡æ–¹æ³•
    @Override
    public void makeSound() {
        System.out.println(name + " barks: Woof! Woof!");
    }
    
    // é‡å†™æ™®é€šæ–¹æ³•
    @Override
    public void eat() {
        System.out.println(name + " eats dog food");
    }
    
    // éšè—çˆ¶ç±»çš„staticæ–¹æ³•ï¼ˆä¸æ˜¯é‡å†™ï¼‰
    public static void species() {
        System.out.println("This is a dog");
    }
    
    // å­ç±»ç‰¹æœ‰çš„æ–¹æ³•
    public void fetch() {
        System.out.println(name + " fetches the ball");
    }
    
    // é‡å†™Objectç±»çš„æ–¹æ³•
    @Override
    public String toString() {
        return "Dog{name='" + name + "'}";
    }
    
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Dog dog = (Dog) obj;
        return name.equals(dog.name);
    }
    
    @Override
    public int hashCode() {
        return name.hashCode();
    }
}

// è®¿é—®æ§åˆ¶ä¸é‡å†™
class Parent {
    protected void protectedMethod() {
        System.out.println("Parent protected method");
    }
    
    public void publicMethod() {
        System.out.println("Parent public method");
    }
    
    // privateæ–¹æ³•ä¸èƒ½è¢«é‡å†™
    private void privateMethod() {
        System.out.println("Parent private method");
    }
}

class Child extends Parent {
    
    // é‡å†™protectedæ–¹æ³•ï¼Œå¯ä»¥æ”¹ä¸ºpublicï¼ˆè®¿é—®æƒé™æ”¾å®½ï¼‰
    @Override
    public void protectedMethod() {
        System.out.println("Child overridden protected method (now public)");
    }
    
    // é‡å†™publicæ–¹æ³•ï¼Œè®¿é—®æƒé™ä¿æŒä¸å˜
    @Override
    public void publicMethod() {
        System.out.println("Child overridden public method");
        super.publicMethod();  // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
    }
    
    // è¿™ä¸æ˜¯é‡å†™ï¼Œè€Œæ˜¯å­ç±»çš„æ–°æ–¹æ³•
    public void privateMethod() {
        System.out.println("Child's own private method");
    }
}

/*
 * Overload vs Override å¯¹æ¯”æ€»ç»“ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   ç‰¹æ€§      â”‚    Overload     â”‚    Override     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ å‘ç”Ÿä½ç½®    â”‚     åŒä¸€ç±»å†…    â”‚   ç»§æ‰¿å…³ç³»ä¸­    â”‚
 * â”‚ æ–¹æ³•å      â”‚      ç›¸åŒ       â”‚      ç›¸åŒ       â”‚
 * â”‚ å‚æ•°åˆ—è¡¨    â”‚     å¿…é¡»ä¸åŒ    â”‚    å¿…é¡»ç›¸åŒ     â”‚
 * â”‚ è¿”å›å€¼ç±»å‹  â”‚     å¯ä»¥ä¸åŒ    â”‚   å¿…é¡»ç›¸åŒ      â”‚
 * â”‚ è®¿é—®ä¿®é¥°ç¬¦  â”‚     å¯ä»¥ä¸åŒ    â”‚ ä¸èƒ½æ›´ä¸¥æ ¼      â”‚
 * â”‚ è§£ææ—¶æœº    â”‚     ç¼–è¯‘æ—¶      â”‚     è¿è¡Œæ—¶      â”‚
 * â”‚ å¤šæ€ç±»å‹    â”‚    é™æ€å¤šæ€     â”‚   åŠ¨æ€å¤šæ€      â”‚
 * â”‚ ç»§æ‰¿è¦æ±‚    â”‚       æ—         â”‚      å¿…é¡»       â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * é‡è¦è§„åˆ™ï¼š
 * 1. é‡è½½ï¼šå‚æ•°ä¸åŒï¼ˆç±»å‹ã€ä¸ªæ•°ã€é¡ºåºï¼‰ï¼Œç¼–è¯‘æ—¶ç¡®å®š
 * 2. é‡å†™ï¼šç­¾åç›¸åŒï¼Œè¿è¡Œæ—¶ç¡®å®šï¼Œä½“ç°å¤šæ€æ€§
 * 3. @Overrideæ³¨è§£å¸®åŠ©ç¼–è¯‘å™¨æ£€æŸ¥é‡å†™çš„æ­£ç¡®æ€§
 * 4. é‡å†™éµå¾ª"é‡Œæ°æ›¿æ¢åŸåˆ™"ï¼šå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»
 */
```

### ğŸ¯ ä½ æ˜¯å¦‚ä½•ç†è§£é¢å‘å¯¹è±¡çš„ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰æ˜¯ä¸€ç§'ä¸‡ç‰©çš†å¯¹è±¡'çš„ç¼–ç¨‹æ€æƒ³ï¼š
>
> **æ ¸å¿ƒç†å¿µ**ï¼šå°†ç°å®é—®é¢˜æ„å»ºå…³ç³»ï¼Œç„¶åæŠ½è±¡æˆç±»ï¼ˆclassï¼‰ï¼Œç»™ç±»å®šä¹‰å±æ€§å’Œæ–¹æ³•åï¼Œå†å°†ç±»å®ä¾‹åŒ–æˆå®ä¾‹ï¼ˆinstanceï¼‰ï¼Œé€šè¿‡è®¿é—®å®ä¾‹çš„å±æ€§å’Œè°ƒç”¨æ–¹æ³•æ¥è¿›è¡Œä½¿ç”¨ã€‚
>
> **å››å¤§ç‰¹å¾**ï¼š
>
> - **å°è£…**ï¼šéšè—å†…éƒ¨å®ç°ï¼Œåªæš´éœ²å¿…è¦æ¥å£
> - **ç»§æ‰¿**ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»ç‰¹æ€§ï¼Œå®ç°ä»£ç å¤ç”¨  
> - **å¤šæ€**ï¼šåŒä¸€æ¥å£å¤šç§å®ç°ï¼Œè¿è¡Œæ—¶åŠ¨æ€ç»‘å®š
> - **æŠ½è±¡**ï¼šæå–å…±åŒç‰¹å¾ï¼Œå¿½ç•¥å…·ä½“ç»†èŠ‚
>
> **è®¾è®¡åŸåˆ™**ï¼š
>
> - **å•ä¸€èŒè´£**ï¼šä¸€ä¸ªç±»åªåšä¸€ä»¶äº‹
> - **å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
> - **é‡Œæ°æ›¿æ¢**ï¼šå­ç±»ä¸ç ´åçˆ¶ç±»å¥‘çº¦
> - **æ¥å£éš”ç¦»**ï¼šå¤šä¸ªä¸“ç”¨æ¥å£ä¼˜äºå•ä¸€è‡ƒè‚¿æ¥å£
> - **ä¾èµ–å€’ç½®**ï¼šä¾èµ–æŠ½è±¡è€Œéå®ç°
>
> é¢å‘å¯¹è±¡è®©ä»£ç æ›´æ¨¡å—åŒ–ã€å¯ç»´æŠ¤ã€å¯æ‰©å±•ï¼Œæ˜¯ç°ä»£è½¯ä»¶å¼€å‘çš„åŸºç¡€æ€æƒ³ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
// é¢å‘å¯¹è±¡è®¾è®¡ç¤ºä¾‹ï¼šç”µå•†ç³»ç»Ÿ
public class OOPDemo {
    
    public static void main(String[] args) {
        // æ¼”ç¤ºé¢å‘å¯¹è±¡çš„å››å¤§ç‰¹æ€§
        demonstrateOOPFeatures();
        
        // æ¼”ç¤ºè®¾è®¡åŸåˆ™
        demonstrateDesignPrinciples();
    }
    
    public static void demonstrateOOPFeatures() {
        System.out.println("=== OOP Features Demo ===");
        
        // 1. å°è£…ï¼šé€šè¿‡ç§æœ‰å­—æ®µå’Œå…¬å…±æ–¹æ³•æ§åˆ¶è®¿é—®
        Account account = new Account(1000.0);
        account.deposit(500.0);     // é€šè¿‡æ–¹æ³•å®‰å…¨åœ°æ“ä½œæ•°æ®
        account.withdraw(200.0);
        System.out.println("Account balance: " + account.getBalance());
        
        // 2. ç»§æ‰¿ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»ç‰¹æ€§
        VIPAccount vipAccount = new VIPAccount(2000.0, 0.02);
        vipAccount.deposit(1000.0);
        System.out.println("VIP account balance: " + vipAccount.getBalance());
        
        // 3. å¤šæ€ï¼šç»Ÿä¸€æ¥å£ï¼Œä¸åŒå®ç°
        PaymentProcessor processor = new PaymentProcessor();
        
        Payment creditCard = new CreditCardPayment();
        Payment alipay = new AlipayPayment();
        Payment wechat = new WechatPayment();
        
        processor.processPayment(creditCard, 100.0);
        processor.processPayment(alipay, 100.0);
        processor.processPayment(wechat, 100.0);
        
        // 4. æŠ½è±¡ï¼šæŠ½å–å…±åŒç‰¹å¾
        System.out.println("\nAbstraction: All payments implement Payment interface");
    }
    
    public static void demonstrateDesignPrinciples() {
        System.out.println("\n=== Design Principles Demo ===");
        
        // å•ä¸€èŒè´£åŸåˆ™ï¼šæ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
        OrderService orderService = new OrderService();
        PaymentService paymentService = new PaymentService();
        NotificationService notificationService = new NotificationService();
        
        // ä¾èµ–å€’ç½®åŸåˆ™ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°
        Order order = new Order("ORDER001", 299.0);
        orderService.createOrder(order);
        paymentService.processPayment(order.getAmount());
        notificationService.sendNotification("Order created successfully");
    }
}

// 1. å°è£…ç¤ºä¾‹
class Account {
    private double balance;  // ç§æœ‰å­—æ®µï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®
    
    public Account(double initialBalance) {
        this.balance = Math.max(0, initialBalance);  // æ„é€ æ—¶éªŒè¯
    }
    
    // å…¬å…±æ–¹æ³•æä¾›å—æ§è®¿é—®
    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;
            System.out.println("Deposited: " + amount);
        }
    }
    
    public boolean withdraw(double amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;
            System.out.println("Withdrawn: " + amount);
            return true;
        }
        System.out.println("Insufficient funds");
        return false;
    }
    
    public double getBalance() {
        return balance;
    }
    
    protected void setBalance(double balance) {  // å—ä¿æŠ¤çš„æ–¹æ³•ä¾›å­ç±»ä½¿ç”¨
        this.balance = balance;
    }
}

// 2. ç»§æ‰¿ç¤ºä¾‹
class VIPAccount extends Account {
    private double interestRate;
    
    public VIPAccount(double initialBalance, double interestRate) {
        super(initialBalance);  // è°ƒç”¨çˆ¶ç±»æ„é€ å™¨
        this.interestRate = interestRate;
    }
    
    // é‡å†™çˆ¶ç±»æ–¹æ³•
    @Override
    public void deposit(double amount) {
        super.deposit(amount);  // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        double interest = amount * interestRate;
        super.deposit(interest);  // é¢å¤–çš„åˆ©æ¯
        System.out.println("Interest added: " + interest);
    }
    
    // å­ç±»ç‰¹æœ‰æ–¹æ³•
    public double getInterestRate() {
        return interestRate;
    }
}

// 3. å¤šæ€ç¤ºä¾‹ - æŠ½è±¡æ¥å£
interface Payment {
    void pay(double amount);
    String getPaymentMethod();
}

// å…·ä½“å®ç°ç±»
class CreditCardPayment implements Payment {
    @Override
    public void pay(double amount) {
        System.out.println("Paid $" + amount + " by Credit Card");
    }
    
    @Override
    public String getPaymentMethod() {
        return "Credit Card";
    }
}

class AlipayPayment implements Payment {
    @Override
    public void pay(double amount) {
        System.out.println("Paid $" + amount + " by Alipay");
    }
    
    @Override
    public String getPaymentMethod() {
        return "Alipay";
    }
}

class WechatPayment implements Payment {
    @Override
    public void pay(double amount) {
        System.out.println("Paid $" + amount + " by WeChat Pay");
    }
    
    @Override
    public String getPaymentMethod() {
        return "WeChat Pay";
    }
}

// å¤šæ€ä½¿ç”¨
class PaymentProcessor {
    public void processPayment(Payment payment, double amount) {
        System.out.println("Processing payment via " + payment.getPaymentMethod());
        payment.pay(amount);  // è¿è¡Œæ—¶åŠ¨æ€ç»‘å®š
    }
}

// è®¾è®¡åŸåˆ™ç¤ºä¾‹ï¼šå•ä¸€èŒè´£
class Order {
    private String orderId;
    private double amount;
    
    public Order(String orderId, double amount) {
        this.orderId = orderId;
        this.amount = amount;
    }
    
    public String getOrderId() { return orderId; }
    public double getAmount() { return amount; }
}

// æ¯ä¸ªæœåŠ¡ç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
class OrderService {
    public void createOrder(Order order) {
        System.out.println("Order created: " + order.getOrderId());
    }
}

class PaymentService {
    public void processPayment(double amount) {
        System.out.println("Payment processed: $" + amount);
    }
}

class NotificationService {
    public void sendNotification(String message) {
        System.out.println("Notification sent: " + message);
    }
}
```

### ğŸ¯ æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "æŠ½è±¡ç±»å’Œæ¥å£éƒ½æ˜¯Javaä¸­å®ç°æŠ½è±¡çš„æœºåˆ¶ï¼Œä½†å®ƒä»¬æœ‰ä»¥ä¸‹å…³é”®åŒºåˆ«ï¼š
>
> **æŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰**ï¼š
>
> - å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•å’Œå…·ä½“æ–¹æ³•
> - å¯ä»¥æœ‰æˆå‘˜å˜é‡ï¼ˆåŒ…æ‹¬å®ä¾‹å˜é‡ï¼‰
> - å¯ä»¥æœ‰æ„é€ æ–¹æ³•
> - ä½¿ç”¨extendså…³é”®å­—ç»§æ‰¿ï¼Œæ”¯æŒå•ç»§æ‰¿
> - è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥æ˜¯publicã€protectedã€default
>
> **æ¥å£ï¼ˆInterfaceï¼‰**ï¼š
>
> - JDK 8ä¹‹å‰åªèƒ½æœ‰æŠ½è±¡æ–¹æ³•ï¼ŒJDK 8+å¯ä»¥æœ‰é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•
> - åªèƒ½æœ‰public static finalå¸¸é‡
> - ä¸èƒ½æœ‰æ„é€ æ–¹æ³•
> - ä½¿ç”¨implementså…³é”®å­—å®ç°ï¼Œæ”¯æŒå¤šå®ç°
> - æ–¹æ³•é»˜è®¤æ˜¯public abstract
>
> **ä½¿ç”¨åœºæ™¯**ï¼šå½“å¤šä¸ªç±»æœ‰å…±åŒç‰¹å¾ä¸”éœ€è¦ä»£ç å¤ç”¨æ—¶ç”¨æŠ½è±¡ç±»ï¼›å½“éœ€è¦å®šä¹‰è§„èŒƒã€å®ç°å¤šé‡ç»§æ‰¿æ•ˆæœæ—¶ç”¨æ¥å£ã€‚ç°åœ¨æ›´æ¨è'ç»„åˆä¼˜äºç»§æ‰¿'çš„è®¾è®¡ç†å¿µã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
// æŠ½è±¡ç±»ç¤ºä¾‹
abstract class Vehicle {
    protected String brand;     // å¯ä»¥æœ‰å®ä¾‹å˜é‡
    protected int speed;
    
    public Vehicle(String brand) {  // å¯ä»¥æœ‰æ„é€ æ–¹æ³•
        this.brand = brand;
    }
    
    // å…·ä½“æ–¹æ³•
    public void start() {
        System.out.println(brand + " vehicle started");
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼Œå­ç±»å¿…é¡»å®ç°
    public abstract void accelerate();
    public abstract void brake();
}

class Car extends Vehicle {
    public Car(String brand) {
        super(brand);
    }
    
    @Override
    public void accelerate() {
        speed += 10;
        System.out.println("Car accelerated to " + speed + " km/h");
    }
    
    @Override
    public void brake() {
        speed = Math.max(0, speed - 15);
        System.out.println("Car braked to " + speed + " km/h");
    }
}

// æ¥å£ç¤ºä¾‹
interface Flyable {
    int MAX_ALTITUDE = 10000;  // public static finalå¸¸é‡
    
    void takeOff();            // public abstractæ–¹æ³•
    void land();
    
    // JDK 8+ é»˜è®¤æ–¹æ³•
    default void fly() {
        System.out.println("Flying at altitude " + MAX_ALTITUDE);
    }
    
    // JDK 8+ é™æ€æ–¹æ³•
    static void checkWeather() {
        System.out.println("Weather is suitable for flying");
    }
}

interface Swimmable {
    void dive();
    void surface();
}

// ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£
class Duck implements Flyable, Swimmable {
    @Override
    public void takeOff() {
        System.out.println("Duck takes off from water");
    }
    
    @Override
    public void land() {
        System.out.println("Duck lands on water");
    }
    
    @Override
    public void dive() {
        System.out.println("Duck dives underwater");
    }
    
    @Override
    public void surface() {
        System.out.println("Duck surfaces");
    }
}
```

### ğŸ¯ ä½œç”¨åŸŸpublicï¼Œprivateï¼Œprotectedï¼Œä»¥åŠä¸å†™æ—¶çš„åŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaè®¿é—®ä¿®é¥°ç¬¦æ§åˆ¶ç±»ã€æ–¹æ³•ã€å˜é‡çš„å¯è§æ€§ï¼Œæœ‰å››ç§è®¿é—®çº§åˆ«ï¼š
>
> **publicï¼ˆå…¬å…±çš„ï¼‰**ï¼š
>
> - å¯¹æ‰€æœ‰ç±»å¯è§ï¼Œæ— è®¿é—®é™åˆ¶
> - å¯ä»¥è¢«ä»»ä½•åŒ…ä¸­çš„ä»»ä½•ç±»è®¿é—®
> - ç”¨äºå¯¹å¤–å¼€æ”¾çš„APIæ¥å£
>
> **protectedï¼ˆå—ä¿æŠ¤çš„ï¼‰**ï¼š
>
> - å¯¹åŒä¸€åŒ…å†…çš„ç±»å’Œæ‰€æœ‰å­ç±»å¯è§
> - å³ä½¿å­ç±»åœ¨ä¸åŒåŒ…ä¸­ä¹Ÿå¯ä»¥è®¿é—®
> - ç”¨äºç»§æ‰¿ä½“ç³»ä¸­éœ€è¦å…±äº«çš„æˆå‘˜
>
> **é»˜è®¤ï¼ˆåŒ…è®¿é—®æƒé™ï¼Œä¸å†™ä¿®é¥°ç¬¦ï¼‰**ï¼š
>
> - åªå¯¹åŒä¸€åŒ…å†…çš„ç±»å¯è§
> - ä¹Ÿç§°ä¸ºpackage-privateæˆ–friendly
> - ç”¨äºåŒ…å†…éƒ¨çš„å®ç°ç»†èŠ‚
>
> **privateï¼ˆç§æœ‰çš„ï¼‰**ï¼š
>
> - åªå¯¹å½“å‰ç±»å¯è§ï¼Œæœ€ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶
> - å­ç±»ä¹Ÿæ— æ³•è®¿é—®çˆ¶ç±»çš„privateæˆå‘˜
> - ç”¨äºå°è£…å†…éƒ¨å®ç°ç»†èŠ‚
>
> **è®¿é—®èŒƒå›´**ï¼špublic > protected > é»˜è®¤ > private
>
> **è®¾è®¡åŸåˆ™**ï¼šéµå¾ªæœ€å°æƒé™åŸåˆ™ï¼Œä¼˜å…ˆä½¿ç”¨privateï¼Œæ ¹æ®éœ€è¦é€æ­¥æ”¾å®½æƒé™ã€‚"

### ğŸ¯ è¯´è¯´Javaä¸­çš„å†…éƒ¨ç±»æœ‰å“ªäº›ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaä¸­çš„å†…éƒ¨ç±»ä¸»è¦æœ‰å››ç§ç±»å‹ï¼š
>
> **1. æˆå‘˜å†…éƒ¨ç±»ï¼ˆMember Inner Classï¼‰**ï¼šå®šä¹‰åœ¨ç±»ä¸­çš„æ™®é€šå†…éƒ¨ç±»ï¼Œå¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜ã€‚åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡éœ€è¦å…ˆåˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡ã€‚
>
> **2. é™æ€å†…éƒ¨ç±»ï¼ˆStatic Nested Classï¼‰**ï¼šä½¿ç”¨staticä¿®é¥°çš„å†…éƒ¨ç±»ï¼Œä¸ä¾èµ–å¤–éƒ¨ç±»å®ä¾‹ï¼Œåªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ã€‚å¯ä»¥ç›´æ¥é€šè¿‡å¤–éƒ¨ç±»ååˆ›å»ºã€‚
>
> **3. å±€éƒ¨å†…éƒ¨ç±»ï¼ˆLocal Inner Classï¼‰**ï¼šå®šä¹‰åœ¨æ–¹æ³•æˆ–ä»£ç å—ä¸­çš„ç±»ï¼Œåªèƒ½åœ¨å®šä¹‰å®ƒçš„æ–¹æ³•å†…ä½¿ç”¨ï¼Œå¯ä»¥è®¿é—®æ–¹æ³•ä¸­çš„finalæˆ–effectively finalå˜é‡ã€‚
>
> **4. åŒ¿åå†…éƒ¨ç±»ï¼ˆAnonymous Inner Classï¼‰**ï¼šæ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ï¼Œé€šå¸¸ç”¨äºå®ç°æ¥å£æˆ–ç»§æ‰¿ç±»çš„ç®€å•å®ç°ï¼Œå¸¸ç”¨äºäº‹ä»¶å¤„ç†å’Œå›è°ƒã€‚
>
> å†…éƒ¨ç±»çš„ä¼˜åŠ¿æ˜¯å¯ä»¥è®¿é—®å¤–éƒ¨ç±»ç§æœ‰æˆå‘˜ï¼Œå®ç°æ›´å¥½çš„å°è£…ï¼›ç¼ºç‚¹æ˜¯å¢åŠ äº†ä»£ç å¤æ‚åº¦ï¼Œå¯èƒ½é€ æˆå†…å­˜æ³„æ¼ï¼ˆå†…éƒ¨ç±»æŒæœ‰å¤–éƒ¨ç±»å¼•ç”¨ï¼‰ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
public class OuterClass {
    private String outerField = "Outer field";
    private static String staticField = "Static field";
    
    // 1. æˆå‘˜å†…éƒ¨ç±»
    public class MemberInnerClass {
        private String innerField = "Inner field";
        
        public void display() {
            System.out.println("Access outer field: " + outerField);
            System.out.println("Access static field: " + staticField);
            System.out.println("Inner field: " + innerField);
        }
        
        // å†…éƒ¨ç±»ä¸èƒ½æœ‰é™æ€æ–¹æ³•ï¼ˆé™¤éæ˜¯é™æ€å†…éƒ¨ç±»ï¼‰
        // public static void staticMethod() {} // ç¼–è¯‘é”™è¯¯
    }
    
    // 2. é™æ€å†…éƒ¨ç±»
    public static class StaticNestedClass {
        private String nestedField = "Nested field";
        
        public void display() {
            // System.out.println(outerField); // ç¼–è¯‘é”™è¯¯ï¼Œä¸èƒ½è®¿é—®éé™æ€å¤–éƒ¨æˆå‘˜
            System.out.println("Access static field: " + staticField);
            System.out.println("Nested field: " + nestedField);
        }
        
        public static void staticMethod() {
            System.out.println("Static method in nested class");
        }
    }
    
    public void demonstrateLocalClass() {
        final String localVar = "Local variable";
        int effectivelyFinalVar = 100;
        
        // 3. å±€éƒ¨å†…éƒ¨ç±»
        class LocalInnerClass {
            public void display() {
                System.out.println("Access outer field: " + outerField);
                System.out.println("Access local var: " + localVar);
                System.out.println("Access effectively final var: " + effectivelyFinalVar);
            }
        }
        
        LocalInnerClass local = new LocalInnerClass();
        local.display();
    }
    
    public void demonstrateAnonymousClass() {
        // 4. åŒ¿åå†…éƒ¨ç±» - å®ç°æ¥å£
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
                System.out.println("Anonymous class implementing Runnable");
                System.out.println("Access outer field: " + outerField);
            }
        };
        
        // åŒ¿åå†…éƒ¨ç±» - ç»§æ‰¿ç±»
        Thread thread = new Thread() {
            @Override
            public void run() {
                System.out.println("Anonymous class extending Thread");
            }
        };
        
        runnable.run();
        thread.start();
    }
    
    public static void main(String[] args) {
        OuterClass outer = new OuterClass();
        
        // åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å¯¹è±¡
        OuterClass.MemberInnerClass member = outer.new MemberInnerClass();
        member.display();
        
        // åˆ›å»ºé™æ€å†…éƒ¨ç±»å¯¹è±¡
        OuterClass.StaticNestedClass nested = new OuterClass.StaticNestedClass();
        nested.display();
        OuterClass.StaticNestedClass.staticMethod();
        
        // å±€éƒ¨å†…éƒ¨ç±»å’ŒåŒ¿åå†…éƒ¨ç±»
        outer.demonstrateLocalClass();
        outer.demonstrateAnonymousClass();
    }
}
```



### ğŸ¯ å®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•æœ‰ä»€ä¹ˆä¸ä¸€æ ·?

å®ä¾‹æ–¹æ³•ä¾èµ–å¯¹è±¡ï¼Œæœ‰ `this`ï¼Œèƒ½è®¿é—®å®ä¾‹å˜é‡ï¼Œæ”¯æŒå¤šæ€ï¼›é™æ€æ–¹æ³•ä¾èµ–ç±»æœ¬èº«ï¼Œæ²¡æœ‰ `this`ï¼Œåªèƒ½è®¿é—®é™æ€å˜é‡ï¼Œä¸èƒ½çœŸæ­£é‡å†™ï¼Œå¸¸ç”¨äºå·¥å…·ç±»å’Œå…¨å±€æ–¹æ³•ã€‚

| ç‰¹æ€§           | å®ä¾‹æ–¹æ³• (Instance Method)                  | é™æ€æ–¹æ³• (Static Method)                  |
| -------------- | ------------------------------------------- | ----------------------------------------- |
| **å½’å±**       | å±äºå¯¹è±¡å®ä¾‹                                | å±äºç±»æœ¬èº«                                |
| **è°ƒç”¨æ–¹å¼**   | `å¯¹è±¡.æ–¹æ³•()`                               | `ç±»å.æ–¹æ³•()` æˆ– `å¯¹è±¡.æ–¹æ³•()`ï¼ˆä¸æ¨èï¼‰  |
| **this å¼•ç”¨**  | éšå«ä¼ å…¥ `this` å‚æ•°                        | æ²¡æœ‰ `this`                               |
| **è®¿é—®æƒé™**   | å¯è®¿é—®å®ä¾‹å˜é‡å’Œé™æ€å˜é‡                    | åªèƒ½è®¿é—®é™æ€å˜é‡å’Œé™æ€æ–¹æ³•                |
| **å†…å­˜ä½ç½®**   | æ–¹æ³•å­˜åœ¨äºæ–¹æ³•åŒºï¼Œè°ƒç”¨éœ€ä¾èµ–å¯¹è±¡å®ä¾‹        | æ–¹æ³•å­˜åœ¨äºæ–¹æ³•åŒºï¼Œç›´æ¥é€šè¿‡ç±»è°ƒç”¨          |
| **å¤šæ€æ€§**     | å¯ä»¥è¢«å­ç±»é‡å†™ï¼Œæ”¯æŒè¿è¡Œæ—¶å¤šæ€              | ä¸èƒ½çœŸæ­£è¢«é‡å†™ï¼Œåªèƒ½éšè—ï¼ˆmethod hidingï¼‰ |
| **å…¸å‹åº”ç”¨**   | ä¸å¯¹è±¡çŠ¶æ€ç›¸å…³çš„æ–¹æ³•ï¼ˆå¦‚ `user.getName()`ï¼‰ | å·¥å…·æ–¹æ³•ã€å·¥å‚æ–¹æ³•ï¼ˆå¦‚ `Math.max()`ï¼‰     |
| **å­—èŠ‚ç è°ƒç”¨** | `invokevirtual` / `invokeinterface`         | `invokestatic`                            |



### ğŸ¯ breakã€continueã€returnçš„åŒºåˆ«åŠä½œç”¨ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "breakã€continueã€returnéƒ½æ˜¯Javaä¸­çš„æ§åˆ¶æµè¯­å¥ï¼Œä½†ä½œç”¨ä¸åŒï¼š
>
> **breakè¯­å¥**ï¼š
>
> - ä½œç”¨ï¼šç«‹å³ç»ˆæ­¢å½“å‰å¾ªç¯æˆ–switchè¯­å¥
> - ä½¿ç”¨åœºæ™¯ï¼šå¾ªç¯ä¸­æ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶æå‰é€€å‡º
> - åªèƒ½è·³å‡ºå½“å‰å±‚å¾ªç¯ï¼Œä¸èƒ½è·³å‡ºå¤–å±‚å¾ªç¯ï¼ˆé™¤éä½¿ç”¨æ ‡ç­¾ï¼‰
>
> **continueè¯­å¥**ï¼š
>
> - ä½œç”¨ï¼šè·³è¿‡å½“å‰å¾ªç¯è¿­ä»£çš„å‰©ä½™éƒ¨åˆ†ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡è¿­ä»£
> - ä½¿ç”¨åœºæ™¯ï¼šæ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶è·³è¿‡å½“å‰å¾ªç¯ä½“çš„æ‰§è¡Œ
> - åªå½±å“å½“å‰å±‚å¾ªç¯
>
> **returnè¯­å¥**ï¼š
>
> - ä½œç”¨ï¼šç«‹å³ç»ˆæ­¢æ–¹æ³•çš„æ‰§è¡Œå¹¶è¿”å›åˆ°è°ƒç”¨å¤„
> - å¯ä»¥å¸¦è¿”å›å€¼ï¼ˆévoidæ–¹æ³•ï¼‰æˆ–ä¸å¸¦è¿”å›å€¼ï¼ˆvoidæ–¹æ³•ï¼‰
> - ä¼šç»ˆæ­¢æ•´ä¸ªæ–¹æ³•ï¼Œä¸ä»…ä»…æ˜¯å¾ªç¯
>
> æ ¸å¿ƒåŒºåˆ«ï¼šbreakè·³å‡ºå¾ªç¯ï¼Œcontinueè·³è¿‡è¿­ä»£ï¼Œreturnè·³å‡ºæ–¹æ³•ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
public class ControlFlowDemo {
    
    public static void main(String[] args) {
        System.out.println("=== Break Demo ===");
        demonstrateBreak();
        
        System.out.println("\n=== Continue Demo ===");
        demonstrateContinue();
        
        System.out.println("\n=== Return Demo ===");
        demonstrateReturn();
        
        System.out.println("\n=== Labeled Break/Continue ===");
        demonstrateLabeledStatements();
    }
    
    // breakæ¼”ç¤º
    public static void demonstrateBreak() {
        System.out.println("Finding first even number greater than 5:");
        for (int i = 1; i <= 10; i++) {
            if (i > 5 && i % 2 == 0) {
                System.out.println("Found: " + i);
                break;  // æ‰¾åˆ°åç«‹å³é€€å‡ºå¾ªç¯
            }
            System.out.println("Checking: " + i);
        }
        System.out.println("Loop ended");
        
        // switchä¸­çš„break
        System.out.println("\nSwitch with break:");
        int day = 3;
        switch (day) {
            case 1:
                System.out.println("Monday");
                break;
            case 2:
                System.out.println("Tuesday");
                break;
            case 3:
                System.out.println("Wednesday");
                break;  // æ²¡æœ‰breakä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªcase
            default:
                System.out.println("Other day");
        }
    }
    
    // continueæ¼”ç¤º
    public static void demonstrateContinue() {
        System.out.println("Printing only odd numbers:");
        for (int i = 1; i <= 10; i++) {
            if (i % 2 == 0) {
                continue;  // è·³è¿‡å¶æ•°ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡è¿­ä»£
            }
            System.out.println("Odd number: " + i);
        }
        
        System.out.println("\nSkipping multiples of 3:");
        for (int i = 1; i <= 10; i++) {
            if (i % 3 == 0) {
                System.out.println("Skipping: " + i);
                continue;
            }
            System.out.println("Processing: " + i);
        }
    }
    
    // returnæ¼”ç¤º
    public static void demonstrateReturn() {
        System.out.println("Result: " + findFirstNegative(new int[]{1, 3, -2, 5, -8}));
        
        processNumbers();
    }
    
    public static int findFirstNegative(int[] numbers) {
        for (int num : numbers) {
            if (num < 0) {
                return num;  // æ‰¾åˆ°è´Ÿæ•°ç«‹å³è¿”å›ï¼Œä¸ç»§ç»­æ‰§è¡Œ
            }
            System.out.println("Checking positive: " + num);
        }
        return 0;  // æ²¡æ‰¾åˆ°è´Ÿæ•°è¿”å›0
    }
    
    public static void processNumbers() {
        System.out.println("Processing numbers 1-10:");
        for (int i = 1; i <= 10; i++) {
            if (i == 5) {
                System.out.println("Stopping at 5");
                return;  // æå‰ç»“æŸæ–¹æ³•
            }
            System.out.println("Processing: " + i);
        }
        System.out.println("This will not be printed");  // ä¸ä¼šæ‰§è¡Œåˆ°è¿™é‡Œ
    }
    
    // æ ‡ç­¾break/continueæ¼”ç¤º
    public static void demonstrateLabeledStatements() {
        System.out.println("Nested loops with labeled break:");
        
        outer: for (int i = 1; i <= 3; i++) {
            System.out.println("Outer loop: " + i);
            for (int j = 1; j <= 3; j++) {
                if (i == 2 && j == 2) {
                    System.out.println("Breaking outer loop at i=2, j=2");
                    break outer;  // è·³å‡ºå¤–å±‚å¾ªç¯
                }
                System.out.println("  Inner loop: " + j);
            }
            System.out.println("Outer loop " + i + " completed");
        }
        System.out.println("All loops ended");
        
        System.out.println("\nNested loops with labeled continue:");
        outerContinue: for (int i = 1; i <= 3; i++) {
            System.out.println("Outer loop: " + i);
            for (int j = 1; j <= 3; j++) {
                if (i == 2 && j == 2) {
                    System.out.println("Continuing outer loop at i=2, j=2");
                    continue outerContinue;  // ç»§ç»­å¤–å±‚å¾ªç¯çš„ä¸‹ä¸€æ¬¡è¿­ä»£
                }
                System.out.println("  Inner loop: " + j);
            }
            System.out.println("Inner loops completed for i=" + i);
        }
    }
}

/*
 * æ§åˆ¶æµè¯­å¥å¯¹æ¯”æ€»ç»“ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   è¯­å¥      â”‚     ä½œç”¨èŒƒå›´     â”‚      å½±å“       â”‚    ä½¿ç”¨åœºæ™¯     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚   break     â”‚   å½“å‰å¾ªç¯/switchâ”‚   ç»ˆæ­¢å¾ªç¯      â”‚   æå‰é€€å‡ºå¾ªç¯   â”‚
 * â”‚   continue  â”‚   å½“å‰å¾ªç¯è¿­ä»£   â”‚   è·³è¿‡å½“å‰è¿­ä»£  â”‚   è·³è¿‡ç‰¹å®šæ¡ä»¶   â”‚
 * â”‚   return    â”‚   æ•´ä¸ªæ–¹æ³•      â”‚   ç»ˆæ­¢æ–¹æ³•æ‰§è¡Œ  â”‚   è¿”å›ç»“æœ/é€€å‡º  â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * æ³¨æ„äº‹é¡¹ï¼š
 * 1. breakå’Œcontinueåªèƒ½åœ¨å¾ªç¯æˆ–switchä¸­ä½¿ç”¨
 * 2. returnå¯ä»¥åœ¨æ–¹æ³•çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨
 * 3. æ ‡ç­¾å¯ä»¥è®©break/continueè·³å‡ºå¤šå±‚å¾ªç¯
 * 4. åœ¨finallyå—ä¸­ä½¿ç”¨returnä¼šè¦†ç›–try/catchä¸­çš„return
 */
```

---

## ğŸ“Š äºŒã€æ•°æ®ç±»å‹ä½“ç³»ï¼ˆç±»å‹åŸºç¡€ï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šJavaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œç†è§£åŸºæœ¬ç±»å‹ã€åŒ…è£…ç±»ã€è‡ªåŠ¨è£…ç®±æ‹†ç®±æœºåˆ¶å¯¹äºé¿å…æ€§èƒ½é™·é˜±å’Œç†è§£JVMå†…å­˜ç®¡ç†è‡³å…³é‡è¦ã€‚

### ğŸ¯ intã€floatã€shortã€doubleã€longã€charå å­—èŠ‚æ•°ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "JavaåŸºæœ¬æ•°æ®ç±»å‹çš„å­—èŠ‚æ•°æ˜¯å›ºå®šçš„ï¼Œè¿™ä¿è¯äº†è·¨å¹³å°çš„ä¸€è‡´æ€§ï¼š
>
> **æ•´æ•°ç±»å‹**ï¼š
>
> - byteï¼š1å­—èŠ‚ï¼ˆ8ä½ï¼‰ï¼Œå–å€¼èŒƒå›´ -128 ~ 127
> - shortï¼š2å­—èŠ‚ï¼ˆ16ä½ï¼‰ï¼Œå–å€¼èŒƒå›´ -32,768 ~ 32,767
> - intï¼š4å­—èŠ‚ï¼ˆ32ä½ï¼‰ï¼Œå–å€¼èŒƒå›´ -2,147,483,648 ~ 2,147,483,647
> - longï¼š8å­—èŠ‚ï¼ˆ64ä½ï¼‰ï¼Œå–å€¼èŒƒå›´ -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807
>
> **æµ®ç‚¹ç±»å‹**ï¼š
>
> - floatï¼š4å­—èŠ‚ï¼ˆ32ä½ï¼‰ï¼Œå•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œæœ‰æ•ˆä½æ•°6-7ä½
> - doubleï¼š8å­—èŠ‚ï¼ˆ64ä½ï¼‰ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œæœ‰æ•ˆä½æ•°15-16ä½
>
> **å­—ç¬¦ç±»å‹**ï¼š
>
> - charï¼š2å­—èŠ‚ï¼ˆ16ä½ï¼‰ï¼Œé‡‡ç”¨Unicodeç¼–ç ï¼Œå–å€¼èŒƒå›´ 0 ~ 65,535
>
> **å¸ƒå°”ç±»å‹**ï¼š
>
> - booleanï¼šç†è®ºä¸Š1ä½å³å¯ï¼Œä½†JVMå®ç°é€šå¸¸ä½¿ç”¨1å­—èŠ‚
>
> **è®°å¿†æŠ€å·§**ï¼šbyte(1) < short(2) < int(4) = float(4) < long(8) = double(8)ï¼Œchar(2)ç”¨äºUnicodeå­—ç¬¦ã€‚"

**ğŸ“Š Javaæ•°æ®ç±»å‹å­˜å‚¨èŒƒå›´å¯¹ç…§è¡¨**ï¼š

| **æ•°æ®ç±»å‹** | **å­—èŠ‚æ•°** | **ä½æ•°** | **å–å€¼èŒƒå›´**                                                 | **é»˜è®¤å€¼** | **åŒ…è£…ç±»** |
| ------------ | ---------- | -------- | ------------------------------------------------------------ | ---------- | ---------- |
| **byte**     | 1å­—èŠ‚      | 8ä½      | -128 ~ 127 (-2â· ~ 2â·-1)                                      | 0          | Byte       |
| **short**    | 2å­—èŠ‚      | 16ä½     | -32,768 ~ 32,767 (-2Â¹âµ ~ 2Â¹âµ-1)                              | 0          | Short      |
| **int**      | 4å­—èŠ‚      | 32ä½     | -2,147,483,648 ~ 2,147,483,647 (-2Â³Â¹ ~ 2Â³Â¹-1)                | 0          | Integer    |
| **long**     | 8å­—èŠ‚      | 64ä½     | -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807 (-2â¶Â³ ~ 2â¶Â³-1) | 0L         | Long       |
| **float**    | 4å­—èŠ‚      | 32ä½     | Â±3.4E-38 ~ Â±3.4E+38 (IEEE 754å•ç²¾åº¦)                         | 0.0f       | Float      |
| **double**   | 8å­—èŠ‚      | 64ä½     | Â±1.7E-308 ~ Â±1.7E+308 (IEEE 754åŒç²¾åº¦)                       | 0.0d       | Double     |
| **char**     | 2å­—èŠ‚      | 16ä½     | 0 ~ 65,535 ('\u0000' ~ '\uffff')                             | '\u0000'   | Character  |
| **boolean**  | 1å­—èŠ‚      | 1ä½é€»è¾‘  | true / false                                                 | false      | Boolean    |

**ğŸ“ é‡è¦è¯´æ˜**ï¼š

- `*` booleanåœ¨JVMä¸­é€šå¸¸å ç”¨1å­—èŠ‚ï¼Œä½†åœ¨booleanæ•°ç»„ä¸­å¯èƒ½æŒ‰ä½å­˜å‚¨
- æ•´æ•°ç±»å‹éƒ½æ˜¯**æœ‰ç¬¦å·**çš„ï¼Œé™¤äº†charæ˜¯**æ— ç¬¦å·**çš„
- æµ®ç‚¹ç±»å‹éµå¾ª**IEEE 754æ ‡å‡†**ï¼Œå­˜åœ¨ç²¾åº¦é™åˆ¶
- charç±»å‹é‡‡ç”¨**UTF-16ç¼–ç **ï¼Œå¯ä»¥è¡¨ç¤ºUnicodeå­—ç¬¦
- æ‰€æœ‰æ•°å€¼ç±»å‹éƒ½æœ‰å¯¹åº”çš„**åŒ…è£…ç±»**ï¼Œæ”¯æŒè‡ªåŠ¨è£…ç®±æ‹†ç®±

**ğŸ”¢ æ•°å€¼èŒƒå›´è®°å¿†æ–¹æ³•**ï¼š

- **æœ‰ç¬¦å·æ•´å‹**ï¼š-2^(n-1) ~ 2^(n-1)-1ï¼ˆnä¸ºä½æ•°ï¼‰
- **æ— ç¬¦å·æ•´å‹**ï¼š0 ~ 2^n-1ï¼ˆä»…charç±»å‹ï¼‰
- **æµ®ç‚¹ç±»å‹**ï¼šæŒ‡æ•°ä½æ•°å†³å®šèŒƒå›´ï¼Œå°¾æ•°ä½æ•°å†³å®šç²¾åº¦



### ğŸ¯ åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹é—´çš„è‡ªåŠ¨è£…ç®±æœºåˆ¶ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "è‡ªåŠ¨è£…ç®±æ‹†ç®±æ˜¯Java 5å¼•å…¥çš„è¯­æ³•ç³–ï¼Œç®€åŒ–äº†åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»ä¹‹é—´çš„è½¬æ¢ï¼š
>
> **è‡ªåŠ¨è£…ç®±ï¼ˆAutoboxingï¼‰**ï¼š
>
> - åŸºæœ¬ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…ç±»å¯¹è±¡
> - ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨è°ƒç”¨valueOf()æ–¹æ³•
> - ä¾‹å¦‚ï¼šint â†’ Integerï¼Œdouble â†’ Double
>
> **è‡ªåŠ¨æ‹†ç®±ï¼ˆUnboxingï¼‰**ï¼š
>
> - åŒ…è£…ç±»å¯¹è±¡è‡ªåŠ¨è½¬æ¢ä¸ºå¯¹åº”çš„åŸºæœ¬ç±»å‹
> - ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨xxxValue()æ–¹æ³•
> - ä¾‹å¦‚ï¼šInteger â†’ intï¼ŒDouble â†’ double
>
> **è£…ç®±æ‹†ç®±è§¦å‘åœºæ™¯**ï¼š
>
> - èµ‹å€¼æ“ä½œï¼šåŸºæœ¬ç±»å‹èµ‹ç»™åŒ…è£…ç±»å˜é‡
> - æ–¹æ³•è°ƒç”¨ï¼šå‚æ•°ç±»å‹ä¸åŒ¹é…æ—¶è‡ªåŠ¨è½¬æ¢
> - è¿ç®—æ“ä½œï¼šåŒ…è£…ç±»å‚ä¸ç®—æœ¯è¿ç®—
> - é›†åˆæ“ä½œï¼šåŸºæœ¬ç±»å‹å­˜å…¥é›†åˆ
>
> **ç¼“å­˜æœºåˆ¶**ï¼š
>
> - Integerç¼“å­˜-128åˆ°127çš„å¯¹è±¡
> - Booleanç¼“å­˜trueå’Œfalse
> - Characterç¼“å­˜0åˆ°127
> - Shortã€Byteæœ‰ç±»ä¼¼ç¼“å­˜
>
> **æ³¨æ„äº‹é¡¹**ï¼š
>
> - å¯èƒ½å¼•å‘NullPointerException
> - é¢‘ç¹è£…ç®±æ‹†ç®±å½±å“æ€§èƒ½
> - ==æ¯”è¾ƒæ—¶è¦æ³¨æ„ç¼“å­˜èŒƒå›´
>
> è£…ç®±æ‹†ç®±ç®€åŒ–äº†ä»£ç ï¼Œä½†è¦æ³¨æ„æ€§èƒ½å’Œç©ºæŒ‡é’ˆé—®é¢˜ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
public class AutoBoxingDemo {
    
    public static void main(String[] args) {
        // 1. åŸºæœ¬è£…ç®±æ‹†ç®±
        Integer a = 100;              // è‡ªåŠ¨è£…ç®±ï¼šInteger.valueOf(100)
        int b = a;                    // è‡ªåŠ¨æ‹†ç®±ï¼ša.intValue()
        Integer sum = a + 50;         // æ‹†ç®±è¿ç®—åè£…ç®±
        
        // 2. ç¼“å­˜æœºåˆ¶é™·é˜±
        Integer i1 = 127, i2 = 127;  // ä½¿ç”¨ç¼“å­˜
        Integer i3 = 128, i4 = 128;  // ä¸ä½¿ç”¨ç¼“å­˜
        System.out.println(i1 == i2); // true (ç¼“å­˜èŒƒå›´å†…)
        System.out.println(i3 == i4); // false (è¶…å‡ºç¼“å­˜)
        System.out.println(i3.equals(i4)); // true (æ­£ç¡®æ¯”è¾ƒ)
        
        // 3. ç©ºæŒ‡é’ˆé™·é˜±
        Integer nullInt = null;
        try {
            int value = nullInt;      // NPE: æ‹†ç®±nullå¯¹è±¡
        } catch (NullPointerException e) {
            System.out.println("æ‹†ç®±å¼‚å¸¸: " + e.getClass().getSimpleName());
        }
        
        // 4. é›†åˆä¸­çš„è£…ç®±
        List<Integer> list = Arrays.asList(1, 2, 3); // è£…ç®±
        int total = 0;
        for (int num : list) {        // æ‹†ç®±
            total += num;
        }
        
        // 5. æ€§èƒ½å¯¹æ¯”
        // åŸºæœ¬ç±»å‹ï¼šintç´¯åŠ ï¼ˆå¿«ï¼‰
        // åŒ…è£…ç±»å‹ï¼šIntegerç´¯åŠ ï¼ˆæ…¢ï¼Œé¢‘ç¹è£…ç®±æ‹†ç®±ï¼‰
    }
}

/*
 * è‡ªåŠ¨è£…ç®±æ‹†ç®±æ€»ç»“ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   æ“ä½œ      â”‚      è§¦å‘æ¡ä»¶   â”‚     å®é™…è°ƒç”¨    â”‚      ç¤ºä¾‹       â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚  è‡ªåŠ¨è£…ç®±   â”‚ åŸºæœ¬ç±»å‹â†’åŒ…è£…ç±» â”‚  valueOf()      â”‚ Integer i = 10; â”‚
 * â”‚  è‡ªåŠ¨æ‹†ç®±   â”‚ åŒ…è£…ç±»â†’åŸºæœ¬ç±»å‹ â”‚  xxxValue()     â”‚ int j = i;      â”‚
 * â”‚  è¿ç®—æ‹†ç®±   â”‚ åŒ…è£…ç±»å‚ä¸è¿ç®—  â”‚  xxxValue()     â”‚ i + 10          â”‚
 * â”‚  æ¯”è¾ƒæ‹†ç®±   â”‚ åŒ…è£…ç±»æ¯”è¾ƒå¤§å°  â”‚  xxxValue()     â”‚ i > 5           â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * ç¼“å­˜èŒƒå›´ï¼š
 * - Integer: -128 ~ 127
 * - Character: 0 ~ 127  
 * - Boolean: true, false
 * - Byte: -128 ~ 127
 * - Short: -128 ~ 127
 * - Long: -128 ~ 127
 * 
 * æœ€ä½³å®è·µï¼š
 * 1. é¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹è£…ç®±æ‹†ç®±
 * 2. ä½¿ç”¨equals()è€Œä¸æ˜¯==æ¯”è¾ƒåŒ…è£…ç±»
 * 3. æ³¨æ„nullå€¼çš„æ‹†ç®±å¼‚å¸¸
 * 4. æ€§èƒ½æ•æ„Ÿåœºæ™¯ä¼˜å…ˆä½¿ç”¨åŸºæœ¬ç±»å‹
 * 5. é›†åˆå­˜å‚¨å¤§é‡æ•°å€¼æ—¶è€ƒè™‘åŸºæœ¬ç±»å‹é›†åˆåº“
 */
```

### ğŸ¯ åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaä¸­åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»çš„ä¸»è¦åŒºåˆ«ï¼š
>
> **å­˜å‚¨ä½ç½®**ï¼šåŸºæœ¬ç±»å‹å­˜å‚¨åœ¨æ ˆå†…å­˜æˆ–æ–¹æ³•åŒºï¼ˆå¦‚æœæ˜¯ç±»å˜é‡ï¼‰ï¼ŒåŒ…è£…ç±»å¯¹è±¡å­˜å‚¨åœ¨å †å†…å­˜ä¸­ã€‚
>
> **æ€§èƒ½å·®å¼‚**ï¼šåŸºæœ¬ç±»å‹æ“ä½œæ•ˆç‡æ›´é«˜ï¼ŒåŒ…è£…ç±»éœ€è¦é¢å¤–çš„å¯¹è±¡åˆ›å»ºå’Œæ–¹æ³•è°ƒç”¨å¼€é”€ã€‚
>
> **åŠŸèƒ½å·®å¼‚**ï¼šåŸºæœ¬ç±»å‹åªèƒ½å­˜å‚¨å€¼ï¼ŒåŒ…è£…ç±»æä¾›äº†ä¸°å¯Œçš„æ–¹æ³•ï¼Œå¯ä»¥è½¬æ¢ã€æ¯”è¾ƒã€è§£æç­‰ã€‚
>
> **ç©ºå€¼å¤„ç†**ï¼šåŸºæœ¬ç±»å‹ä¸èƒ½ä¸ºnullï¼ŒåŒ…è£…ç±»å¯ä»¥ä¸ºnullï¼Œè¿™åœ¨é›†åˆæ“ä½œä¸­å¾ˆé‡è¦ã€‚
>
> **è‡ªåŠ¨è£…ç®±æ‹†ç®±**ï¼šJDK 5+æä¾›äº†è‡ªåŠ¨è£…ç®±ï¼ˆåŸºæœ¬ç±»å‹â†’åŒ…è£…ç±»ï¼‰å’Œæ‹†ç®±ï¼ˆåŒ…è£…ç±»â†’åŸºæœ¬ç±»å‹ï¼‰æœºåˆ¶ï¼Œç®€åŒ–äº†ç¼–ç ä½†è¦æ³¨æ„æ€§èƒ½å½±å“ã€‚
>
> **ç¼“å­˜æœºåˆ¶**ï¼šIntegerç­‰åŒ…è£…ç±»å¯¹å°æ•°å€¼ï¼ˆ-128åˆ°127ï¼‰ä½¿ç”¨ç¼“å­˜ï¼Œç›¸åŒå€¼è¿”å›åŒä¸€å¯¹è±¡ã€‚"

| **ç‰¹æ€§**     | **åŸºæœ¬ç±»å‹**                   | **åŒ…è£…ç±»å‹**                     |
| ------------ | ------------------------------ | -------------------------------- |
| **ç±»å‹**     | `int`, `double`, `boolean`ç­‰   | `Integer`, `Double`, `Boolean`ç­‰ |
| **å­˜å‚¨ä½ç½®** | æ ˆå†…å­˜ï¼ˆå±€éƒ¨å˜é‡ï¼‰             | å †å†…å­˜ï¼ˆå¯¹è±¡å®ä¾‹ï¼‰               |
| **é»˜è®¤å€¼**   | `int`ä¸º0ï¼Œ`boolean`ä¸ºfalse     | `null`ï¼ˆå¯èƒ½å¯¼è‡´NPEï¼‰            |
| **å†…å­˜å ç”¨** | å°ï¼ˆå¦‚`int`å 4å­—èŠ‚ï¼‰           | å¤§ï¼ˆå¦‚`Integer`å 16å­—èŠ‚ä»¥ä¸Šï¼‰    |
| **å¯¹è±¡ç‰¹æ€§** | ä¸æ”¯æŒæ–¹æ³•è°ƒç”¨ã€æ³›å‹ã€é›†åˆå­˜å‚¨ | æ”¯æŒæ–¹æ³•è°ƒç”¨ã€æ³›å‹ã€é›†åˆå­˜å‚¨     |
| **åˆ¤ç­‰æ–¹å¼** | `==`ç›´æ¥æ¯”è¾ƒå€¼                 | `==`æ¯”è¾ƒå¯¹è±¡åœ°å€ï¼Œ`equals`æ¯”è¾ƒå€¼ |

- åŒ…è£…ç±»å‹å¯ä»¥ä¸º nullï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸å¯ä»¥ï¼ˆå®ƒä½¿å¾—åŒ…è£…ç±»å‹å¯ä»¥åº”ç”¨äº POJO ä¸­ï¼Œè€ŒåŸºæœ¬ç±»å‹åˆ™ä¸è¡Œï¼‰

  å’Œ POJO ç±»ä¼¼çš„ï¼Œè¿˜æœ‰æ•°æ®ä¼ è¾“å¯¹è±¡ DTOï¼ˆData Transfer Objectï¼Œæ³›æŒ‡ç”¨äºå±•ç¤ºå±‚ä¸æœåŠ¡å±‚ä¹‹é—´çš„æ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰ã€è§†å›¾å¯¹è±¡ VOï¼ˆView Objectï¼ŒæŠŠæŸä¸ªé¡µé¢çš„æ•°æ®å°è£…èµ·æ¥ï¼‰ã€æŒä¹…åŒ–å¯¹è±¡ POï¼ˆPersistant Objectï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸æ•°æ®åº“ä¸­çš„è¡¨æ˜ å°„çš„ Java å¯¹è±¡ï¼‰ã€‚

  é‚£ä¸ºä»€ä¹ˆ POJO çš„å±æ€§å¿…é¡»è¦ç”¨åŒ…è£…ç±»å‹å‘¢ï¼Ÿ

  ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹ä¸Šæœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œæˆ‘ä»¬æ¥å¤§å£°æœ—è¯»ä¸€ä¸‹ï¼ˆé¢„å¤‡ï¼Œèµ·ï¼‰ã€‚

> æ•°æ®åº“çš„æŸ¥è¯¢ç»“æœå¯èƒ½æ˜¯ nullï¼Œå¦‚æœä½¿ç”¨åŸºæœ¬ç±»å‹çš„è¯ï¼Œå› ä¸ºè¦è‡ªåŠ¨æ‹†ç®±ï¼ˆå°†åŒ…è£…ç±»å‹è½¬ä¸ºåŸºæœ¬ç±»å‹ï¼Œæ¯”å¦‚è¯´æŠŠ Integer å¯¹è±¡è½¬æ¢æˆ int å€¼ï¼‰ï¼Œå°±ä¼šæŠ›å‡º `NullPointerException` çš„å¼‚å¸¸ã€‚

1. åŒ…è£…ç±»å‹å¯ç”¨äºæ³›å‹ï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸å¯ä»¥

```java
List<int> list = new ArrayList<>(); // æç¤º Syntax error, insert "Dimensions" to complete ReferenceType
List<Integer> list = new ArrayList<>();
```

ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

> åœ¨ Java ä¸­ï¼Œ**åŒ…è£…ç±»å‹å¯ä»¥ç”¨äºæ³›å‹ï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸å¯ä»¥**ï¼Œè¿™æ˜¯å› ä¸º Java çš„æ³›å‹æœºåˆ¶æ˜¯åŸºäº**å¯¹è±¡ç±»å‹**è®¾è®¡çš„ï¼Œè€ŒåŸºæœ¬ç±»å‹ï¼ˆå¦‚ `int`, `double` ç­‰ï¼‰å¹¶ä¸æ˜¯å¯¹è±¡ã€‚ä¸‹é¢æ˜¯è¯¦ç»†åŸå› ï¼š
>
> 1. **Java æ³›å‹çš„å·¥ä½œåŸç†**
>
> - Java æ³›å‹åœ¨ç¼–è¯‘æœŸé—´ä¼šè¿›è¡Œ**ç±»å‹æ“¦é™¤**ï¼Œå³æ³›å‹ä¿¡æ¯ä¼šåœ¨å­—èŠ‚ç ä¸­è¢«æ“¦é™¤ã€‚
> - ç¼–è¯‘åï¼Œæ³›å‹çš„ç±»å‹å‚æ•°ä¼šè¢«æ›¿æ¢ä¸º `Object`ï¼Œæˆ–åœ¨æŸäº›æƒ…å†µä¸‹æ›¿æ¢ä¸ºç±»å‹çš„ä¸Šé™ï¼ˆå¦‚æœæœ‰è®¾ç½®ï¼‰ã€‚
> - ç”±äºæ³›å‹ä¼šè¢«è½¬æ¢ä¸º `Object` ç±»å‹ï¼Œæ³›å‹åªèƒ½ç”¨äº**å¼•ç”¨ç±»å‹**ï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸èƒ½ç›´æ¥è½¬æ¢ä¸º `Object`ã€‚
>
> 2. åŸºæœ¬ç±»å‹æ¯”åŒ…è£…ç±»å‹æ›´é«˜æ•ˆ
>
>    åŸºæœ¬ç±»å‹åœ¨æ ˆä¸­ç›´æ¥å­˜å‚¨çš„å…·ä½“æ•°å€¼ï¼Œè€ŒåŒ…è£…ç±»å‹åˆ™å­˜å‚¨çš„æ˜¯å †ä¸­çš„å¼•ç”¨ã€‚
>
> ![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/29/16d7a5686ac8c66b~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)
>
> 
>
> å¾ˆæ˜¾ç„¶ï¼Œç›¸æ¯”è¾ƒäºåŸºæœ¬ç±»å‹è€Œè¨€ï¼ŒåŒ…è£…ç±»å‹éœ€è¦å ç”¨æ›´å¤šçš„å†…å­˜ç©ºé—´ã€‚å‡å¦‚æ²¡æœ‰åŸºæœ¬ç±»å‹çš„è¯ï¼Œå¯¹äºæ•°å€¼è¿™ç±»ç»å¸¸ä½¿ç”¨åˆ°çš„æ•°æ®æ¥è¯´ï¼Œæ¯æ¬¡éƒ½è¦é€šè¿‡ new ä¸€ä¸ªåŒ…è£…ç±»å‹å°±æ˜¾å¾—éå¸¸ç¬¨é‡ã€‚
>
> 3. ä¸¤ä¸ªåŒ…è£…ç±»å‹çš„å€¼å¯ä»¥ç›¸åŒï¼Œä½†å´ä¸ç›¸ç­‰
>
> 4. è‡ªåŠ¨è£…ç®±å’Œè‡ªåŠ¨æ‹†ç®±
>
>    æ—¢ç„¶æœ‰äº†åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹ï¼Œè‚¯å®šæœ‰äº›æ—¶å€™è¦åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚æŠŠåŸºæœ¬ç±»å‹è½¬æ¢æˆåŒ…è£…ç±»å‹çš„è¿‡ç¨‹å«åšè£…ç®±ï¼ˆboxingï¼‰ã€‚åä¹‹ï¼ŒæŠŠåŒ…è£…ç±»å‹è½¬æ¢æˆåŸºæœ¬ç±»å‹çš„è¿‡ç¨‹å«åšæ‹†ç®±ï¼ˆunboxingï¼‰
>
> 5. **åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶**
>
>    - **èŒƒå›´**ï¼šéƒ¨åˆ†åŒ…è£…ç±»ç¼“å­˜å¸¸ç”¨å€¼ï¼ˆå¦‚`Integer`ç¼“å­˜-128~127ï¼‰
>
>    - ```java
>      Integer a = 127;
>      Integer b = 127;
>      System.out.println(a == b); // trueï¼ˆåŒä¸€ç¼“å­˜å¯¹è±¡ï¼‰
>                
>      Integer c = 128;
>      Integer d = 128;
>      System.out.println(c == d); // falseï¼ˆæ–°åˆ›å»ºå¯¹è±¡ï¼‰
>      ```
>
> 

### ğŸ¯==å’Œequalsçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "==å’Œequalsçš„åŒºåˆ«æ˜¯Javaé¢è¯•çš„ç»å…¸é—®é¢˜ï¼š
>
> **==è¿ç®—ç¬¦**ï¼š
>
> - å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰
> - å¯¹äºå¼•ç”¨ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€ï¼ˆå¼•ç”¨ï¼‰æ˜¯å¦ç›¸åŒ
> - ä¸èƒ½è¢«é‡å†™ï¼Œæ˜¯Javaè¯­è¨€å±‚é¢çš„æ“ä½œç¬¦
>
> **equalsæ–¹æ³•**ï¼š
>
> - æ˜¯Objectç±»çš„æ–¹æ³•ï¼Œæ‰€æœ‰ç±»éƒ½ç»§æ‰¿äº†è¿™ä¸ªæ–¹æ³•
> - é»˜è®¤å®ç°å°±æ˜¯==æ¯”è¾ƒï¼Œä½†å¯ä»¥è¢«é‡å†™è‡ªå®šä¹‰æ¯”è¾ƒé€»è¾‘
> - Stringã€Integerç­‰åŒ…è£…ç±»éƒ½é‡å†™äº†equalsæ–¹æ³•ï¼Œæ¯”è¾ƒçš„æ˜¯å†…å®¹
> - é‡å†™equalsæ—¶å¿…é¡»åŒæ—¶é‡å†™hashCodeï¼Œä¿è¯'equalsç›¸ç­‰çš„å¯¹è±¡hashCodeä¹Ÿç›¸ç­‰'
>
> **æœ€ä½³å®è·µ**ï¼šæ¯”è¾ƒå¯¹è±¡å†…å®¹ç”¨equalsï¼Œæ¯”è¾ƒå¼•ç”¨ç”¨==ï¼›è‡ªå®šä¹‰ç±»éœ€è¦é‡å†™equalså’ŒhashCodeã€‚"

### ğŸ¯ æ·±æ‹·è´ã€æµ…æ‹·è´åŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "å¯¹è±¡æ‹·è´æ˜¯Javaä¸­çš„é‡è¦æ¦‚å¿µï¼Œåˆ†ä¸ºæµ…æ‹·è´å’Œæ·±æ‹·è´ï¼š
>
> **æµ…æ‹·è´ï¼ˆShallow Copyï¼‰**ï¼š
>
> - åªå¤åˆ¶å¯¹è±¡çš„åŸºæœ¬å­—æ®µï¼Œä¸å¤åˆ¶å¼•ç”¨å­—æ®µæŒ‡å‘çš„å¯¹è±¡
> - åŸå¯¹è±¡å’Œæ‹·è´å¯¹è±¡å…±äº«å¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡
> - ä¿®æ”¹å¼•ç”¨å¯¹è±¡ä¼šå½±å“åŸå¯¹è±¡å’Œæ‹·è´å¯¹è±¡
> - é€šè¿‡Object.clone()é»˜è®¤å®ç°æµ…æ‹·è´
>
> **æ·±æ‹·è´ï¼ˆDeep Copyï¼‰**ï¼š
>
> - å®Œå…¨å¤åˆ¶å¯¹è±¡åŠå…¶æ‰€æœ‰å¼•ç”¨çš„å¯¹è±¡
> - åŸå¯¹è±¡å’Œæ‹·è´å¯¹è±¡å®Œå…¨ç‹¬ç«‹ï¼Œäº’ä¸å½±å“
> - éœ€è¦é€’å½’å¤åˆ¶æ‰€æœ‰å¼•ç”¨ç±»å‹çš„å­—æ®µ
> - å®ç°æ–¹å¼ï¼šåºåˆ—åŒ–ã€æ‰‹åŠ¨é€’å½’å¤åˆ¶ã€ç¬¬ä¸‰æ–¹åº“
>
> **å®ç°æ–¹å¼å¯¹æ¯”**ï¼š
>
> - Object.clone()ï¼šæµ…æ‹·è´ï¼Œéœ€è¦å®ç°Cloneableæ¥å£
> - åºåˆ—åŒ–æ–¹å¼ï¼šæ·±æ‹·è´ï¼Œéœ€è¦å®ç°Serializableæ¥å£
> - æ„é€ å™¨/å·¥å‚æ–¹æ³•ï¼šå¯æ§åˆ¶æ‹·è´æ·±åº¦
> - ç¬¬ä¸‰æ–¹åº“ï¼šå¦‚Apache Commonsæˆ–Spring BeanUtils
>
> **é€‰æ‹©åŸåˆ™**ï¼šå¯¹è±¡ç»“æ„ç®€å•ç”¨æµ…æ‹·è´ï¼ŒåŒ…å«å¤æ‚å¼•ç”¨å…³ç³»ç”¨æ·±æ‹·è´ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
import java.io.*;
import java.util.*;

public class CopyDemo {
    
    public static void main(String[] args) throws Exception {
        // æ¼”ç¤ºæµ…æ‹·è´
        demonstrateShallowCopy();
        
        System.out.println();
        
        // æ¼”ç¤ºæ·±æ‹·è´
        demonstrateDeepCopy();
        
        System.out.println();
        
        // æ¼”ç¤ºå„ç§æ·±æ‹·è´å®ç°æ–¹å¼
        demonstrateDeepCopyMethods();
    }
    
    public static void demonstrateShallowCopy() throws CloneNotSupportedException {
        System.out.println("=== æµ…æ‹·è´æ¼”ç¤º ===");
        
        Address address = new Address("åŒ—äº¬", "æœé˜³åŒº");
        Person original = new Person("å¼ ä¸‰", 25, address);
        
        // æµ…æ‹·è´
        Person shallowCopy = original.clone();
        
        System.out.println("åŸå¯¹è±¡: " + original);
        System.out.println("æµ…æ‹·è´: " + shallowCopy);
        System.out.println("åœ°å€å¯¹è±¡ç›¸åŒ: " + (original.getAddress() == shallowCopy.getAddress()));
        
        // ä¿®æ”¹æ‹·è´å¯¹è±¡çš„åŸºæœ¬å­—æ®µ
        shallowCopy.setName("æå››");
        shallowCopy.setAge(30);
        
        System.out.println("\nä¿®æ”¹æ‹·è´å¯¹è±¡çš„åŸºæœ¬å­—æ®µå:");
        System.out.println("åŸå¯¹è±¡: " + original);
        System.out.println("æµ…æ‹·è´: " + shallowCopy);
        
        // ä¿®æ”¹å¼•ç”¨å­—æ®µçš„å†…å®¹
        shallowCopy.getAddress().setCity("ä¸Šæµ·");
        shallowCopy.getAddress().setDistrict("æµ¦ä¸œæ–°åŒº");
        
        System.out.println("\nä¿®æ”¹å¼•ç”¨å­—æ®µå†…å®¹å:");
        System.out.println("åŸå¯¹è±¡: " + original);
        System.out.println("æµ…æ‹·è´: " + shallowCopy);
        System.out.println("åŸå¯¹è±¡åœ°å€ä¹Ÿè¢«ä¿®æ”¹äº†ï¼");
    }
    
    public static void demonstrateDeepCopy() throws Exception {
        System.out.println("=== æ·±æ‹·è´æ¼”ç¤º ===");
        
        Address address = new Address("å¹¿å·", "å¤©æ²³åŒº");
        PersonDeep original = new PersonDeep("ç‹äº”", 28, address);
        original.addHobby("è¯»ä¹¦");
        original.addHobby("æ¸¸æ³³");
        
        // æ·±æ‹·è´
        PersonDeep deepCopy = original.deepClone();
        
        System.out.println("åŸå¯¹è±¡: " + original);
        System.out.println("æ·±æ‹·è´: " + deepCopy);
        System.out.println("åœ°å€å¯¹è±¡ç›¸åŒ: " + (original.getAddress() == deepCopy.getAddress()));
        System.out.println("çˆ±å¥½åˆ—è¡¨ç›¸åŒ: " + (original.getHobbies() == deepCopy.getHobbies()));
        
        // ä¿®æ”¹æ‹·è´å¯¹è±¡
        deepCopy.setName("èµµå…­");
        deepCopy.getAddress().setCity("æ·±åœ³");
        deepCopy.getAddress().setDistrict("å—å±±åŒº");
        deepCopy.addHobby("ç¼–ç¨‹");
        
        System.out.println("\nä¿®æ”¹æ·±æ‹·è´å¯¹è±¡å:");
        System.out.println("åŸå¯¹è±¡: " + original);
        System.out.println("æ·±æ‹·è´: " + deepCopy);
        System.out.println("åŸå¯¹è±¡æœªå—å½±å“ï¼");
    }
    
    public static void demonstrateDeepCopyMethods() throws Exception {
        System.out.println("=== å„ç§æ·±æ‹·è´æ–¹æ³•æ¼”ç¤º ===");
        
        Address address = new Address("æ­å·", "è¥¿æ¹–åŒº");
        PersonDeep original = new PersonDeep("é’±ä¸ƒ", 32, address);
        original.addHobby("æ—…æ¸¸");
        
        // æ–¹æ³•1ï¼šåºåˆ—åŒ–æ·±æ‹·è´
        PersonDeep copy1 = SerializationUtils.deepCopy(original);
        
        // æ–¹æ³•2ï¼šæ‰‹åŠ¨æ·±æ‹·è´
        PersonDeep copy2 = original.manualDeepCopy();
        
        // æ–¹æ³•3ï¼šæ„é€ å™¨æ·±æ‹·è´
        PersonDeep copy3 = new PersonDeep(original);
        
        System.out.println("åŸå¯¹è±¡: " + original);
        System.out.println("åºåˆ—åŒ–æ‹·è´: " + copy1);
        System.out.println("æ‰‹åŠ¨æ‹·è´: " + copy2);
        System.out.println("æ„é€ å™¨æ‹·è´: " + copy3);
        
        // éªŒè¯ç‹¬ç«‹æ€§
        copy1.getAddress().setCity("copy1-åŸå¸‚");
        copy2.getAddress().setCity("copy2-åŸå¸‚");
        copy3.getAddress().setCity("copy3-åŸå¸‚");
        
        System.out.println("\nä¿®æ”¹å„æ‹·è´å¯¹è±¡å:");
        System.out.println("åŸå¯¹è±¡: " + original);
        System.out.println("copy1: " + copy1);
        System.out.println("copy2: " + copy2);
        System.out.println("copy3: " + copy3);
    }
}

// åœ°å€ç±»
class Address implements Cloneable, Serializable {
    private String city;
    private String district;
    
    public Address(String city, String district) {
        this.city = city;
        this.district = district;
    }
    
    // æ‹·è´æ„é€ å™¨
    public Address(Address other) {
        this.city = other.city;
        this.district = other.district;
    }
    
    @Override
    protected Address clone() throws CloneNotSupportedException {
        return (Address) super.clone();
    }
    
    // getters and setters
    public String getCity() { return city; }
    public void setCity(String city) { this.city = city; }
    public String getDistrict() { return district; }
    public void setDistrict(String district) { this.district = district; }
    
    @Override
    public String toString() {
        return city + "-" + district;
    }
}

// æµ…æ‹·è´Personç±»
class Person implements Cloneable {
    private String name;
    private int age;
    private Address address;
    
    public Person(String name, int age, Address address) {
        this.name = name;
        this.age = age;
        this.address = address;
    }
    
    @Override
    protected Person clone() throws CloneNotSupportedException {
        // é»˜è®¤çš„æµ…æ‹·è´
        return (Person) super.clone();
    }
    
    // getters and setters
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    public int getAge() { return age; }
    public void setAge(int age) { this.age = age; }
    public Address getAddress() { return address; }
    public void setAddress(Address address) { this.address = address; }
    
    @Override
    public String toString() {
        return "Person{name='" + name + "', age=" + age + ", address=" + address + "}";
    }
}

// æ·±æ‹·è´Personç±»
class PersonDeep implements Cloneable, Serializable {
    private String name;
    private int age;
    private Address address;
    private List<String> hobbies;
    
    public PersonDeep(String name, int age, Address address) {
        this.name = name;
        this.age = age;
        this.address = address;
        this.hobbies = new ArrayList<>();
    }
    
    // æ‹·è´æ„é€ å™¨
    public PersonDeep(PersonDeep other) {
        this.name = other.name;
        this.age = other.age;
        this.address = new Address(other.address);  // æ·±æ‹·è´åœ°å€
        this.hobbies = new ArrayList<>(other.hobbies);  // æ·±æ‹·è´åˆ—è¡¨
    }
    
    // æ‰‹åŠ¨æ·±æ‹·è´
    public PersonDeep manualDeepCopy() {
        PersonDeep copy = new PersonDeep(this.name, this.age, new Address(this.address));
        copy.hobbies = new ArrayList<>(this.hobbies);
        return copy;
    }
    
    // åºåˆ—åŒ–æ·±æ‹·è´
    public PersonDeep deepClone() throws Exception {
        return SerializationUtils.deepCopy(this);
    }
    
    public void addHobby(String hobby) {
        hobbies.add(hobby);
    }
    
    // getters and setters
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    public int getAge() { return age; }
    public void setAge(int age) { this.age = age; }
    public Address getAddress() { return address; }
    public void setAddress(Address address) { this.address = address; }
    public List<String> getHobbies() { return hobbies; }
    
    @Override
    public String toString() {
        return "PersonDeep{name='" + name + "', age=" + age + 
               ", address=" + address + ", hobbies=" + hobbies + "}";
    }
}

// åºåˆ—åŒ–å·¥å…·ç±»
class SerializationUtils {
    
    @SuppressWarnings("unchecked")
    public static <T extends Serializable> T deepCopy(T original) throws Exception {
        // åºåˆ—åŒ–
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        try (ObjectOutputStream oos = new ObjectOutputStream(baos)) {
            oos.writeObject(original);
        }
        
        // ååºåˆ—åŒ–
        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
        try (ObjectInputStream ois = new ObjectInputStream(bais)) {
            return (T) ois.readObject();
        }
    }
}

/*
 * æ‹·è´æ–¹å¼å¯¹æ¯”ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   æ–¹å¼      â”‚   å®ç°éš¾åº¦  â”‚   æ€§èƒ½      â”‚   å®Œæ•´æ€§    â”‚   é€‚ç”¨åœºæ™¯  â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚  æµ…æ‹·è´     â”‚     ç®€å•    â”‚     é«˜      â”‚   ä¸å®Œæ•´    â”‚  ç®€å•å¯¹è±¡   â”‚
 * â”‚  æ‰‹åŠ¨æ·±æ‹·è´ â”‚     ä¸­ç­‰    â”‚     ä¸­ç­‰    â”‚   å®Œæ•´      â”‚ å¯æ§æ‹·è´    â”‚
 * â”‚  åºåˆ—åŒ–æ‹·è´ â”‚     ç®€å•    â”‚     ä½      â”‚   å®Œæ•´      â”‚ å¤æ‚å¯¹è±¡    â”‚
 * â”‚  æ„é€ å™¨æ‹·è´ â”‚     ä¸­ç­‰    â”‚     é«˜      â”‚   å¯æ§      â”‚ è®¾è®¡è‰¯å¥½    â”‚
 * â”‚  ç¬¬ä¸‰æ–¹åº“   â”‚     ç®€å•    â”‚     ä¸­ç­‰    â”‚   å®Œæ•´      â”‚ é€šç”¨åœºæ™¯    â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * æœ€ä½³å®è·µï¼š
 * 1. ä¸å¯å˜å¯¹è±¡ä¸éœ€è¦æ·±æ‹·è´
 * 2. ä¼˜å…ˆä½¿ç”¨æ‹·è´æ„é€ å™¨ï¼Œæ§åˆ¶æ‹·è´é€»è¾‘
 * 3. å¤æ‚å¯¹è±¡å¯ä»¥è€ƒè™‘åºåˆ—åŒ–æ–¹å¼
 * 4. æ€§èƒ½æ•æ„Ÿåœºæ™¯é¿å…åºåˆ—åŒ–æ‹·è´
 * 5. æ³¨æ„å¾ªç¯å¼•ç”¨é—®é¢˜
 */
```

### ğŸ¯ hashCodeä¸equalsçš„å…³ç³»ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "hashCodeå’Œequalsæ˜¯Javaå¯¹è±¡çš„ä¸¤ä¸ªé‡è¦æ–¹æ³•ï¼Œå®ƒä»¬æœ‰ä¸¥æ ¼çš„å¥‘çº¦å…³ç³»ï¼š
>
> **hashCodeæ–¹æ³•**ï¼š
>
> - è¿”å›å¯¹è±¡çš„å“ˆå¸Œç å€¼ï¼Œç”¨äºå“ˆå¸Œè¡¨ï¼ˆå¦‚HashMapï¼‰ä¸­çš„å¿«é€ŸæŸ¥æ‰¾
> - é»˜è®¤å®ç°é€šå¸¸åŸºäºå¯¹è±¡çš„å†…å­˜åœ°å€è®¡ç®—
> - å¿…é¡»ä¿è¯ï¼šç›¸ç­‰çš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„å“ˆå¸Œç 
>
> **equalsä¸hashCodeå¥‘çº¦**ï¼š
>
> 1. å¦‚æœä¸¤ä¸ªå¯¹è±¡equalsç›¸ç­‰ï¼Œåˆ™å®ƒä»¬çš„hashCodeå¿…é¡»ç›¸ç­‰
> 2. å¦‚æœä¸¤ä¸ªå¯¹è±¡hashCodeç›¸ç­‰ï¼Œå®ƒä»¬çš„equalsä¸ä¸€å®šç›¸ç­‰ï¼ˆå“ˆå¸Œå†²çªï¼‰
> 3. é‡å†™equalsæ—¶å¿…é¡»é‡å†™hashCodeï¼Œå¦åˆ™è¿åå¥‘çº¦
> 4. hashCodeåº”è¯¥å°½é‡åˆ†æ•£ï¼Œå‡å°‘å“ˆå¸Œå†²çª
>
> **å®è·µåŸåˆ™**ï¼š
>
> - åŒæ—¶é‡å†™equalså’ŒhashCodeï¼Œä¿æŒä¸€è‡´æ€§
> - equalsä¸­ä½¿ç”¨çš„å­—æ®µï¼ŒhashCodeä¹Ÿåº”è¯¥ä½¿ç”¨
> - ä½¿ç”¨Objects.equals()å’ŒObjects.hash()ç®€åŒ–å®ç°
> - é‡å†™åçš„å¯¹è±¡æ‰èƒ½æ­£ç¡®ç”¨äºHashMapã€HashSetç­‰é›†åˆ
>
> è¿åå¥‘çº¦ä¼šå¯¼è‡´é›†åˆæ“ä½œå¼‚å¸¸ï¼Œå¦‚HashMapä¸­ç›¸ç­‰çš„å¯¹è±¡æ— æ³•æ­£ç¡®æŸ¥æ‰¾ã€‚"



---

## ğŸ”¤ ä¸‰ã€å­—ç¬¦ä¸²å¤„ç†ï¼ˆStringæ ¸å¿ƒï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šStringæ˜¯Javaä¸­æœ€å¸¸ç”¨çš„ç±»ï¼Œç†è§£Stringã€StringBuilderã€StringBufferçš„åŒºåˆ«å’Œå­—ç¬¦ä¸²å¸¸é‡æ± æœºåˆ¶æ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ã€‚

### ğŸ¯ Stringã€StringBuilderã€StringBufferçš„åŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Stringã€StringBuilderã€StringBufferçš„ä¸»è¦åŒºåˆ«ï¼š
>
> **Stringç±»**ï¼š
>
> - ä¸å¯å˜ï¼ˆimmutableï¼‰ï¼Œä»»ä½•ä¿®æ”¹éƒ½ä¼šåˆ›å»ºæ–°å¯¹è±¡
> - çº¿ç¨‹å®‰å…¨ï¼ˆå› ä¸ºä¸å¯å˜ï¼‰
> - é€‚ç”¨äºå­—ç¬¦ä¸²å†…å®¹ä¸ä¼šæ”¹å˜çš„åœºæ™¯
> - å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥ä¼šäº§ç”Ÿå¾ˆå¤šä¸´æ—¶å¯¹è±¡ï¼Œæ€§èƒ½è¾ƒå·®
>
> **StringBuilderç±»**ï¼š
>
> - å¯å˜çš„å­—ç¬¦åºåˆ—ï¼Œä¿®æ”¹æ“ä½œåœ¨åŸå¯¹è±¡ä¸Šè¿›è¡Œ
> - çº¿ç¨‹ä¸å®‰å…¨ï¼Œä½†æ€§èƒ½æœ€å¥½
> - é€‚ç”¨äºå•çº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ‹¼æ¥
> - å†…éƒ¨ä½¿ç”¨charæ•°ç»„ï¼ŒåŠ¨æ€æ‰©å®¹
>
> **StringBufferç±»**ï¼š
>
> - å¯å˜çš„å­—ç¬¦åºåˆ—ï¼ŒåŠŸèƒ½ä¸StringBuilderç±»ä¼¼
> - çº¿ç¨‹å®‰å…¨ï¼ˆæ–¹æ³•éƒ½ç”¨synchronizedä¿®é¥°ï¼‰
> - é€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ‹¼æ¥
> - ç”±äºåŒæ­¥å¼€é”€ï¼Œæ€§èƒ½æ¯”StringBuilderå·®
>
> **é€‰æ‹©å»ºè®®**ï¼šå•çº¿ç¨‹ç”¨StringBuilderï¼Œå¤šçº¿ç¨‹ç”¨StringBufferï¼Œä¸å˜å­—ç¬¦ä¸²ç”¨Stringã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
public class StringDemo {
    
    public static void main(String[] args) {
        // 1. Stringä¸å¯å˜æ€§æ¼”ç¤º
        demonstrateStringImmutability();
        
        // 2. å­—ç¬¦ä¸²å¸¸é‡æ± 
        demonstrateStringPool();
        
        // 3. æ€§èƒ½å¯¹æ¯”
        performanceComparison();
        
        // 4. çº¿ç¨‹å®‰å…¨æµ‹è¯•
        threadSafetyTest();
        
        // 5. å¸¸ç”¨æ–¹æ³•æ¼”ç¤º
        demonstrateStringMethods();
    }
    
    // Stringä¸å¯å˜æ€§æ¼”ç¤º
    public static void demonstrateStringImmutability() {
        System.out.println("=== String Immutability ===");
        
        String str = "Hello";
        System.out.println("Original string: " + str);
        System.out.println("String object ID: " + System.identityHashCode(str));
        
        str = str + " World";  // åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå¯¹è±¡ä¸å˜
        System.out.println("After concatenation: " + str);
        System.out.println("New object ID: " + System.identityHashCode(str));
        
        // å­—ç¬¦ä¸²å­—é¢é‡æ‹¼æ¥ï¼ˆç¼–è¯‘æ—¶ä¼˜åŒ–ï¼‰
        String compile1 = "Hello" + " " + "World";  // ç¼–è¯‘æ—¶åˆå¹¶ä¸º"Hello World"
        String compile2 = "Hello World";
        System.out.println("Compile-time concatenation same object: " + (compile1 == compile2)); // true
    }
    
    // å­—ç¬¦ä¸²å¸¸é‡æ± æ¼”ç¤º
    public static void demonstrateStringPool() {
        System.out.println("\n=== String Pool ===");
        
        String s1 = "hello";              // å¸¸é‡æ± 
        String s2 = "hello";              // å¼•ç”¨å¸¸é‡æ± ä¸­çš„å¯¹è±¡
        String s3 = new String("hello");  // å †ä¸­æ–°å¯¹è±¡
        String s4 = s3.intern();          // è¿”å›å¸¸é‡æ± ä¸­çš„å¯¹è±¡
        
        System.out.println("s1 == s2: " + (s1 == s2));  // trueï¼ŒåŒä¸€ä¸ªå¸¸é‡æ± å¯¹è±¡
        System.out.println("s1 == s3: " + (s1 == s3));  // falseï¼Œä¸åŒå¯¹è±¡
        System.out.println("s1 == s4: " + (s1 == s4));  // trueï¼Œintern()è¿”å›å¸¸é‡æ± å¯¹è±¡
        
        // åŠ¨æ€å­—ç¬¦ä¸²çš„intern
        String dynamic = new String("hello") + new String("world");
        String dynamicIntern = dynamic.intern();
        String literal = "helloworld";
        System.out.println("dynamic.intern() == literal: " + (dynamicIntern == literal));
    }
    
    // æ€§èƒ½å¯¹æ¯”
    public static void performanceComparison() {
        System.out.println("\n=== Performance Comparison ===");
        int iterations = 10000;
        
        // Stringæ‹¼æ¥æ€§èƒ½ï¼ˆå·®ï¼‰
        long startTime = System.currentTimeMillis();
        String result1 = "";
        for (int i = 0; i < iterations; i++) {
            result1 += "a";  // æ¯æ¬¡éƒ½åˆ›å»ºæ–°å¯¹è±¡
        }
        long stringTime = System.currentTimeMillis() - startTime;
        
        // StringBuilderæ€§èƒ½ï¼ˆæœ€å¥½ï¼‰
        startTime = System.currentTimeMillis();
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < iterations; i++) {
            sb.append("a");  // åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹
        }
        String result2 = sb.toString();
        long stringBuilderTime = System.currentTimeMillis() - startTime;
        
        // StringBufferæ€§èƒ½ï¼ˆä¸­ç­‰ï¼‰
        startTime = System.currentTimeMillis();
        StringBuffer sbf = new StringBuffer();
        for (int i = 0; i < iterations; i++) {
            sbf.append("a");  // åŒæ­¥æ–¹æ³•è°ƒç”¨
        }
        String result3 = sbf.toString();
        long stringBufferTime = System.currentTimeMillis() - startTime;
        
        System.out.println("String concatenation: " + stringTime + "ms");
        System.out.println("StringBuilder: " + stringBuilderTime + "ms");
        System.out.println("StringBuffer: " + stringBufferTime + "ms");
        
        System.out.println("Results equal: " + 
            result1.equals(result2) + ", " + result2.equals(result3));
    }
    
    // çº¿ç¨‹å®‰å…¨æµ‹è¯•
    public static void threadSafetyTest() {
        System.out.println("\n=== Thread Safety Test ===");
        
        // StringBuilder - çº¿ç¨‹ä¸å®‰å…¨
        StringBuilder sb = new StringBuilder();
        StringBuffer sbf = new StringBuffer();
        
        // åˆ›å»ºå¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œ
        Runnable appendTask = () -> {
            for (int i = 0; i < 1000; i++) {
                sb.append("a");
                sbf.append("a");
            }
        };
        
        Thread[] threads = new Thread[5];
        for (int i = 0; i < threads.length; i++) {
            threads[i] = new Thread(appendTask);
            threads[i].start();
        }
        
        // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ
        for (Thread thread : threads) {
            try {
                thread.join();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        
        System.out.println("Expected length: " + (5 * 1000));
        System.out.println("StringBuilder length: " + sb.length()); // å¯èƒ½å°äºæœŸæœ›å€¼
        System.out.println("StringBuffer length: " + sbf.length()); // ç­‰äºæœŸæœ›å€¼
    }
    
    // å¸¸ç”¨å­—ç¬¦ä¸²æ–¹æ³•æ¼”ç¤º
    public static void demonstrateStringMethods() {
        System.out.println("\n=== Common String Methods ===");
        
        String str = "  Hello World Java Programming  ";
        
        // åŸºæœ¬æ“ä½œ
        System.out.println("Length: " + str.length());
        System.out.println("Trimmed: '" + str.trim() + "'");
        System.out.println("Upper case: " + str.toUpperCase());
        System.out.println("Lower case: " + str.toLowerCase());
        
        // æœç´¢æ“ä½œ
        System.out.println("Index of 'World': " + str.indexOf("World"));
        System.out.println("Last index of 'a': " + str.lastIndexOf("a"));
        System.out.println("Contains 'Java': " + str.contains("Java"));
        System.out.println("Starts with '  Hello': " + str.startsWith("  Hello"));
        System.out.println("Ends with 'ing  ': " + str.endsWith("ming  "));
        
        // æ›¿æ¢æ“ä½œ
        System.out.println("Replace 'World' with 'Universe': " + 
            str.replace("World", "Universe"));
        System.out.println("Replace all spaces: " + 
            str.replaceAll("\\s+", "_"));
        
        // åˆ†å‰²æ“ä½œ
        String[] words = str.trim().split("\\s+");
        System.out.println("Split into words: " + java.util.Arrays.toString(words));
        
        // å­å­—ç¬¦ä¸²
        System.out.println("Substring(2, 7): '" + str.substring(2, 7) + "'");
        
        // å­—ç¬¦æ“ä½œ
        System.out.println("Char at index 2: '" + str.charAt(2) + "'");
        char[] chars = str.toCharArray();
        System.out.println("Char array length: " + chars.length);
    }
}

// StringBuilderå’ŒStringBufferæºç åˆ†æè¦ç‚¹
class StringBuilderAnalysis {
    /*
     * StringBuilderå’ŒStringBufferéƒ½ç»§æ‰¿è‡ªAbstractStringBuilder
     * 
     * æ ¸å¿ƒå­—æ®µï¼š
     * char[] value;  // å­˜å‚¨å­—ç¬¦æ•°æ®çš„æ•°ç»„
     * int count;     // å½“å‰å­—ç¬¦æ•°é‡
     * 
     * æ‰©å®¹æœºåˆ¶ï¼š
     * å½“å®¹é‡ä¸è¶³æ—¶ï¼Œæ–°å®¹é‡ = (æ—§å®¹é‡ + 1) * 2
     * å¦‚æœè¿˜ä¸å¤Ÿï¼Œç›´æ¥ä½¿ç”¨éœ€è¦çš„å®¹é‡
     * 
     * StringBufferçš„åŒæ­¥ï¼š
     * æ‰€æœ‰å…¬å…±æ–¹æ³•éƒ½ç”¨synchronizedä¿®é¥°
     * 
     * æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼š
     * 1. é¢„ä¼°å®¹é‡ï¼Œä½¿ç”¨å¸¦åˆå§‹å®¹é‡çš„æ„é€ æ–¹æ³•
     * 2. å•çº¿ç¨‹ç¯å¢ƒä¼˜å…ˆä½¿ç”¨StringBuilder
     * 3. é¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨Stringæ‹¼æ¥
     */
    
    public static void optimizedStringBuilding() {
        // å¥½çš„åšæ³•ï¼šé¢„ä¼°å®¹é‡
        StringBuilder sb = new StringBuilder(1000);  // é¢„åˆ†é…å®¹é‡
        
        // é¿å…çš„åšæ³•ï¼šä¸æ–­æ‰©å®¹
        StringBuilder sb2 = new StringBuilder();  // é»˜è®¤å®¹é‡16ï¼Œä¼šå¤šæ¬¡æ‰©å®¹
    }
}
```

---

## âš ï¸ å››ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼ˆExceptionæ ¸å¿ƒï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šå¼‚å¸¸å¤„ç†æ˜¯Javaç¨‹åºå¥å£®æ€§çš„é‡è¦ä¿éšœï¼Œç†è§£å¼‚å¸¸ä½“ç³»ã€å¤„ç†æœºåˆ¶å’Œæœ€ä½³å®è·µå¯¹ç¼–å†™é«˜è´¨é‡ä»£ç è‡³å…³é‡è¦ã€‚

### ğŸ¯ Javaå¼‚å¸¸ä½“ç³»æ˜¯æ€æ ·çš„ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaå¼‚å¸¸ä½“ç³»ä»¥Throwableä¸ºæ ¹ç±»ï¼Œåˆ†ä¸ºä¸¤å¤§åˆ†æ”¯ï¼š
>
> **Errorç±»**ï¼šè¡¨ç¤ºä¸¥é‡çš„ç³»ç»Ÿçº§é”™è¯¯ï¼Œç¨‹åºæ— æ³•å¤„ç†ï¼Œå¦‚OutOfMemoryErrorã€StackOverflowErrorã€‚åº”ç”¨ç¨‹åºä¸åº”è¯¥æ•è·è¿™ç±»å¼‚å¸¸ã€‚
>
> **Exceptionç±»**ï¼šç¨‹åºå¯ä»¥å¤„ç†çš„å¼‚å¸¸ï¼Œåˆåˆ†ä¸ºä¸¤ç±»ï¼š
>
> **æ£€æŸ¥å‹å¼‚å¸¸ï¼ˆChecked Exceptionï¼‰**ï¼š
>
> - ç¼–è¯‘æ—¶å¿…é¡»å¤„ç†ï¼ˆtry-catchæˆ–throwså£°æ˜ï¼‰
> - å¦‚IOExceptionã€SQLExceptionã€ClassNotFoundException
> - è¡¨ç¤ºç¨‹åºè¿è¡Œä¸­å¯èƒ½å‡ºç°çš„åˆç†å¼‚å¸¸æƒ…å†µ
>
> **éæ£€æŸ¥å‹å¼‚å¸¸ï¼ˆUnchecked Exceptionï¼‰**ï¼š
>
> - ç»§æ‰¿è‡ªRuntimeExceptionï¼Œç¼–è¯‘æ—¶ä¸å¼ºåˆ¶å¤„ç†
> - å¦‚NullPointerExceptionã€ArrayIndexOutOfBoundsException
> - é€šå¸¸è¡¨ç¤ºç¨‹åºé€»è¾‘é”™è¯¯
>
> **å¼‚å¸¸å¤„ç†åŸåˆ™**ï¼šèƒ½å¤„ç†å°±å¤„ç†ï¼Œä¸èƒ½å¤„ç†å°±å‘ä¸ŠæŠ›å‡ºï¼›è®°å½•æ—¥å¿—ï¼›ä¸è¦å¿½ç•¥å¼‚å¸¸ï¼›ä¼˜å…ˆä½¿ç”¨æ ‡å‡†å¼‚å¸¸ã€‚"



---

## ğŸ¯ äº”ã€æ³›å‹æœºåˆ¶ï¼ˆGenericæ ¸å¿ƒï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šæ³›å‹æä¾›äº†ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œé¿å…ç±»å‹è½¬æ¢å¼‚å¸¸ï¼ŒåŒæ—¶æé«˜ä»£ç å¤ç”¨æ€§å’Œå¯è¯»æ€§ã€‚

### ğŸ¯ ä»€ä¹ˆæ˜¯Javaæ³›å‹ï¼Ÿç±»å‹æ“¦é™¤æ˜¯ä»€ä¹ˆï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaæ³›å‹æ˜¯JDK 5å¼•å…¥çš„ç‰¹æ€§ï¼Œå…è®¸åœ¨å®šä¹‰ç±»ã€æ¥å£å’Œæ–¹æ³•æ—¶ä½¿ç”¨ç±»å‹å‚æ•°ï¼š
>
> **æ³›å‹çš„ä½œç”¨**ï¼š
>
> - æä¾›ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œé¿å…ClassCastException
> - æ¶ˆé™¤ç±»å‹è½¬æ¢çš„éœ€è¦ï¼Œæé«˜ä»£ç å¯è¯»æ€§
> - æé«˜ä»£ç å¤ç”¨æ€§ï¼Œä¸€å¥—ä»£ç é€‚ç”¨å¤šç§ç±»å‹
>
> **ç±»å‹æ“¦é™¤ï¼ˆType Erasureï¼‰**ï¼š
>
> - Javaæ³›å‹æ˜¯ç¼–è¯‘æ—¶ç‰¹æ€§ï¼Œè¿è¡Œæ—¶ä¼šè¢«æ“¦é™¤
> - ç¼–è¯‘åæ‰€æœ‰æ³›å‹ä¿¡æ¯éƒ½è¢«æ›¿æ¢ä¸ºåŸå§‹ç±»å‹æˆ–Object
> - è¿™æ˜¯ä¸ºäº†ä¿æŒä¸æ—©æœŸJavaç‰ˆæœ¬çš„å…¼å®¹æ€§
> - å¯¼è‡´ä¸€äº›é™åˆ¶ï¼Œå¦‚ä¸èƒ½åˆ›å»ºæ³›å‹æ•°ç»„ã€ä¸èƒ½è·å–è¿è¡Œæ—¶æ³›å‹ä¿¡æ¯ç­‰
>
> **é€šé…ç¬¦**ï¼š
>
> - `?` è¡¨ç¤ºæœªçŸ¥ç±»å‹
> - `? extends T` ä¸Šç•Œé€šé…ç¬¦ï¼Œåªèƒ½è¯»å–
> - `? super T` ä¸‹ç•Œé€šé…ç¬¦ï¼Œåªèƒ½å†™å…¥
>
> **PECSåŸåˆ™**ï¼šProducer Extends, Consumer Super - ç”Ÿäº§è€…ä½¿ç”¨extendsï¼Œæ¶ˆè´¹è€…ä½¿ç”¨superã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
import java.util.*;

public class GenericDemo {
    
    public static void main(String[] args) {
        // 1. æ³›å‹ç±»ï¼šç±»å‹å®‰å…¨ï¼Œæ— éœ€è½¬æ¢
        Box<String> stringBox = new Box<>("Hello");
        String str = stringBox.get();               // æ— éœ€å¼ºè½¬
        
        List<Integer> list = new ArrayList<>();     // ç±»å‹å®‰å…¨
        list.add(100);
        // list.add("string");                      // ç¼–è¯‘é”™è¯¯
        
        // 2. æ³›å‹æ–¹æ³•ï¼šç±»å‹æ¨æ–­
        String[] arr = {"A", "B", "C"};
        swap(arr, 0, 2);                           // <String>å¯çœç•¥
        
        // 3. é€šé…ç¬¦ï¼šçµæ´»æ€§
        List<? extends Number> numbers = new ArrayList<Integer>();
        List<? super Integer> ints = new ArrayList<Number>();
        
        // 4. ç±»å‹æ“¦é™¤ï¼šè¿è¡Œæ—¶æ³›å‹ä¿¡æ¯ä¸¢å¤±
        List<String> strList = new ArrayList<>();
        List<Integer> intList = new ArrayList<>();
        System.out.println(strList.getClass() == intList.getClass()); // true
    }
    
    // æ³›å‹ç±»æ¼”ç¤º
    public static void demonstrateGenericClass() {
        System.out.println("=== Generic Class Demo ===");
        
        // ä½¿ç”¨æ³›å‹é¿å…ç±»å‹è½¬æ¢
        Box<String> stringBox = new Box<>("Hello");
        Box<Integer> intBox = new Box<>(42);
        
        String str = stringBox.get();  // æ— éœ€ç±»å‹è½¬æ¢
        Integer num = intBox.get();    // ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨
        
        System.out.println("String box: " + str);
        System.out.println("Integer box: " + num);
        
        // æ³›å‹é›†åˆ
        List<String> stringList = new ArrayList<>();
        stringList.add("Java");
        stringList.add("Python");
        // stringList.add(123);  // ç¼–è¯‘é”™è¯¯ï¼Œç±»å‹å®‰å…¨
        
        for (String s : stringList) {
            System.out.println("Language: " + s);  // æ— éœ€è½¬æ¢
        }
    }
    
    // æ³›å‹æ–¹æ³•æ¼”ç¤º
    public static void demonstrateGenericMethod() {
        System.out.println("\n=== Generic Method Demo ===");
        
        // æ³›å‹æ–¹æ³•è‡ªåŠ¨æ¨æ–­ç±»å‹
        String[] strings = {"a", "b", "c"};
        Integer[] integers = {1, 2, 3};
        
        printArray(strings);   // Tæ¨æ–­ä¸ºString
        printArray(integers);  // Tæ¨æ–­ä¸ºInteger
        
        // æ˜¾å¼æŒ‡å®šç±»å‹
        GenericDemo.<Double>printArray(new Double[]{1.1, 2.2, 3.3});
        
        // æœ‰ç•Œç±»å‹å‚æ•°
        System.out.println("Max number: " + findMax(integers));
        
        // å¤šä¸ªç±»å‹å‚æ•°
        Pair<String, Integer> pair = makePair("Age", 25);
        System.out.println("Pair: " + pair);
    }
    
    // é€šé…ç¬¦æ¼”ç¤º
    public static void demonstrateWildcards() {
        System.out.println("\n=== Wildcards Demo ===");
        
        List<Integer> intList = Arrays.asList(1, 2, 3);
        List<Double> doubleList = Arrays.asList(1.1, 2.2, 3.3);
        List<String> stringList = Arrays.asList("a", "b", "c");
        
        // ä¸Šç•Œé€šé…ç¬¦ - åªèƒ½è¯»å–ï¼Œä¸èƒ½å†™å…¥
        printNumbers(intList);    // Integer extends Number
        printNumbers(doubleList); // Double extends Number
        // printNumbers(stringList); // ç¼–è¯‘é”™è¯¯
        
        // ä¸‹ç•Œé€šé…ç¬¦ - åªèƒ½å†™å…¥Numberæˆ–å…¶å­ç±»
        List<Object> objList = new ArrayList<>();
        addNumbers(objList);
        System.out.println("Added numbers: " + objList);
        
        // æ— ç•Œé€šé…ç¬¦
        printCollection(intList);
        printCollection(stringList);
    }
    
    // ç±»å‹æ“¦é™¤æ¼”ç¤º
    public static void demonstrateTypeErasure() {
        System.out.println("\n=== Type Erasure Demo ===");
        
        List<String> stringList = new ArrayList<>();
        List<Integer> intList = new ArrayList<>();
        
        // è¿è¡Œæ—¶ç±»å‹ç›¸åŒï¼Œéƒ½æ˜¯ArrayList
        System.out.println("Same class: " + 
            (stringList.getClass() == intList.getClass())); // true
        
        System.out.println("Class name: " + stringList.getClass().getName());
        
        // åå°„æ— æ³•è·å–æ³›å‹ä¿¡æ¯
        try {
            java.lang.reflect.Method method = GenericDemo.class.getMethod("printArray", Object[].class);
            System.out.println("Method: " + method.toGenericString());
        } catch (NoSuchMethodException e) {
            e.printStackTrace();
        }
    }
    
    // æ³›å‹é™åˆ¶æ¼”ç¤º
    public static void demonstrateGenericLimitations() {
        System.out.println("\n=== Generic Limitations Demo ===");
        
        // 1. ä¸èƒ½åˆ›å»ºæ³›å‹æ•°ç»„
        // List<String>[] array = new List<String>[10]; // ç¼–è¯‘é”™è¯¯
        List<String>[] array = new List[10];  // å¯ä»¥ï¼Œä½†ä¼šæœ‰è­¦å‘Š
        
        // 2. ä¸èƒ½å®ä¾‹åŒ–ç±»å‹å‚æ•°
        // T instance = new T(); // ç¼–è¯‘é”™è¯¯
        
        // 3. ä¸èƒ½åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„æ•°ç»„
        // Pair<String, Integer>[] pairs = new Pair<String, Integer>[10]; // ç¼–è¯‘é”™è¯¯
        
        // 4. é™æ€å­—æ®µä¸èƒ½ä½¿ç”¨ç±»å‹å‚æ•°
        // static T staticField; // ç¼–è¯‘é”™è¯¯
        
        System.out.println("Generic limitations demonstrated");
    }
    
    // æ³›å‹æ–¹æ³•
    public static <T> void printArray(T[] array) {
        for (T element : array) {
            System.out.print(element + " ");
        }
        System.out.println();
    }
    
    // æœ‰ç•Œç±»å‹å‚æ•°
    public static <T extends Comparable<T>> T findMax(T[] array) {
        T max = array[0];
        for (T element : array) {
            if (element.compareTo(max) > 0) {
                max = element;
            }
        }
        return max;
    }
    
    // å¤šä¸ªç±»å‹å‚æ•°
    public static <T, U> Pair<T, U> makePair(T first, U second) {
        return new Pair<>(first, second);
    }
    
    // ä¸Šç•Œé€šé…ç¬¦
    public static void printNumbers(List<? extends Number> list) {
        for (Number n : list) {
            System.out.print(n + " ");
        }
        System.out.println();
    }
    
    // ä¸‹ç•Œé€šé…ç¬¦
    public static void addNumbers(List<? super Number> list) {
        list.add(42);
        list.add(3.14);
        // list.add("string"); // ç¼–è¯‘é”™è¯¯
    }
    
    // æ— ç•Œé€šé…ç¬¦
    public static void printCollection(List<?> list) {
        for (Object obj : list) {
            System.out.print(obj + " ");
        }
        System.out.println();
    }
}

// æ³›å‹ç±»
class Box<T> {
    private T content;
    
    public Box(T content) {
        this.content = content;
    }
    
    public T get() {
        return content;
    }
    
    public void set(T content) {
        this.content = content;
    }
}

// å¤šä¸ªç±»å‹å‚æ•°çš„æ³›å‹ç±»
class Pair<T, U> {
    private T first;
    private U second;
    
    public Pair(T first, U second) {
        this.first = first;
        this.second = second;
    }
    
    public T getFirst() { return first; }
    public U getSecond() { return second; }
    
    @Override
    public String toString() {
        return "(" + first + ", " + second + ")";
    }
}

// æœ‰ç•Œç±»å‹å‚æ•°
class NumberBox<T extends Number> {
    private T number;
    
    public NumberBox(T number) {
        this.number = number;
    }
    
    public double getDoubleValue() {
        return number.doubleValue();  // å¯ä»¥è°ƒç”¨Numberçš„æ–¹æ³•
    }
}
```

---

## ğŸª å…­ã€åå°„æœºåˆ¶ï¼ˆReflectionæ ¸å¿ƒï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šåå°„æ˜¯Javaçš„åŠ¨æ€ç‰¹æ€§ï¼Œå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œæ“ä½œç±»ã€æ–¹æ³•ã€å­—æ®µç­‰ï¼Œæ˜¯æ¡†æ¶å¼€å‘çš„é‡è¦åŸºç¡€ã€‚

### ğŸ¯ æ³¨è§£çš„åŸç†ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaæ³¨è§£æ˜¯ä¸€ç§ç‰¹æ®Šçš„'æ¥å£'ï¼Œç”¨äºä¸ºä»£ç æä¾›å…ƒæ•°æ®ä¿¡æ¯ï¼š
>
> **æ³¨è§£çš„æœ¬è´¨**ï¼š
>
> - æ³¨è§£æœ¬è´¨ä¸Šæ˜¯ç»§æ‰¿äº†Annotationæ¥å£çš„ç‰¹æ®Šæ¥å£
> - ç¼–è¯‘åç”Ÿæˆå­—èŠ‚ç ï¼Œå­˜å‚¨åœ¨Classæ–‡ä»¶çš„å¸¸é‡æ± ä¸­
> - è¿è¡Œæ—¶é€šè¿‡åå°„æœºåˆ¶è¯»å–æ³¨è§£ä¿¡æ¯
> - ä¸å½±å“ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œï¼Œåªæä¾›å…ƒæ•°æ®
>
> **æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ**ï¼š
>
> - SOURCEï¼šåªåœ¨æºç é˜¶æ®µä¿ç•™ï¼Œç¼–è¯‘æ—¶ä¸¢å¼ƒ
> - CLASSï¼šç¼–è¯‘åˆ°Classæ–‡ä»¶ï¼Œè¿è¡Œæ—¶ä¸åŠ è½½åˆ°JVM
> - RUNTIMEï¼šè¿è¡Œæ—¶ä¿ç•™ï¼Œå¯ä»¥é€šè¿‡åå°„è¯»å–
>
> **æ³¨è§£å¤„ç†æµç¨‹**ï¼š
>
> 1. å®šä¹‰æ³¨è§£ï¼ˆä½¿ç”¨@interfaceï¼‰
> 2. åœ¨ä»£ç ä¸­ä½¿ç”¨æ³¨è§£
> 3. ç¼–è¯‘å™¨å°†æ³¨è§£ä¿¡æ¯å†™å…¥Classæ–‡ä»¶
> 4. è¿è¡Œæ—¶é€šè¿‡åå°„APIè¯»å–å’Œå¤„ç†æ³¨è§£
>
> **æ ¸å¿ƒåº”ç”¨**ï¼š
>
> - æ¡†æ¶é…ç½®ï¼šSpringçš„@Componentã€@Autowiredç­‰
> - ä»£ç ç”Ÿæˆï¼šLombokçš„@Dataã€@Getterç­‰
> - çº¦æŸæ ¡éªŒï¼š@NotNullã€@Validç­‰
> - æµ‹è¯•æ¡†æ¶ï¼šJUnitçš„@Testã€@BeforeEachç­‰
>
> æ³¨è§£æ˜¯ç°ä»£Javaæ¡†æ¶çš„åŸºçŸ³ï¼Œç®€åŒ–äº†é…ç½®ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚"

### ğŸ¯ ä»€ä¹ˆæ˜¯åå°„æœºåˆ¶ï¼Ÿåå°„æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaåå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»éƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„æ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºJavaçš„åå°„æœºåˆ¶ã€‚
>
> **åå°„çš„æ ¸å¿ƒç±»**ï¼š
>
> - Classï¼šç±»çš„å…ƒä¿¡æ¯ï¼Œæ˜¯åå°„çš„å…¥å£ç‚¹
> - Fieldï¼šå­—æ®µä¿¡æ¯ï¼Œå¯ä»¥è·å–å’Œè®¾ç½®å­—æ®µå€¼
> - Methodï¼šæ–¹æ³•ä¿¡æ¯ï¼Œå¯ä»¥è°ƒç”¨æ–¹æ³•
> - Constructorï¼šæ„é€ å™¨ä¿¡æ¯ï¼Œå¯ä»¥åˆ›å»ºå®ä¾‹
>
> **åº”ç”¨åœºæ™¯**ï¼š
>
> - æ¡†æ¶å¼€å‘ï¼šSpringã€Hibernateç­‰å¤§é‡ä½¿ç”¨åå°„
> - æ³¨è§£å¤„ç†ï¼šè¿è¡Œæ—¶å¤„ç†æ³¨è§£ä¿¡æ¯
> - åŠ¨æ€ä»£ç†ï¼šJDKåŠ¨æ€ä»£ç†åŸºäºåå°„å®ç°
> - é…ç½®æ–‡ä»¶ï¼šæ ¹æ®é…ç½®åŠ¨æ€åˆ›å»ºå¯¹è±¡
> - IDEå·¥å…·ï¼šä»£ç æç¤ºã€è‡ªåŠ¨å®ŒæˆåŠŸèƒ½
>
> **ä¼˜ç¼ºç‚¹**ï¼š
>
> - ä¼˜ç‚¹ï¼šæé«˜ä»£ç çµæ´»æ€§ï¼Œå®ç°åŠ¨æ€ç¼–ç¨‹
> - ç¼ºç‚¹ï¼šæ€§èƒ½å¼€é”€å¤§ï¼Œç ´åå°è£…æ€§ï¼Œä»£ç å¯è¯»æ€§å·®
>
> åå°„æ˜¯æ¡†æ¶è®¾è®¡çš„çµé­‚ï¼Œä½†åœ¨æ—¥å¸¸å¼€å‘ä¸­åº”è°¨æ…ä½¿ç”¨ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
import java.lang.annotation.*;
import java.lang.reflect.*;
import java.util.*;

public class ReflectionDemo {
    
    public static void main(String[] args) throws Exception {
        // 1. è·å–Classå¯¹è±¡çš„ä¸‰ç§æ–¹å¼
        demonstrateGetClass();
        
        // 2. åå°„æ“ä½œå­—æ®µ
        demonstrateFields();
        
        // 3. åå°„æ“ä½œæ–¹æ³•
        demonstrateMethods();
        
        // 4. åå°„æ“ä½œæ„é€ å™¨
        demonstrateConstructors();
        
        // 5. æ³¨è§£å¤„ç†
        demonstrateAnnotations();
        
        // 6. åŠ¨æ€ä»£ç†
        demonstrateDynamicProxy();
    }
    
    // è·å–Classå¯¹è±¡çš„æ–¹å¼
    public static void demonstrateGetClass() throws ClassNotFoundException {
        System.out.println("=== Get Class Object ===");
        
        // æ–¹å¼1ï¼šé€šè¿‡å¯¹è±¡è·å–
        Student student = new Student("Alice", 20);
        Class<?> clazz1 = student.getClass();
        
        // æ–¹å¼2ï¼šé€šè¿‡ç±»åè·å–
        Class<?> clazz2 = Student.class;
        
        // æ–¹å¼3ï¼šé€šè¿‡Class.forName()è·å–
        Class<?> clazz3 = Class.forName("Student");
        
        System.out.println("Same class: " + (clazz1 == clazz2 && clazz2 == clazz3));
        System.out.println("Class name: " + clazz1.getName());
        System.out.println("Simple name: " + clazz1.getSimpleName());
        System.out.println("Package: " + clazz1.getPackage().getName());
    }
    
    // åå°„æ“ä½œå­—æ®µ
    public static void demonstrateFields() throws Exception {
        System.out.println("\n=== Field Operations ===");
        
        Class<?> clazz = Student.class;
        Student student = new Student("Bob", 22);
        
        // è·å–æ‰€æœ‰å­—æ®µï¼ˆåŒ…æ‹¬ç§æœ‰ï¼‰
        Field[] fields = clazz.getDeclaredFields();
        System.out.println("Fields count: " + fields.length);
        
        for (Field field : fields) {
            System.out.println("Field: " + field.getName() + 
                             ", Type: " + field.getType().getSimpleName() + 
                             ", Modifiers: " + Modifier.toString(field.getModifiers()));
        }
        
        // è®¿é—®ç§æœ‰å­—æ®µ
        Field nameField = clazz.getDeclaredField("name");
        nameField.setAccessible(true);  // ç»•è¿‡è®¿é—®æ§åˆ¶
        
        String name = (String) nameField.get(student);
        System.out.println("Original name: " + name);
        
        nameField.set(student, "Charlie");
        System.out.println("Modified name: " + student.getName());
        
        // è®¿é—®é™æ€å­—æ®µ
        Field countField = clazz.getDeclaredField("count");
        countField.setAccessible(true);
        int count = (int) countField.get(null);  // é™æ€å­—æ®µä¼ null
        System.out.println("Student count: " + count);
    }
    
    // åå°„æ“ä½œæ–¹æ³•
    public static void demonstrateMethods() throws Exception {
        System.out.println("\n=== Method Operations ===");
        
        Class<?> clazz = Student.class;
        Student student = new Student("David", 25);
        
        // è·å–æ‰€æœ‰æ–¹æ³•
        Method[] methods = clazz.getDeclaredMethods();
        System.out.println("Methods count: " + methods.length);
        
        for (Method method : methods) {
            System.out.println("Method: " + method.getName() + 
                             ", Return type: " + method.getReturnType().getSimpleName() + 
                             ", Parameters: " + method.getParameterCount());
        }
        
        // è°ƒç”¨å…¬å…±æ–¹æ³•
        Method getNameMethod = clazz.getMethod("getName");
        String name = (String) getNameMethod.invoke(student);
        System.out.println("Name from method: " + name);
        
        // è°ƒç”¨ç§æœ‰æ–¹æ³•
        Method privateMethod = clazz.getDeclaredMethod("privateMethod");
        privateMethod.setAccessible(true);
        privateMethod.invoke(student);
        
        // è°ƒç”¨å¸¦å‚æ•°çš„æ–¹æ³•
        Method setAgeMethod = clazz.getMethod("setAge", int.class);
        setAgeMethod.invoke(student, 30);
        System.out.println("Age after method call: " + student.getAge());
        
        // è°ƒç”¨é™æ€æ–¹æ³•
        Method staticMethod = clazz.getDeclaredMethod("getCount");
        int count = (int) staticMethod.invoke(null);
        System.out.println("Count from static method: " + count);
    }
    
    // åå°„æ“ä½œæ„é€ å™¨
    public static void demonstrateConstructors() throws Exception {
        System.out.println("\n=== Constructor Operations ===");
        
        Class<?> clazz = Student.class;
        
        // è·å–æ‰€æœ‰æ„é€ å™¨
        Constructor<?>[] constructors = clazz.getDeclaredConstructors();
        System.out.println("Constructors count: " + constructors.length);
        
        for (Constructor<?> constructor : constructors) {
            System.out.println("Constructor parameters: " + constructor.getParameterCount());
        }
        
        // ä½¿ç”¨æ— å‚æ„é€ å™¨
        Constructor<?> defaultConstructor = clazz.getDeclaredConstructor();
        Student student1 = (Student) defaultConstructor.newInstance();
        System.out.println("Default constructor: " + student1);
        
        // ä½¿ç”¨æœ‰å‚æ„é€ å™¨
        Constructor<?> paramConstructor = clazz.getDeclaredConstructor(String.class, int.class);
        Student student2 = (Student) paramConstructor.newInstance("Eva", 28);
        System.out.println("Param constructor: " + student2);
    }
    
    // æ³¨è§£å¤„ç†
    public static void demonstrateAnnotations() throws Exception {
        System.out.println("\n=== Annotation Processing ===");
        
        Class<?> clazz = Student.class;
        
        // æ£€æŸ¥ç±»æ³¨è§£
        if (clazz.isAnnotationPresent(MyAnnotation.class)) {
            MyAnnotation annotation = clazz.getAnnotation(MyAnnotation.class);
            System.out.println("Class annotation value: " + annotation.value());
        }
        
        // æ£€æŸ¥å­—æ®µæ³¨è§£
        Field nameField = clazz.getDeclaredField("name");
        if (nameField.isAnnotationPresent(MyAnnotation.class)) {
            MyAnnotation annotation = nameField.getAnnotation(MyAnnotation.class);
            System.out.println("Field annotation value: " + annotation.value());
        }
        
        // æ£€æŸ¥æ–¹æ³•æ³¨è§£
        Method method = clazz.getMethod("getName");
        if (method.isAnnotationPresent(MyAnnotation.class)) {
            MyAnnotation annotation = method.getAnnotation(MyAnnotation.class);
            System.out.println("Method annotation value: " + annotation.value());
        }
    }
    
    // åŠ¨æ€ä»£ç†
    public static void demonstrateDynamicProxy() {
        System.out.println("\n=== Dynamic Proxy ===");
        
        // åˆ›å»ºç›®æ ‡å¯¹è±¡
        UserService userService = new UserServiceImpl();
        
        // åˆ›å»ºä»£ç†å¯¹è±¡
        UserService proxy = (UserService) Proxy.newProxyInstance(
            userService.getClass().getClassLoader(),
            userService.getClass().getInterfaces(),
            new LoggingHandler(userService)
        );
        
        // é€šè¿‡ä»£ç†è°ƒç”¨æ–¹æ³•
        proxy.login("admin", "password");
        proxy.logout("admin");
    }
}

// ç¤ºä¾‹ç±»
@MyAnnotation("Student class")
class Student {
    private static int count = 0;
    
    @MyAnnotation("name field")
    private String name;
    private int age;
    
    public Student() {
        this("Unknown", 0);
    }
    
    public Student(String name, int age) {
        this.name = name;
        this.age = age;
        count++;
    }
    
    @MyAnnotation("getName method")
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public int getAge() {
        return age;
    }
    
    public void setAge(int age) {
        this.age = age;
    }
    
    private void privateMethod() {
        System.out.println("Private method called");
    }
    
    public static int getCount() {
        return count;
    }
    
    @Override
    public String toString() {
        return "Student{name='" + name + "', age=" + age + "}";
    }
}

// è‡ªå®šä¹‰æ³¨è§£
@Retention(RetentionPolicy.RUNTIME)
@Target({ElementType.TYPE, ElementType.FIELD, ElementType.METHOD})
@interface MyAnnotation {
    String value() default "";
}

// åŠ¨æ€ä»£ç†ç¤ºä¾‹
interface UserService {
    void login(String username, String password);
    void logout(String username);
}

class UserServiceImpl implements UserService {
    @Override
    public void login(String username, String password) {
        System.out.println("User " + username + " logged in");
    }
    
    @Override
    public void logout(String username) {
        System.out.println("User " + username + " logged out");
    }
}

class LoggingHandler implements InvocationHandler {
    private Object target;
    
    public LoggingHandler(Object target) {
        this.target = target;
    }
    
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println("Before method: " + method.getName());
        Object result = method.invoke(target, args);
        System.out.println("After method: " + method.getName());
        return result;
    }
}
```



### ğŸ¯ åå°„çš„åŸç†ï¼Ÿ

> åå°„åŸºäº JVM ç±»åŠ è½½æœºåˆ¶ï¼ŒJVM åœ¨ç±»åŠ è½½åä¼šç”Ÿæˆå”¯ä¸€çš„ `Class` å¯¹è±¡ä¿å­˜ç±»çš„å…ƒä¿¡æ¯ã€‚åå°„ API å°±æ˜¯é€šè¿‡ `Class` å¯¹è±¡è®¿é—®è¿™äº›å…ƒä¿¡æ¯ï¼Œä»è€Œåœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å­—æ®µæˆ–åˆ›å»ºå¯¹è±¡ã€‚å®ƒçš„æœ¬è´¨æ˜¯ JVM å†…éƒ¨ç±»å‹ä¿¡æ¯è¡¨çš„è®¿é—®å°è£…ã€‚åå°„çµæ´»ä½†æ€§èƒ½è¾ƒå·®ï¼Œå› æ­¤ä¸»è¦ç”¨äºæ¡†æ¶å±‚ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡å±‚çš„é«˜é¢‘è°ƒç”¨ã€‚

åå°„æ˜¯ **JVM åœ¨ç±»åŠ è½½åï¼Œåˆ©ç”¨è¿è¡Œæ—¶ä¿ç•™çš„ç±»å…ƒæ•°æ®ï¼Œé€šè¿‡ `Class` å¯¹è±¡æ¥æ“ä½œç±»çš„å±æ€§å’Œæ–¹æ³•** çš„æœºåˆ¶ï¼Œæœ¬è´¨æ˜¯å¯¹ JVM å†…éƒ¨æ•°æ®ç»“æ„çš„ä¸€å±‚å°è£…ã€‚

**1ã€æ ¸å¿ƒåŸç†**

- å½“ç±»è¢«åŠ è½½åˆ° JVM åï¼Œä¼šç”Ÿæˆå”¯ä¸€çš„ `Class` å¯¹è±¡ï¼Œå­˜å‚¨ç±»çš„å…ƒä¿¡æ¯ï¼ˆå­—æ®µã€æ–¹æ³•ã€æ„é€ å™¨ã€æ³¨è§£ç­‰ï¼‰ã€‚
- `Class` å¯¹è±¡å­˜æ”¾åœ¨ **æ–¹æ³•åŒºï¼ˆå…ƒç©ºé—´ï¼‰**ï¼Œå®ƒæ˜¯åå°„çš„å…¥å£ã€‚
- åå°„ API (`java.lang.reflect`) é€šè¿‡è®¿é—® `Class` å¯¹è±¡æ¥æ“ä½œå…ƒæ•°æ®ï¼Œæœ¬è´¨å°±æ˜¯ **JVM æŠŠå­—èŠ‚ç ä¿¡æ¯æ˜ å°„ä¸ºå¯¹è±¡ä¾›å¼€å‘è€…è°ƒç”¨**ã€‚

**2ã€æ ¸å¿ƒæœºåˆ¶**

- **Class å¯¹è±¡**ï¼šç±»çš„è¿è¡Œæ—¶è¡¨ç¤ºã€‚
- **Field å¯¹è±¡**ï¼šå°è£…å­—æ®µä¿¡æ¯ï¼Œå¯è¯»å†™å­—æ®µå€¼ã€‚
- **Method å¯¹è±¡**ï¼šå°è£…æ–¹æ³•ä¿¡æ¯ï¼Œå¯ `invoke` è°ƒç”¨ã€‚
- **Constructor å¯¹è±¡**ï¼šå°è£…æ„é€ å™¨ä¿¡æ¯ï¼Œå¯ `newInstance` åˆ›å»ºå®ä¾‹ã€‚
- **setAccessible(true)**ï¼šè·³è¿‡è®¿é—®æƒé™æ£€æŸ¥ã€‚

**3ã€ä½¿ç”¨æµç¨‹**

1. è·å– `Class` å¯¹è±¡ï¼ˆ`Class.forName()`ã€`xxx.class`ã€`obj.getClass()`ï¼‰ã€‚
2. é€šè¿‡ `Class` å¯¹è±¡è·å– `Field`ã€`Method`ã€`Constructor` ç­‰ã€‚
3. è°ƒç”¨ `invoke()`ã€`set()` ç­‰å®ŒæˆåŠ¨æ€æ“ä½œã€‚

4ã€**æ€§èƒ½ä¸åº”ç”¨**

- **æ€§èƒ½**ï¼šåå°„æ¯”ç›´æ¥è°ƒç”¨æ…¢ 10~20 å€ï¼Œå› ä¸ºå¤šäº†æƒé™æ ¡éªŒå’Œæ–¹æ³•æŸ¥æ‰¾ï¼›JVM åœ¨åå°„è°ƒç”¨ä¸€å®šæ¬¡æ•°åä¼šåšä¼˜åŒ–ï¼ˆå†…è”ï¼‰ã€‚
- **åº”ç”¨åœºæ™¯**ï¼šæ¡†æ¶ï¼ˆSpringã€Hibernateã€MyBatisï¼‰åˆ©ç”¨åå°„å®ç° **ä¾èµ–æ³¨å…¥ã€AOPã€ORM** ç­‰ã€‚



---

## ğŸ“ ä¸ƒã€IOæµä½“ç³»ï¼ˆIOæ ¸å¿ƒï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šJava IOæä¾›äº†ä¸°å¯Œçš„è¾“å…¥è¾“å‡ºæ“ä½œï¼Œåˆ†ä¸ºå­—èŠ‚æµã€å­—ç¬¦æµã€ç¼“å†²æµç­‰ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„æ•°æ®å¤„ç†éœ€æ±‚ã€‚

### ğŸ¯ BIOã€NIOã€AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

- **BIO (Blocking I/O):** åŒæ­¥é˜»å¡I/Oæ¨¡å¼ï¼Œæ•°æ®çš„è¯»å–å†™å…¥å¿…é¡»é˜»å¡åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ç­‰å¾…å…¶å®Œæˆã€‚åœ¨æ´»åŠ¨è¿æ¥æ•°ä¸æ˜¯ç‰¹åˆ«é«˜ï¼ˆå°äºå•æœº1000ï¼‰çš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ¨¡å‹æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œå¯ä»¥è®©æ¯ä¸€ä¸ªè¿æ¥ä¸“æ³¨äºè‡ªå·±çš„ I/O å¹¶ä¸”ç¼–ç¨‹æ¨¡å‹ç®€å•ï¼Œä¹Ÿä¸ç”¨è¿‡å¤šè€ƒè™‘ç³»ç»Ÿçš„è¿‡è½½ã€é™æµç­‰é—®é¢˜ã€‚çº¿ç¨‹æ± æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤©ç„¶çš„æ¼æ–—ï¼Œå¯ä»¥ç¼“å†²ä¸€äº›ç³»ç»Ÿå¤„ç†ä¸äº†çš„è¿æ¥æˆ–è¯·æ±‚ã€‚ä½†æ˜¯ï¼Œå½“é¢å¯¹åä¸‡ç”šè‡³ç™¾ä¸‡çº§è¿æ¥çš„æ—¶å€™ï¼Œä¼ ç»Ÿçš„ BIO æ¨¡å‹æ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´é«˜æ•ˆçš„ I/O å¤„ç†æ¨¡å‹æ¥åº”å¯¹æ›´é«˜çš„å¹¶å‘é‡ã€‚
- **NIO (New I/O):** NIOæ˜¯ä¸€ç§åŒæ­¥éé˜»å¡çš„I/Oæ¨¡å‹ï¼Œåœ¨Java 1.4 ä¸­å¼•å…¥äº†NIOæ¡†æ¶ï¼Œå¯¹åº” java.nio åŒ…ï¼Œæä¾›äº† Channel , Selectorï¼ŒBufferç­‰æŠ½è±¡ã€‚NIOä¸­çš„Nå¯ä»¥ç†è§£ä¸ºNon-blockingï¼Œä¸å•çº¯æ˜¯Newã€‚å®ƒæ”¯æŒé¢å‘ç¼“å†²çš„ï¼ŒåŸºäºé€šé“çš„I/Oæ“ä½œæ–¹æ³•ã€‚ NIOæä¾›äº†ä¸ä¼ ç»ŸBIOæ¨¡å‹ä¸­çš„ `Socket` å’Œ `ServerSocket` ç›¸å¯¹åº”çš„ `SocketChannel` å’Œ `ServerSocketChannel` ä¸¤ç§ä¸åŒçš„å¥—æ¥å­—é€šé“å®ç°,ä¸¤ç§é€šé“éƒ½æ”¯æŒé˜»å¡å’Œéé˜»å¡ä¸¤ç§æ¨¡å¼ã€‚é˜»å¡æ¨¡å¼ä½¿ç”¨å°±åƒä¼ ç»Ÿä¸­çš„æ”¯æŒä¸€æ ·ï¼Œæ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯æ€§èƒ½å’Œå¯é æ€§éƒ½ä¸å¥½ï¼›éé˜»å¡æ¨¡å¼æ­£å¥½ä¸ä¹‹ç›¸åã€‚å¯¹äºä½è´Ÿè½½ã€ä½å¹¶å‘çš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨åŒæ­¥é˜»å¡I/Oæ¥æå‡å¼€å‘é€Ÿç‡å’Œæ›´å¥½çš„ç»´æŠ¤æ€§ï¼›å¯¹äºé«˜è´Ÿè½½ã€é«˜å¹¶å‘çš„ï¼ˆç½‘ç»œï¼‰åº”ç”¨ï¼Œåº”ä½¿ç”¨ NIO çš„éé˜»å¡æ¨¡å¼æ¥å¼€å‘
- **AIO (Asynchronous I/O):** AIO ä¹Ÿå°±æ˜¯ NIO 2ã€‚åœ¨ Java 7 ä¸­å¼•å…¥äº† NIO çš„æ”¹è¿›ç‰ˆ NIO 2,å®ƒæ˜¯å¼‚æ­¥éé˜»å¡çš„IOæ¨¡å‹ã€‚å¼‚æ­¥ IO æ˜¯åŸºäºäº‹ä»¶å’Œå›è°ƒæœºåˆ¶å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨æ“ä½œä¹‹åä¼šç›´æ¥è¿”å›ï¼Œä¸ä¼šå µå¡åœ¨é‚£é‡Œï¼Œå½“åå°å¤„ç†å®Œæˆï¼Œæ“ä½œç³»ç»Ÿä¼šé€šçŸ¥ç›¸åº”çš„çº¿ç¨‹è¿›è¡Œåç»­çš„æ“ä½œã€‚AIO æ˜¯å¼‚æ­¥IOçš„ç¼©å†™ï¼Œè™½ç„¶ NIO åœ¨ç½‘ç»œæ“ä½œä¸­ï¼Œæä¾›äº†éé˜»å¡çš„æ–¹æ³•ï¼Œä½†æ˜¯ NIO çš„ IO è¡Œä¸ºè¿˜æ˜¯åŒæ­¥çš„ã€‚å¯¹äº NIO æ¥è¯´ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡çº¿ç¨‹æ˜¯åœ¨ IO æ“ä½œå‡†å¤‡å¥½æ—¶ï¼Œå¾—åˆ°é€šçŸ¥ï¼Œæ¥ç€å°±ç”±è¿™ä¸ªçº¿ç¨‹è‡ªè¡Œè¿›è¡Œ IO æ“ä½œï¼ŒIOæ“ä½œæœ¬èº«æ˜¯åŒæ­¥çš„ã€‚æŸ¥é˜…ç½‘ä¸Šç›¸å…³èµ„æ–™ï¼Œæˆ‘å‘ç°å°±ç›®å‰æ¥è¯´ AIO çš„åº”ç”¨è¿˜ä¸æ˜¯å¾ˆå¹¿æ³›ï¼ŒNetty ä¹‹å‰ä¹Ÿå°è¯•ä½¿ç”¨è¿‡ AIOï¼Œä¸è¿‡åˆæ”¾å¼ƒäº†ã€‚

```java
import java.io.*;
import java.net.*;
import java.nio.*;
import java.nio.channels.*;
import java.nio.file.*;
import java.util.concurrent.*;

public class IOModelDemo {
    
    public static void main(String[] args) throws Exception {
        // æ¼”ç¤ºBIO
        demonstrateBIO();
        
        System.out.println();
        
        // æ¼”ç¤ºNIO
        demonstrateNIO();
        
        System.out.println();
        
        // æ¼”ç¤ºAIO
        demonstrateAIO();
        
        System.out.println();
        
        // æ€§èƒ½å¯¹æ¯”
        performanceComparison();
    }
    
    // BIOæ¼”ç¤º
    public static void demonstrateBIO() throws IOException {
        System.out.println("=== BIOæ¼”ç¤º ===");
        
        // æ–‡ä»¶æ“ä½œ - é˜»å¡å¼
        String fileName = "bio_test.txt";
        String content = "BIOæµ‹è¯•å†…å®¹\né˜»å¡å¼IOæ“ä½œ";
        
        // BIOå†™æ–‡ä»¶
        try (FileOutputStream fos = new FileOutputStream(fileName);
             BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(fos))) {
            
            writer.write(content);
            System.out.println("BIOå†™å…¥å®Œæˆ");
        }
        
        // BIOè¯»æ–‡ä»¶
        try (FileInputStream fis = new FileInputStream(fileName);
             BufferedReader reader = new BufferedReader(new InputStreamReader(fis))) {
            
            String line;
            System.out.println("BIOè¯»å–å†…å®¹:");
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
        }
        
        // æ¸…ç†
        new File(fileName).delete();
        
        // BIOç½‘ç»œç¼–ç¨‹ç‰¹ç‚¹æ¼”ç¤º
        demonstrateBIONetworking();
    }
    
    public static void demonstrateBIONetworking() {
        System.out.println("\nBIOç½‘ç»œç¼–ç¨‹ç‰¹ç‚¹:");
        System.out.println("- æ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥éœ€è¦ä¸€ä¸ªçº¿ç¨‹");
        System.out.println("- çº¿ç¨‹åœ¨accept()å’Œread()æ—¶é˜»å¡");
        System.out.println("- é€‚åˆè¿æ¥æ•°å°‘ã€å¤„ç†å¿«çš„åœºæ™¯");
        
        // æ¨¡æ‹ŸBIOæœåŠ¡å™¨ä»£ç ç»“æ„
        System.out.println("\nBIOæœåŠ¡å™¨ä¼ªä»£ç :");
        System.out.println("ServerSocket server = new ServerSocket(port);");
        System.out.println("while (true) {");
        System.out.println("    Socket client = server.accept(); // é˜»å¡ç­‰å¾…");
        System.out.println("    new Thread(() -> {");
        System.out.println("        // å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚");
        System.out.println("        InputStream in = client.getInputStream(); // å¯èƒ½é˜»å¡");
        System.out.println("    }).start();");
        System.out.println("}");
    }
    
    // NIOæ¼”ç¤º
    public static void demonstrateNIO() throws IOException {
        System.out.println("=== NIOæ¼”ç¤º ===");
        
        String fileName = "nio_test.txt";
        String content = "NIOæµ‹è¯•å†…å®¹\néé˜»å¡å¼IOæ“ä½œ\nåŸºäºChannelå’ŒBuffer";
        
        // NIOå†™æ–‡ä»¶
        Path path = Paths.get(fileName);
        try (FileChannel channel = FileChannel.open(path, 
                StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
            
            ByteBuffer buffer = ByteBuffer.allocate(1024);
            buffer.put(content.getBytes("UTF-8"));
            buffer.flip(); // åˆ‡æ¢åˆ°è¯»æ¨¡å¼
            
            while (buffer.hasRemaining()) {
                channel.write(buffer);
            }
            System.out.println("NIOå†™å…¥å®Œæˆ");
        }
        
        // NIOè¯»æ–‡ä»¶
        try (FileChannel channel = FileChannel.open(path, StandardOpenOption.READ)) {
            ByteBuffer buffer = ByteBuffer.allocate(1024);
            
            int bytesRead = channel.read(buffer);
            if (bytesRead != -1) {
                buffer.flip(); // åˆ‡æ¢åˆ°è¯»æ¨¡å¼
                
                byte[] bytes = new byte[buffer.remaining()];
                buffer.get(bytes);
                
                System.out.println("NIOè¯»å–å†…å®¹:");
                System.out.println(new String(bytes, "UTF-8"));
            }
        }
        
        // æ¸…ç†
        Files.deleteIfExists(path);
        
        // NIOç‰¹ç‚¹æ¼”ç¤º
        demonstrateNIOFeatures();
    }
    
    public static void demonstrateNIOFeatures() {
        System.out.println("\nNIOæ ¸å¿ƒç»„ä»¶:");
        System.out.println("1. Channelï¼ˆé€šé“ï¼‰- æ•°æ®ä¼ è¾“çš„é€šé“");
        System.out.println("2. Bufferï¼ˆç¼“å†²åŒºï¼‰- æ•°æ®çš„å®¹å™¨");
        System.out.println("3. Selectorï¼ˆé€‰æ‹©å™¨ï¼‰- å¤šè·¯å¤ç”¨å™¨");
        
        System.out.println("\nNIOä¼˜åŠ¿:");
        System.out.println("- ä¸€ä¸ªçº¿ç¨‹å¤„ç†å¤šä¸ªè¿æ¥");
        System.out.println("- éé˜»å¡æ“ä½œï¼Œæé«˜å¹¶å‘æ€§èƒ½");
        System.out.println("- å†…å­˜æ˜ å°„æ–‡ä»¶ï¼Œæé«˜å¤§æ–‡ä»¶å¤„ç†æ•ˆç‡");
        
        // Bufferæ“ä½œæ¼”ç¤º
        System.out.println("\nBufferæ“ä½œæ¼”ç¤º:");
        ByteBuffer buffer = ByteBuffer.allocate(10);
        
        System.out.println("åˆå§‹çŠ¶æ€ - position: " + buffer.position() + 
                          ", limit: " + buffer.limit() + 
                          ", capacity: " + buffer.capacity());
        
        buffer.put("Hello".getBytes());
        System.out.println("å†™å…¥å - position: " + buffer.position() + 
                          ", limit: " + buffer.limit());
        
        buffer.flip();
        System.out.println("flipå - position: " + buffer.position() + 
                          ", limit: " + buffer.limit());
        
        buffer.clear();
        System.out.println("clearå - position: " + buffer.position() + 
                          ", limit: " + buffer.limit());
    }
    
    // AIOæ¼”ç¤º
    public static void demonstrateAIO() throws Exception {
        System.out.println("=== AIOæ¼”ç¤º ===");
        
        String fileName = "aio_test.txt";
        String content = "AIOæµ‹è¯•å†…å®¹\nå¼‚æ­¥éé˜»å¡IOæ“ä½œ\nåŸºäºå›è°ƒæœºåˆ¶";
        
        Path path = Paths.get(fileName);
        
        // AIOå†™æ–‡ä»¶
        try (AsynchronousFileChannel channel = AsynchronousFileChannel.open(path,
                StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
            
            ByteBuffer buffer = ByteBuffer.wrap(content.getBytes("UTF-8"));
            
            // å¼‚æ­¥å†™å…¥ï¼Œä½¿ç”¨Future
            Future<Integer> writeResult = channel.write(buffer, 0);
            
            // ç­‰å¾…å†™å…¥å®Œæˆ
            Integer bytesWritten = writeResult.get();
            System.out.println("AIOå¼‚æ­¥å†™å…¥å®Œæˆï¼Œå†™å…¥å­—èŠ‚æ•°: " + bytesWritten);
        }
        
        // AIOè¯»æ–‡ä»¶ - ä½¿ç”¨å›è°ƒ
        try (AsynchronousFileChannel channel = AsynchronousFileChannel.open(path,
                StandardOpenOption.READ)) {
            
            ByteBuffer buffer = ByteBuffer.allocate(1024);
            
            // ä½¿ç”¨CompletionHandlerå›è°ƒ
            CountDownLatch latch = new CountDownLatch(1);
            
            channel.read(buffer, 0, buffer, new CompletionHandler<Integer, ByteBuffer>() {
                @Override
                public void completed(Integer result, ByteBuffer attachment) {
                    attachment.flip();
                    
                    byte[] bytes = new byte[attachment.remaining()];
                    attachment.get(bytes);
                    
                    try {
                        System.out.println("AIOå¼‚æ­¥è¯»å–å®Œæˆ:");
                        System.out.println(new String(bytes, "UTF-8"));
                    } catch (Exception e) {
                        e.printStackTrace();
                    } finally {
                        latch.countDown();
                    }
                }
                
                @Override
                public void failed(Throwable exc, ByteBuffer attachment) {
                    System.err.println("AIOè¯»å–å¤±è´¥: " + exc.getMessage());
                    latch.countDown();
                }
            });
            
            // ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆ
            latch.await();
        }
        
        // æ¸…ç†
        Files.deleteIfExists(path);
        
        // AIOç‰¹ç‚¹æ¼”ç¤º
        demonstrateAIOFeatures();
    }
    
    public static void demonstrateAIOFeatures() {
        System.out.println("\nAIOç‰¹ç‚¹:");
        System.out.println("- çœŸæ­£çš„å¼‚æ­¥IOæ“ä½œ");
        System.out.println("- æ“ä½œå®Œæˆåé€šè¿‡å›è°ƒé€šçŸ¥");
        System.out.println("- ä¸éœ€è¦è½®è¯¢æ“ä½œçŠ¶æ€");
        System.out.println("- é€‚åˆIOå¯†é›†å‹åº”ç”¨");
        
        System.out.println("\nAIOä¸¤ç§è·å–ç»“æœçš„æ–¹å¼:");
        System.out.println("1. Futureæ–¹å¼ - ä¸»åŠ¨æŸ¥è¯¢ç»“æœ");
        System.out.println("2. CompletionHandleræ–¹å¼ - è¢«åŠ¨å›è°ƒé€šçŸ¥");
    }
    
    // æ€§èƒ½å¯¹æ¯”
    public static void performanceComparison() throws Exception {
        System.out.println("=== IOæ¨¡å‹æ€§èƒ½å¯¹æ¯” ===");
        
        int fileCount = 100;
        String content = "æ€§èƒ½æµ‹è¯•å†…å®¹\n";
        
        // BIOæ€§èƒ½æµ‹è¯•
        long start = System.currentTimeMillis();
        for (int i = 0; i < fileCount; i++) {
            String fileName = "bio_perf_" + i + ".txt";
            try (FileOutputStream fos = new FileOutputStream(fileName)) {
                fos.write(content.getBytes());
            }
            new File(fileName).delete();
        }
        long bioTime = System.currentTimeMillis() - start;
        
        // NIOæ€§èƒ½æµ‹è¯•
        start = System.currentTimeMillis();
        for (int i = 0; i < fileCount; i++) {
            String fileName = "nio_perf_" + i + ".txt";
            Path path = Paths.get(fileName);
            try (FileChannel channel = FileChannel.open(path,
                    StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
                ByteBuffer buffer = ByteBuffer.wrap(content.getBytes());
                channel.write(buffer);
            }
            Files.deleteIfExists(path);
        }
        long nioTime = System.currentTimeMillis() - start;
        
        System.out.println("æ–‡ä»¶æ“ä½œæ€§èƒ½å¯¹æ¯” (" + fileCount + "ä¸ªæ–‡ä»¶):");
        System.out.println("BIOè€—æ—¶: " + bioTime + "ms");
        System.out.println("NIOè€—æ—¶: " + nioTime + "ms");
        
        if (nioTime > 0) {
            System.out.println("æ€§èƒ½æ¯”ç‡: " + (bioTime / (double) nioTime));
        }
        
        System.out.println("\nå®é™…åº”ç”¨ä¸­çš„é€‰æ‹©:");
        System.out.println("- å°æ–‡ä»¶ã€ä½å¹¶å‘ï¼šBIOç®€å•é«˜æ•ˆ");
        System.out.println("- å¤§æ–‡ä»¶ã€é«˜å¹¶å‘ï¼šNIOæ€§èƒ½æ›´å¥½");
        System.out.println("- é•¿æ—¶é—´IOæ“ä½œï¼šAIOé¿å…çº¿ç¨‹é˜»å¡");
    }
}

/*
 * IOæ¨¡å‹å¯¹æ¯”æ€»ç»“ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚  æ¨¡å‹   â”‚   é˜»å¡æ€§    â”‚   å¤æ‚åº¦    â”‚   å¹¶å‘æ€§    â”‚   é€‚ç”¨åœºæ™¯  â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚   BIO   â”‚   åŒæ­¥é˜»å¡  â”‚     ä½      â”‚     ä½      â”‚ è¿æ¥æ•°å°‘    â”‚
 * â”‚   NIO   â”‚  åŒæ­¥éé˜»å¡ â”‚     ä¸­      â”‚     é«˜      â”‚ é«˜å¹¶å‘      â”‚
 * â”‚   AIO   â”‚  å¼‚æ­¥éé˜»å¡ â”‚     é«˜      â”‚     é«˜      â”‚ é•¿è¿æ¥      â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * æ ¸å¿ƒåŒºåˆ«ï¼š
 * 1. BIOï¼šçº¿ç¨‹ä¸è¿æ¥1:1ï¼Œé€‚åˆè¿æ¥æ•°å°‘çš„åœºæ™¯
 * 2. NIOï¼šçº¿ç¨‹ä¸è¿æ¥1:Nï¼Œä½¿ç”¨Selectorå®ç°å¤šè·¯å¤ç”¨
 * 3. AIOï¼šæ“ä½œå¼‚æ­¥æ‰§è¡Œï¼Œé€šè¿‡å›è°ƒè·å–ç»“æœ
 * 
 * å‘å±•å†ç¨‹ï¼š
 * - JDK 1.0: BIO - ç®€å•ä½†æ€§èƒ½æœ‰é™
 * - JDK 1.4: NIO - æå‡å¹¶å‘æ€§èƒ½
 * - JDK 1.7: AIO/NIO.2 - çœŸæ­£å¼‚æ­¥IO
 */
```

### ğŸ¯ å­—èŠ‚æµå’Œå­—ç¬¦æµçš„åŒºåˆ«ï¼Ÿä»€ä¹ˆæ˜¯ç¼“å†²æµï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Java IOæµä½“ç³»æ˜¯å¤„ç†è¾“å…¥è¾“å‡ºæ•°æ®çš„æ ¸å¿ƒAPIï¼š
>
> **å­—èŠ‚æµvså­—ç¬¦æµ**ï¼š
>
> - å­—èŠ‚æµï¼ˆInputStream/OutputStreamï¼‰ï¼šä»¥å­—èŠ‚ä¸ºå•ä½å¤„ç†æ•°æ®ï¼Œå¯ä»¥å¤„ç†ä»»ä½•ç±»å‹çš„æ–‡ä»¶
> - å­—ç¬¦æµï¼ˆReader/Writerï¼‰ï¼šä»¥å­—ç¬¦ä¸ºå•ä½å¤„ç†æ•°æ®ï¼Œä¸“é—¨å¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œæ”¯æŒå­—ç¬¦ç¼–ç è½¬æ¢
> - å­—èŠ‚æµæ˜¯æœ€åŸºç¡€çš„ï¼Œå­—ç¬¦æµæ˜¯åœ¨å­—èŠ‚æµåŸºç¡€ä¸Šçš„å°è£…
>
> **ç¼“å†²æµ**ï¼š
>
> - BufferedInputStream/BufferedOutputStreamï¼šå­—èŠ‚ç¼“å†²æµ
> - BufferedReader/BufferedWriterï¼šå­—ç¬¦ç¼“å†²æµ
> - é€šè¿‡å†…å­˜ç¼“å†²åŒºå‡å°‘å®é™…çš„ç£ç›˜IOæ¬¡æ•°ï¼Œå¤§å¹…æé«˜æ€§èƒ½
> - é»˜è®¤ç¼“å†²åŒºå¤§å°8192å­—èŠ‚
>
> **NIOï¼ˆNew IOï¼‰**ï¼š
>
> - é¢å‘ç¼“å†²åŒºï¼ˆBufferï¼‰è€Œä¸æ˜¯é¢å‘æµ
> - æ”¯æŒéé˜»å¡IOæ“ä½œ
> - ä½¿ç”¨Channelå’ŒSelectorå®ç°é«˜æ€§èƒ½IO
> - é€‚åˆé«˜å¹¶å‘åœºæ™¯ï¼Œå¦‚æœåŠ¡å™¨ç«¯ç¼–ç¨‹
>
> é€‰æ‹©åŸåˆ™ï¼šå¤„ç†æ–‡æœ¬ç”¨å­—ç¬¦æµï¼Œå¤„ç†äºŒè¿›åˆ¶ç”¨å­—èŠ‚æµï¼Œé«˜æ€§èƒ½åœºæ™¯ç”¨ç¼“å†²æµæˆ–NIOã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
import java.io.*;
import java.nio.*;
import java.nio.channels.*;
import java.nio.file.*;
import java.util.*;

public class IODemo {
    
    public static void main(String[] args) throws IOException {
        // 1. å­—èŠ‚æµæ“ä½œ
        demonstrateByteStreams();
        
        // 2. å­—ç¬¦æµæ“ä½œ
        demonstrateCharacterStreams();
        
        // 3. ç¼“å†²æµæ“ä½œ
        demonstrateBufferedStreams();
        
        // 4. NIOåŸºç¡€æ“ä½œ
        demonstrateNIO();
        
        // 5. IOæ€§èƒ½å¯¹æ¯”
        performanceComparison();
    }
    
    // å­—èŠ‚æµæ¼”ç¤º
    public static void demonstrateByteStreams() throws IOException {
        System.out.println("=== Byte Streams Demo ===");
        
        String content = "Hello Java IO! ä½ å¥½ä¸–ç•Œï¼";
        String fileName = "byte_test.txt";
        
        // å­—èŠ‚æµå†™å…¥
        try (FileOutputStream fos = new FileOutputStream(fileName)) {
            byte[] bytes = content.getBytes("UTF-8");
            fos.write(bytes);
            System.out.println("Written " + bytes.length + " bytes");
        }
        
        // å­—èŠ‚æµè¯»å–
        try (FileInputStream fis = new FileInputStream(fileName)) {
            byte[] buffer = new byte[1024];
            int bytesRead = fis.read(buffer);
            String result = new String(buffer, 0, bytesRead, "UTF-8");
            System.out.println("Read: " + result);
        }
        
        // å¤åˆ¶æ–‡ä»¶ç¤ºä¾‹
        copyFileUsingByteStream("byte_test.txt", "byte_copy.txt");
        
        // æ¸…ç†æ–‡ä»¶
        new File(fileName).delete();
        new File("byte_copy.txt").delete();
    }
    
    // å­—ç¬¦æµæ¼”ç¤º
    public static void demonstrateCharacterStreams() throws IOException {
        System.out.println("\n=== Character Streams Demo ===");
        
        String content = "Hello Java IO!\nä½ å¥½ä¸–ç•Œï¼\nå­—ç¬¦æµæµ‹è¯•";
        String fileName = "char_test.txt";
        
        // å­—ç¬¦æµå†™å…¥
        try (FileWriter writer = new FileWriter(fileName, StandardCharsets.UTF_8)) {
            writer.write(content);
            System.out.println("Written characters: " + content.length());
        }
        
        // å­—ç¬¦æµè¯»å–
        try (FileReader reader = new FileReader(fileName, StandardCharsets.UTF_8)) {
            char[] buffer = new char[1024];
            int charsRead = reader.read(buffer);
            String result = new String(buffer, 0, charsRead);
            System.out.println("Read characters: " + charsRead);
            System.out.println("Content:\n" + result);
        }
        
        // æŒ‰è¡Œè¯»å–
        System.out.println("Reading line by line:");
        try (BufferedReader br = new BufferedReader(
                new FileReader(fileName, StandardCharsets.UTF_8))) {
            String line;
            int lineNumber = 1;
            while ((line = br.readLine()) != null) {
                System.out.println("Line " + lineNumber++ + ": " + line);
            }
        }
        
        // æ¸…ç†æ–‡ä»¶
        new File(fileName).delete();
    }
    
    // ç¼“å†²æµæ¼”ç¤º
    public static void demonstrateBufferedStreams() throws IOException {
        System.out.println("\n=== Buffered Streams Demo ===");
        
        String fileName = "buffered_test.txt";
        
        // ç¼“å†²å­—ç¬¦æµå†™å…¥
        try (BufferedWriter writer = new BufferedWriter(
                new FileWriter(fileName, StandardCharsets.UTF_8))) {
            for (int i = 1; i <= 5; i++) {
                writer.write("Line " + i + ": This is a test line.");
                writer.newLine();  // è·¨å¹³å°æ¢è¡Œ
            }
            writer.flush();  // å¼ºåˆ¶åˆ·æ–°ç¼“å†²åŒº
            System.out.println("Written 5 lines with buffered writer");
        }
        
        // ç¼“å†²å­—ç¬¦æµè¯»å–
        try (BufferedReader reader = new BufferedReader(
                new FileReader(fileName, StandardCharsets.UTF_8))) {
            System.out.println("Reading with buffered reader:");
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
        }
        
        // ç¼“å†²å­—èŠ‚æµç¤ºä¾‹
        demonstrateByteBufferedStream(fileName);
        
        // æ¸…ç†æ–‡ä»¶
        new File(fileName).delete();
    }
    
    // NIOåŸºç¡€æ¼”ç¤º
    public static void demonstrateNIO() throws IOException {
        System.out.println("\n=== NIO Demo ===");
        
        String content = "NIO Test Content\nä½¿ç”¨NIOè¿›è¡Œæ–‡ä»¶æ“ä½œ";
        Path path = Paths.get("nio_test.txt");
        
        // NIOå†™å…¥æ–‡ä»¶
        Files.write(path, content.getBytes(StandardCharsets.UTF_8));
        System.out.println("Written file using NIO");
        
        // NIOè¯»å–æ–‡ä»¶
        byte[] bytes = Files.readAllBytes(path);
        String result = new String(bytes, StandardCharsets.UTF_8);
        System.out.println("Read content: " + result);
        
        // NIOæŒ‰è¡Œè¯»å–
        System.out.println("Reading lines with NIO:");
        List<String> lines = Files.readAllLines(path, StandardCharsets.UTF_8);
        for (int i = 0; i < lines.size(); i++) {
            System.out.println("Line " + (i + 1) + ": " + lines.get(i));
        }
        
        // Channelå’ŒBufferç¤ºä¾‹
        demonstrateChannelAndBuffer(path);
        
        // æ¸…ç†æ–‡ä»¶
        Files.deleteIfExists(path);
    }
    
    // Channelå’ŒBufferæ¼”ç¤º
    public static void demonstrateChannelAndBuffer(Path path) throws IOException {
        System.out.println("\n--- Channel and Buffer Demo ---");
        
        // ä½¿ç”¨Channelå†™å…¥
        try (FileChannel channel = FileChannel.open(path, 
                StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {
            
            String data = "Channel Buffer Demo\né€šé“ç¼“å†²åŒºæ¼”ç¤º";
            ByteBuffer buffer = ByteBuffer.allocate(1024);
            buffer.put(data.getBytes(StandardCharsets.UTF_8));
            buffer.flip();  // åˆ‡æ¢åˆ°è¯»æ¨¡å¼
            
            while (buffer.hasRemaining()) {
                channel.write(buffer);
            }
            System.out.println("Written using Channel and Buffer");
        }
        
        // ä½¿ç”¨Channelè¯»å–
        try (FileChannel channel = FileChannel.open(path, StandardOpenOption.READ)) {
            ByteBuffer buffer = ByteBuffer.allocate(1024);
            int bytesRead = channel.read(buffer);
            buffer.flip();  // åˆ‡æ¢åˆ°è¯»æ¨¡å¼
            
            byte[] bytes = new byte[bytesRead];
            buffer.get(bytes);
            String result = new String(bytes, StandardCharsets.UTF_8);
            System.out.println("Read using Channel: " + result);
        }
    }
    
    // æ€§èƒ½å¯¹æ¯”
    public static void performanceComparison() throws IOException {
        System.out.println("\n=== Performance Comparison ===");
        
        String testFile = "performance_test.txt";
        int iterations = 10000;
        
        // æµ‹è¯•æ— ç¼“å†²å­—èŠ‚æµ
        long start = System.currentTimeMillis();
        try (FileOutputStream fos = new FileOutputStream(testFile)) {
            for (int i = 0; i < iterations; i++) {
                fos.write("Test line\n".getBytes());
            }
        }
        long unbufferedTime = System.currentTimeMillis() - start;
        
        // æµ‹è¯•ç¼“å†²å­—èŠ‚æµ
        start = System.currentTimeMillis();
        try (BufferedOutputStream bos = new BufferedOutputStream(
                new FileOutputStream(testFile + "_buffered"))) {
            for (int i = 0; i < iterations; i++) {
                bos.write("Test line\n".getBytes());
            }
        }
        long bufferedTime = System.currentTimeMillis() - start;
        
        System.out.println("Unbuffered time: " + unbufferedTime + "ms");
        System.out.println("Buffered time: " + bufferedTime + "ms");
        System.out.println("Performance improvement: " + 
            (unbufferedTime / (double) bufferedTime) + "x");
        
        // æ¸…ç†æ–‡ä»¶
        new File(testFile).delete();
        new File(testFile + "_buffered").delete();
    }
    
    // å·¥å…·æ–¹æ³•
    public static void copyFileUsingByteStream(String source, String dest) throws IOException {
        try (FileInputStream fis = new FileInputStream(source);
             FileOutputStream fos = new FileOutputStream(dest)) {
            
            byte[] buffer = new byte[1024];
            int bytesRead;
            while ((bytesRead = fis.read(buffer)) != -1) {
                fos.write(buffer, 0, bytesRead);
            }
            System.out.println("File copied successfully");
        }
    }
    
    public static void demonstrateByteBufferedStream(String fileName) throws IOException {
        System.out.println("--- Byte Buffered Stream ---");
        
        // è¯»å–æ–‡ä»¶åˆ°å­—èŠ‚æ•°ç»„
        try (BufferedInputStream bis = new BufferedInputStream(
                new FileInputStream(fileName))) {
            
            byte[] buffer = new byte[1024];
            int bytesRead = bis.read(buffer);
            String content = new String(buffer, 0, bytesRead, StandardCharsets.UTF_8);
            System.out.println("Buffered byte stream read: " + content.replace("\n", "\\n"));
        }
    }
}

// IOæµçš„åˆ†ç±»å’Œç‰¹ç‚¹
class IOStreamTypes {
    
    public static void showStreamHierarchy() {
        System.out.println("=== Java IO Stream Hierarchy ===");
        System.out.println("å­—èŠ‚æµ (Byte Streams):");
        System.out.println("â”œâ”€â”€ InputStream (æŠ½è±¡åŸºç±»)");
        System.out.println("â”‚   â”œâ”€â”€ FileInputStream (æ–‡ä»¶å­—èŠ‚è¾“å…¥æµ)");
        System.out.println("â”‚   â”œâ”€â”€ BufferedInputStream (ç¼“å†²å­—èŠ‚è¾“å…¥æµ)");
        System.out.println("â”‚   â”œâ”€â”€ DataInputStream (æ•°æ®å­—èŠ‚è¾“å…¥æµ)");
        System.out.println("â”‚   â””â”€â”€ ObjectInputStream (å¯¹è±¡å­—èŠ‚è¾“å…¥æµ)");
        System.out.println("â””â”€â”€ OutputStream (æŠ½è±¡åŸºç±»)");
        System.out.println("    â”œâ”€â”€ FileOutputStream (æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµ)");
        System.out.println("    â”œâ”€â”€ BufferedOutputStream (ç¼“å†²å­—èŠ‚è¾“å‡ºæµ)");
        System.out.println("    â”œâ”€â”€ DataOutputStream (æ•°æ®å­—èŠ‚è¾“å‡ºæµ)");
        System.out.println("    â””â”€â”€ ObjectOutputStream (å¯¹è±¡å­—èŠ‚è¾“å‡ºæµ)");
        
        System.out.println("\nå­—ç¬¦æµ (Character Streams):");
        System.out.println("â”œâ”€â”€ Reader (æŠ½è±¡åŸºç±»)");
        System.out.println("â”‚   â”œâ”€â”€ FileReader (æ–‡ä»¶å­—ç¬¦è¾“å…¥æµ)");
        System.out.println("â”‚   â”œâ”€â”€ BufferedReader (ç¼“å†²å­—ç¬¦è¾“å…¥æµ)");
        System.out.println("â”‚   â”œâ”€â”€ InputStreamReader (å­—èŠ‚åˆ°å­—ç¬¦è½¬æ¢æµ)");
        System.out.println("â”‚   â””â”€â”€ StringReader (å­—ç¬¦ä¸²è¾“å…¥æµ)");
        System.out.println("â””â”€â”€ Writer (æŠ½è±¡åŸºç±»)");
        System.out.println("    â”œâ”€â”€ FileWriter (æ–‡ä»¶å­—ç¬¦è¾“å‡ºæµ)");
        System.out.println("    â”œâ”€â”€ BufferedWriter (ç¼“å†²å­—ç¬¦è¾“å‡ºæµ)");
        System.out.println("    â”œâ”€â”€ OutputStreamWriter (å­—ç¬¦åˆ°å­—èŠ‚è½¬æ¢æµ)");
        System.out.println("    â””â”€â”€ StringWriter (å­—ç¬¦ä¸²è¾“å‡ºæµ)");
    }
}
```

### ğŸ¯ ä»€ä¹ˆæ˜¯Javaåºåˆ—åŒ–ï¼Ÿå¦‚ä½•å®ç°Javaåºåˆ—åŒ–ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Javaåºåˆ—åŒ–æ˜¯å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµçš„æœºåˆ¶ï¼Œååºåˆ—åŒ–æ˜¯å°†å­—èŠ‚æµæ¢å¤ä¸ºå¯¹è±¡ï¼š
>
> **åºåˆ—åŒ–å®šä¹‰**ï¼š
>
> - å°†å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯è½¬æ¢ä¸ºå¯ä»¥å­˜å‚¨æˆ–ä¼ è¾“çš„å½¢å¼çš„è¿‡ç¨‹
> - ä¸»è¦ç”¨äºå¯¹è±¡æŒä¹…åŒ–ã€ç½‘ç»œä¼ è¾“ã€æ·±æ‹·è´ç­‰åœºæ™¯
> - Javaé€šè¿‡ObjectOutputStreamå’ŒObjectInputStreamå®ç°
>
> **Serializableæ¥å£**ï¼š
>
> - æ ‡è®°æ¥å£ï¼Œæ²¡æœ‰æ–¹æ³•éœ€è¦å®ç°
> - è¡¨ç¤ºè¯¥ç±»çš„å¯¹è±¡å¯ä»¥è¢«åºåˆ—åŒ–
> - å¦‚æœçˆ¶ç±»å®ç°äº†Serializableï¼Œå­ç±»è‡ªåŠ¨å¯åºåˆ—åŒ–
> - ä¸å®ç°æ­¤æ¥å£çš„ç±»æ— æ³•åºåˆ—åŒ–ï¼Œä¼šæŠ›NotSerializableException
>
> **serialVersionUID**ï¼š
>
> - åºåˆ—åŒ–ç‰ˆæœ¬å·ï¼Œç”¨äºéªŒè¯åºåˆ—åŒ–å¯¹è±¡çš„å…¼å®¹æ€§
> - å¦‚æœä¸æ˜¾å¼å£°æ˜ï¼ŒJVMä¼šè‡ªåŠ¨ç”Ÿæˆ
> - ç±»ç»“æ„æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„UIDä¼šå˜åŒ–ï¼Œå¯¼è‡´ååºåˆ—åŒ–å¤±è´¥
> - å»ºè®®æ˜¾å¼å£°æ˜ï¼Œä¾¿äºç‰ˆæœ¬æ§åˆ¶
>
> **åºåˆ—åŒ–è¿‡ç¨‹**ï¼š
>
> 1. æ£€æŸ¥å¯¹è±¡æ˜¯å¦å®ç°Serializableæ¥å£
> 2. å†™å…¥ç±»å…ƒæ•°æ®ä¿¡æ¯
> 3. é€’å½’åºåˆ—åŒ–çˆ¶ç±»ä¿¡æ¯
> 4. å†™å…¥å®ä¾‹å­—æ®µæ•°æ®ï¼ˆtransientå­—æ®µé™¤å¤–ï¼‰
>
> **æ³¨æ„äº‹é¡¹**ï¼š
>
> - staticå­—æ®µä¸ä¼šè¢«åºåˆ—åŒ–
> - transientå­—æ®µä¼šè¢«å¿½ç•¥
> - çˆ¶ç±»ä¸å¯åºåˆ—åŒ–æ—¶ï¼Œéœ€è¦æ— å‚æ„é€ å™¨
> - åºåˆ—åŒ–å¯èƒ½ç ´åå•ä¾‹æ¨¡å¼"

### ğŸ¯ Serializableæ¥å£çš„ä½œç”¨ï¼Ÿtransientå…³é”®å­—ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Serializableæ¥å£æ˜¯Javaåºåˆ—åŒ–æœºåˆ¶çš„æ ¸å¿ƒï¼š
>
> **Serializableæ¥å£ä½œç”¨**ï¼š
>
> - æ ‡è®°æ¥å£ï¼Œæ ‡è¯†ç±»å¯ä»¥è¢«åºåˆ—åŒ–
> - å¯ç”¨åºåˆ—åŒ–æœºåˆ¶ï¼Œå…è®¸å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµ
> - æä¾›ç‰ˆæœ¬æ§åˆ¶æ”¯æŒï¼ˆserialVersionUIDï¼‰
> - æ”¯æŒè‡ªå®šä¹‰åºåˆ—åŒ–é€»è¾‘ï¼ˆwriteObject/readObjectï¼‰
>
> **transientå…³é”®å­—**ï¼š
>
> - ä¿®é¥°å­—æ®µï¼Œè¡¨ç¤ºè¯¥å­—æ®µä¸å‚ä¸åºåˆ—åŒ–
> - ååºåˆ—åŒ–æ—¶ï¼Œtransientå­—æ®µä¼šè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼
> - å¸¸ç”¨äºæ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ï¼‰ã€è®¡ç®—å­—æ®µã€ç¼“å­˜æ•°æ®
> - å¯ä»¥é€šè¿‡è‡ªå®šä¹‰åºåˆ—åŒ–æ–¹æ³•é‡æ–°èµ‹å€¼
>
> **è‡ªå®šä¹‰åºåˆ—åŒ–**ï¼š
>
> - writeObject()ï¼šè‡ªå®šä¹‰åºåˆ—åŒ–é€»è¾‘
> - readObject()ï¼šè‡ªå®šä¹‰ååºåˆ—åŒ–é€»è¾‘
> - writeReplace()ï¼šåºåˆ—åŒ–å‰æ›¿æ¢å¯¹è±¡
> - readResolve()ï¼šååºåˆ—åŒ–åæ›¿æ¢å¯¹è±¡ï¼ˆå¸¸ç”¨äºå•ä¾‹ï¼‰
>
> åºåˆ—åŒ–æ˜¯Javaçš„é‡è¦æœºåˆ¶ï¼Œä½†è¦æ³¨æ„æ€§èƒ½å’Œå®‰å…¨æ€§é—®é¢˜ã€‚"

------



## ğŸ†• å…«ã€Javaæ–°ç‰¹æ€§ï¼ˆModern Javaï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šJava 8å¼•å…¥äº†å‡½æ•°å¼ç¼–ç¨‹ç‰¹æ€§ï¼Œåç»­ç‰ˆæœ¬æŒç»­æ¼”è¿›ï¼Œæä¾›äº†æ›´ç®€æ´ã€é«˜æ•ˆçš„ç¼–ç¨‹æ–¹å¼ã€‚

### ğŸ¯ finalã€finallyã€finalizeçš„åŒºåˆ«ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "finalã€finallyã€finalizeæ˜¯Javaä¸­ä¸‰ä¸ªå®¹æ˜“æ··æ·†çš„å…³é”®å­—ï¼Œå®ƒä»¬æœ‰å®Œå…¨ä¸åŒçš„ç”¨é€”ï¼š
>
> **finalå…³é”®å­—**ï¼š
>
> - ä¿®é¥°ç¬¦ï¼Œç”¨äºé™åˆ¶ç»§æ‰¿ã€é‡å†™å’Œé‡æ–°èµ‹å€¼
> - ä¿®é¥°ç±»ï¼šç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼ˆå¦‚Stringã€Integerï¼‰
> - ä¿®é¥°æ–¹æ³•ï¼šæ–¹æ³•ä¸èƒ½è¢«é‡å†™
> - ä¿®é¥°å˜é‡ï¼šå˜é‡ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ï¼ˆå¸¸é‡ï¼‰
> - ä¿®é¥°å‚æ•°ï¼šå‚æ•°åœ¨æ–¹æ³•å†…ä¸èƒ½è¢«ä¿®æ”¹
>
> **finallyè¯­å¥å—**ï¼š
>
> - å¼‚å¸¸å¤„ç†æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œä¸try-catché…åˆä½¿ç”¨
> - æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œï¼ˆé™¤éJVMé€€å‡ºï¼‰
> - å¸¸ç”¨äºèµ„æºæ¸…ç†ï¼ˆå…³é—­æ–‡ä»¶ã€æ•°æ®åº“è¿æ¥ç­‰ï¼‰
> - æ‰§è¡Œä¼˜å…ˆçº§é«˜äºtry-catchä¸­çš„returnè¯­å¥
>
> **finalize()æ–¹æ³•**ï¼š
>
> - Objectç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåƒåœ¾å›æ”¶å‰çš„æ¸…ç†å·¥ä½œ
> - ç”±åƒåœ¾æ”¶é›†å™¨è°ƒç”¨ï¼Œä¸ä¿è¯ä½•æ—¶è°ƒç”¨
> - Java 9åå·²æ ‡è®°ä¸ºè¿‡æ—¶ï¼Œä¸æ¨èä½¿ç”¨
> - åº”è¯¥ä½¿ç”¨try-with-resourcesæˆ–AutoCloseableæ›¿ä»£
>
> è®°å¿†å£è¯€ï¼šfinalé™åˆ¶ï¼Œfinallyä¿è¯ï¼Œfinalizeæ¸…ç†ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
public class FinalFinallyFinalizeDemo {
    
    public static void main(String[] args) {
        // 1. finalæ¼”ç¤º
        final int CONSTANT = 100;           // å¸¸é‡ä¸å¯å˜
        // CONSTANT = 200;                  // ç¼–è¯‘é”™è¯¯
        
        final List<String> list = new ArrayList<>();
        list.add("Hello");                  // å¼•ç”¨ä¸å˜ï¼Œå†…å®¹å¯å˜
        // list = new ArrayList<>();        // ç¼–è¯‘é”™è¯¯
        
        // 2. finallyæ¼”ç¤º
        try {
            System.out.println("tryæ‰§è¡Œ");
            return;                         // å³ä½¿returnï¼Œfinallyä¹Ÿæ‰§è¡Œ
        } finally {
            System.out.println("finallyæ‰§è¡Œ");  // å¿…å®šæ‰§è¡Œ
        }
        
        // 3. finalizeæ¼”ç¤ºï¼ˆå·²è¿‡æ—¶ï¼‰
        MyResource resource = new MyResource();
        resource = null;
        System.gc();                        // å»ºè®®GCï¼Œfinalizeå¯èƒ½è¢«è°ƒç”¨
        
        // 4. æ¨èæ›¿ä»£æ–¹æ¡ˆï¼štry-with-resources
        try (AutoCloseable res = new MyAutoCloseable()) {
            // ä½¿ç”¨èµ„æº
        } catch (Exception e) {
            e.printStackTrace();
        }  // è‡ªåŠ¨å…³é—­ï¼Œæ— éœ€finally
    }
}

// finalç±»ï¼šä¸èƒ½è¢«ç»§æ‰¿
final class ImmutableClass {
    public final void finalMethod() {      // finalæ–¹æ³•ï¼šä¸èƒ½é‡å†™
        System.out.println("ä¸å¯é‡å†™çš„æ–¹æ³•");
    }
}

// finalizeç¤ºä¾‹ï¼ˆä¸æ¨èï¼‰
class MyResource {
    @Override
    protected void finalize() throws Throwable {
        System.out.println("finalizeè¢«è°ƒç”¨");
        super.finalize();
    }
}

// æ¨èçš„èµ„æºç®¡ç†æ–¹å¼
class MyAutoCloseable implements AutoCloseable {
    @Override
    public void close() throws Exception {
        System.out.println("èµ„æºå·²å…³é—­");
    }
}

/*
 * finalã€finallyã€finalizeå¯¹æ¯”æ€»ç»“ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   ç‰¹æ€§   â”‚    ç±»å‹     â”‚    ç”¨é€”     â”‚   æ‰§è¡Œæ—¶æœº  â”‚   æ¨èç¨‹åº¦  â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚  final   â”‚   å…³é”®å­—    â”‚   é™åˆ¶ä¿®é¥°  â”‚   ç¼–è¯‘æ—¶    â”‚   å¼ºçƒˆæ¨è  â”‚
 * â”‚ finally  â”‚   è¯­å¥å—    â”‚ å¼‚å¸¸å¤„ç†/æ¸…ç†â”‚   è¿è¡Œæ—¶    â”‚   æ¨èä½¿ç”¨  â”‚
 * â”‚finalize  â”‚    æ–¹æ³•     â”‚  åƒåœ¾å›æ”¶   â”‚ GCæ—¶(ä¸ç¡®å®š) â”‚   å·²å¼ƒç”¨    â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * ä½¿ç”¨åœºæ™¯ï¼š
 * - final: ä¸å¯å˜è®¾è®¡ã€å¸¸é‡å®šä¹‰ã€é˜²æ­¢ç»§æ‰¿/é‡å†™
 * - finally: èµ„æºæ¸…ç†ã€ç¡®ä¿æ‰§è¡Œçš„ä»£ç 
 * - finalize: å·²å¼ƒç”¨ï¼Œä½¿ç”¨AutoCloseable + try-with-resources
 * 
 * æœ€ä½³å®è·µï¼š
 * 1. å¤§é‡ä½¿ç”¨finalæé«˜ä»£ç å®‰å…¨æ€§
 * 2. ç”¨finallyç¡®ä¿å…³é”®ä»£ç æ‰§è¡Œ
 * 3. é¿å…finalizeï¼Œæ”¹ç”¨AutoCloseable
 * 4. åˆ©ç”¨try-with-resourcesè‡ªåŠ¨èµ„æºç®¡ç†
 */
```

### ğŸ¯ Lambdaè¡¨è¾¾å¼ä¸­ä½¿ç”¨å¤–éƒ¨å˜é‡ï¼Œä¸ºä»€ä¹ˆè¦finalï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Lambdaè¡¨è¾¾å¼ä¸­ä½¿ç”¨å¤–éƒ¨å˜é‡å¿…é¡»æ˜¯finalæˆ–effectively finalï¼Œè¿™æ˜¯ç”±Javaçš„å®ç°æœºåˆ¶å†³å®šçš„ï¼š
>
> **ä¸ºä»€ä¹ˆéœ€è¦final**ï¼š
>
> - Lambdaè¡¨è¾¾å¼æœ¬è´¨ä¸Šæ˜¯åŒ¿åå†…éƒ¨ç±»çš„è¯­æ³•ç³–
> - å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨å˜é‡æ—¶ï¼Œå®é™…æ˜¯å¤åˆ¶äº†å˜é‡çš„å€¼
> - å¦‚æœå…è®¸ä¿®æ”¹ï¼Œä¼šå¯¼è‡´å†…å¤–éƒ¨å˜é‡å€¼ä¸ä¸€è‡´çš„é—®é¢˜
> - finalä¿è¯äº†å˜é‡çš„ä¸€è‡´æ€§å’Œçº¿ç¨‹å®‰å…¨
>
> **effectively final**ï¼š
>
> - å˜é‡æ²¡æœ‰è¢«æ˜¾å¼å£°æ˜ä¸ºfinalï¼Œä½†äº‹å®ä¸Šæ²¡æœ‰è¢«ä¿®æ”¹
> - ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¯†åˆ«è¿™ç§æƒ…å†µ
> - è¿™ç§å˜é‡ä¹Ÿå¯ä»¥åœ¨Lambdaä¸­ä½¿ç”¨
>
> **è§£å†³æ–¹æ¡ˆ**ï¼š
>
> - ä½¿ç”¨æ•°ç»„æˆ–åŒ…è£…ç±»æ¥ç»•è¿‡é™åˆ¶
> - ä½¿ç”¨AtomicIntegerç­‰åŸå­ç±»
> - å°†å˜é‡æå‡ä¸ºå®ä¾‹å˜é‡æˆ–é™æ€å˜é‡
>
> è¿™ä¸ªé™åˆ¶ç¡®ä¿äº†Lambdaè¡¨è¾¾å¼çš„å®‰å…¨æ€§å’Œä¸€è‡´æ€§ã€‚"

### ğŸ¯ Lambdaè¡¨è¾¾å¼æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ

**ğŸ“‹ æ ‡å‡†è¯æœ¯**ï¼š

> "Lambdaè¡¨è¾¾å¼æ˜¯Java 8å¼•å…¥çš„é‡è¦ç‰¹æ€§ï¼Œå®ç°äº†å‡½æ•°å¼ç¼–ç¨‹ï¼š
>
> **Lambdaè¡¨è¾¾å¼**ï¼š
>
> - æœ¬è´¨æ˜¯åŒ¿åå‡½æ•°ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’
> - è¯­æ³•ï¼š(å‚æ•°) -> {æ–¹æ³•ä½“}
> - ç®€åŒ–äº†åŒ¿åå†…éƒ¨ç±»çš„ä¹¦å†™
> - åªèƒ½ç”¨äºå‡½æ•°å¼æ¥å£ï¼ˆæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼‰
>
> **Stream API**ï¼š
>
> - æä¾›äº†å£°æ˜å¼çš„æ•°æ®å¤„ç†æ–¹å¼
> - æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œä»£ç æ›´ç®€æ´
> - å†…ç½®å¹¶è¡Œå¤„ç†èƒ½åŠ›
> - å¸¸ç”¨æ“ä½œï¼šfilterã€mapã€reduceã€collectç­‰
>
> **Optionalç±»**ï¼š
>
> - è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸é—®é¢˜
> - æ˜ç¡®è¡¨ç¤ºå¯èƒ½ä¸ºç©ºçš„å€¼
> - æä¾›å‡½æ•°å¼é£æ ¼çš„ç©ºå€¼å¤„ç†
>
> **å‡½æ•°å¼æ¥å£**ï¼š
>
> - @FunctionalInterfaceæ³¨è§£æ ‡è®°
> - å†…ç½®æ¥å£ï¼šPredicateã€Functionã€Consumerã€Supplierç­‰
> - æ”¯æŒæ–¹æ³•å¼•ç”¨è¯­æ³•
>
> ä¼˜åŠ¿ï¼šä»£ç æ›´ç®€æ´ã€å¯è¯»æ€§æ›´å¼ºã€æ”¯æŒå¹¶è¡Œå¤„ç†ã€å‡½æ•°å¼ç¼–ç¨‹é£æ ¼ã€‚"

**ğŸ’» ä»£ç ç¤ºä¾‹**ï¼š

```java
import java.util.*;
import java.util.function.*;
import java.util.stream.*;

public class Java8FeaturesDemo {
    
    public static void main(String[] args) {
        // 1. Lambdaè¡¨è¾¾å¼ï¼šç®€åŒ–åŒ¿åå†…éƒ¨ç±»
        List<String> names = Arrays.asList("Alice", "Bob", "Charlie");
        names.sort((a, b) -> a.length() - b.length());  // æŒ‰é•¿åº¦æ’åº
        
        // 2. Stream APIï¼šå‡½æ•°å¼æ•°æ®å¤„ç†
        List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);
        List<Integer> result = numbers.stream()
            .filter(n -> n % 2 == 0)    // ç­›é€‰å¶æ•°
            .map(n -> n * n)            // å¹³æ–¹
            .collect(Collectors.toList()); // [4, 16]
        
        // 3. Optionalï¼šé¿å…ç©ºæŒ‡é’ˆ
        Optional<String> optional = Optional.ofNullable("Hello");
        optional.ifPresent(System.out::println);        // æœ‰å€¼æ—¶æ‰§è¡Œ
        String value = optional.orElse("Default");      // æ— å€¼æ—¶é»˜è®¤å€¼
        
        // 4. å‡½æ•°å¼æ¥å£ï¼šå››å¤§æ ¸å¿ƒæ¥å£
        Predicate<Integer> isEven = n -> n % 2 == 0;    // æ–­è¨€
        Function<String, Integer> getLength = String::length; // å‡½æ•°
        Consumer<String> print = System.out::println;   // æ¶ˆè´¹è€…
        Supplier<Double> random = Math::random;         // ä¾›åº”è€…
        
        // 5. æ–¹æ³•å¼•ç”¨ï¼šå››ç§å½¢å¼
        names.forEach(System.out::println);             // é™æ€æ–¹æ³•å¼•ç”¨
        names.stream().map(String::length);             // å®ä¾‹æ–¹æ³•å¼•ç”¨
        names.stream().map(String::new);                // æ„é€ å™¨å¼•ç”¨
        names.stream().filter(String::isEmpty);         // ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨
    }
}

/*
 * Java 8æ ¸å¿ƒç‰¹æ€§æ€»ç»“ï¼š
 * 
 * 1. Lambdaè¡¨è¾¾å¼ï¼š(å‚æ•°) -> è¡¨è¾¾å¼
 * 2. Stream APIï¼šæ•°æ®å¤„ç†ç®¡é“
 * 3. Optionalï¼šç©ºå€¼å®‰å…¨
 * 4. å‡½æ•°å¼æ¥å£ï¼š@FunctionalInterface
 * 5. æ–¹æ³•å¼•ç”¨ï¼šç±»::æ–¹æ³•
 */
```

### ğŸ¯ æœ‰ç”¨è¿‡JDK17å—ï¼Œæœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ï¼Ÿ

JDK 17 æ˜¯ Java çš„é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰ï¼Œå‘å¸ƒäº 2021 å¹´ï¼Œå¸¦æ¥äº†è®¸å¤šæ–°ç‰¹æ€§å’Œæ”¹è¿›ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›é‡è¦çš„æ›´æ–°ï¼š

1. **Sealed Classesï¼ˆå°é—­ç±»ï¼‰**

JDK 17 å¼•å…¥äº†å°é—­ç±»ï¼ˆSealed Classesï¼‰ï¼Œå®ƒå…è®¸ä½ é™åˆ¶å“ªäº›ç±»å¯ä»¥ç»§æ‰¿æˆ–å®ç°ä¸€ä¸ªç‰¹å®šçš„ç±»æˆ–æ¥å£ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¼€å‘è€…å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ç»§æ‰¿ç»“æ„ã€‚å°é—­ç±»é€šè¿‡ `permits` å…³é”®å­—æŒ‡å®šå“ªäº›ç±»å¯ä»¥ç»§æ‰¿ã€‚

```java
public abstract sealed class Shape permits Circle, Rectangle {
}
```

2. **Pattern Matching for Switch (é¢„è§ˆ)**

åœ¨ JDK 17 ä¸­ï¼Œswitch è¯­å¥çš„æ¨¡å¼åŒ¹é…åŠŸèƒ½è¢«å¼•å…¥ï¼ˆä½œä¸ºé¢„è§ˆåŠŸèƒ½ï¼‰ã€‚è¿™ä½¿å¾— switch è¯­å¥ä¸ä»…å¯ä»¥æ ¹æ®å€¼è¿›è¡ŒåŒ¹é…ï¼Œè¿˜å¯ä»¥æ ¹æ®ç±»å‹è¿›è¡ŒåŒ¹é…ã€‚ä»¥å‰çš„ switch ä»…æ”¯æŒåŸºæœ¬ç±»å‹æˆ–æšä¸¾ï¼Œè€Œæ–°ç‰¹æ€§æ‰©å±•äº†å…¶çµæ´»æ€§ã€‚

```java
static String formatterPatternSwitch(Object obj) {
    return switch (obj) {
        case Integer i -> String.format("int %d", i);
        case Long l    -> String.format("long %d", l);
        case String s  -> String.format("String %s", s);
        default        -> obj.toString();
    };
}
```

3. **Recordsï¼ˆè®°å½•ç±»å‹ï¼‰å¢å¼º**

Records æ˜¯ JDK 16 å¼•å…¥çš„ç‰¹æ€§ï¼Œä½†åœ¨ JDK 17 ä¸­å¾—åˆ°äº†è¿›ä¸€æ­¥å¢å¼ºã€‚Records æä¾›äº†ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥åˆ›å»ºä¸å¯å˜çš„æ•°æ®ç±»ï¼Œå®ƒè‡ªåŠ¨ç”Ÿæˆæ„é€ å‡½æ•°ã€`equals()`ã€`hashCode()` å’Œ `toString()` æ–¹æ³•ã€‚

```java
public record Point(int x, int y) {}
```

4. **å¼ºå°è£…çš„ Java å†…éƒ¨ API**

JDK 17 å¼ºåŒ–äº†å¯¹ Java å†…éƒ¨ API çš„å°è£…ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸å†å…è®¸éå…¬å…± API è®¿é—®å…¶ä»–æ¨¡å—çš„å†…éƒ¨ APIã€‚é€šè¿‡æ­¤ç‰¹æ€§ï¼ŒJava æ¨¡å—åŒ–å˜å¾—æ›´åŠ å®‰å…¨ï¼Œé˜²æ­¢éé¢„æœŸçš„ä¾èµ–ã€‚

5. **Foreign Function & Memory API (å¤–éƒ¨å‡½æ•°å’Œå†…å­˜ API)**

JDK 17 é€šè¿‡æ–°çš„å¤–éƒ¨å‡½æ•°å’Œå†…å­˜ API é¢„è§ˆåŠŸèƒ½ï¼Œå…è®¸ Java ç¨‹åºç›´æ¥è°ƒç”¨é Java ä»£ç ï¼ˆå¦‚æœ¬åœ°ä»£ç ï¼‰ã€‚è¿™ä¸€ç‰¹æ€§æå¤§å¢å¼ºäº†ä¸åŸç”Ÿç³»ç»Ÿåº“çš„é›†æˆèƒ½åŠ›ã€‚

```java
MemorySegment segment = MemorySegment.allocateNative(100);
```

6. **macOS ä¸Šçš„ AArch64 æ”¯æŒ**

éšç€ Apple M1 å¤„ç†å™¨çš„æ¨å‡ºï¼ŒJDK 17 ä¸º macOS å¼•å…¥äº†å¯¹ AArch64 æ¶æ„çš„æ”¯æŒã€‚å¼€å‘è€…ç°åœ¨å¯ä»¥åœ¨ macOS çš„ ARM å¹³å°ä¸Šæ›´é«˜æ•ˆåœ°è¿è¡Œ Java ç¨‹åºã€‚

7. **Deprecation for Removal of RMI Activation**

RMI Activationï¼ˆè¿œç¨‹æ–¹æ³•è°ƒç”¨æ¿€æ´»æœºåˆ¶ï¼‰å·²ç»è¢«å¼ƒç”¨å¹¶è®¡åˆ’åœ¨æœªæ¥ç§»é™¤ã€‚è¿™ä¸€åŠŸèƒ½çš„ç§»é™¤æ˜¯å› ä¸ºå®ƒåœ¨ç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è¾ƒå°‘ä½¿ç”¨ï¼Œå¹¶ä¸”å­˜åœ¨æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆã€‚

8. **Vector API (é¢„è§ˆ)**

JDK 17 è¿›ä¸€æ­¥é¢„è§ˆäº† Vector APIï¼Œå…è®¸åœ¨ Java ä¸­è¿›è¡Œå‘é‡è¿ç®—ã€‚Vector API åˆ©ç”¨ SIMDï¼ˆå•æŒ‡ä»¤å¤šæ•°æ®ï¼‰ç¡¬ä»¶æŒ‡ä»¤ï¼Œå¯ä»¥å®ç°é«˜æ€§èƒ½çš„æ•°å­¦è®¡ç®—ã€‚è¿™å¯¹ç§‘å­¦è®¡ç®—å’Œæœºå™¨å­¦ä¹ ä»»åŠ¡å°¤ä¸ºé‡è¦ã€‚

```java
VectorSpecies<Float> SPECIES = FloatVector.SPECIES_256;
```

9. **ç®€åŒ–çš„å¼ºåˆ¶æ€§ NullPointerException ä¿¡æ¯**

JDK 17 æ”¹è¿›äº† `NullPointerException` çš„é”™è¯¯ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¿«å®šä½é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è®¿é—®ç©ºå¼•ç”¨å¯¹è±¡çš„å­—æ®µï¼ŒJDK 17 ä¼šæ˜ç¡®æŒ‡å‡ºæ˜¯å“ªä¸ªå­—æ®µå¯¼è‡´äº†å¼‚å¸¸ã€‚

10. **é»˜è®¤åƒåœ¾å›æ”¶å™¨ ZGC å’Œ G1 çš„æ”¹è¿›**

JDK 17 å¯¹ ZGCï¼ˆZ Garbage Collectorï¼‰å’Œ G1 åƒåœ¾å›æ”¶å™¨è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä»¥è¿›ä¸€æ­¥é™ä½åƒåœ¾æ”¶é›†çš„å»¶è¿Ÿï¼Œå¹¶æé«˜åº”ç”¨ç¨‹åºçš„æ•´ä½“æ€§èƒ½ã€‚

è¿™äº›æ–°ç‰¹æ€§å’Œæ”¹è¿›ä½¿å¾— JDK 17 æˆä¸ºä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œã€æ€§èƒ½ä¼˜è¶Šçš„ç‰ˆæœ¬ï¼Œç‰¹åˆ«é€‚åˆé•¿æœŸæ”¯æŒå’Œå¤§è§„æ¨¡ä¼ä¸šçº§åº”ç”¨ã€‚

```java
// JDK17æ–°ç‰¹æ€§ç¤ºä¾‹
public class JDK17FeaturesDemo {
    
    public static void main(String[] args) {
        // 1. Switchè¡¨è¾¾å¼
        String dayType = switch (5) {
            case 1, 7 -> "Weekend";
            case 2, 3, 4, 5, 6 -> "Weekday";
            default -> "Invalid";
        };
        
        // 2. Text Blocksï¼šå¤šè¡Œå­—ç¬¦ä¸²
        String json = """
            {
                "name": "å¼ ä¸‰",
                "age": 25,
                "city": "åŒ—äº¬"
            }
            """;
        
        // 3. Pattern Matchingï¼šæ¨¡å¼åŒ¹é…
        Object obj = "Hello";
        if (obj instanceof String str && str.length() > 3) {
            System.out.println("é•¿å­—ç¬¦ä¸²: " + str.toUpperCase());
        }
        
        // 4. Recordsï¼šæ•°æ®ç±»
        Person person = new Person("æå››", 30);
        System.out.println(person.name() + " is " + person.age());
        
        // 5. Sealed Classesï¼šå¯†å°ç±»
        Shape circle = new Circle(5.0);
        double area = calculateArea(circle);
    }
    
    // Recordsè‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ã€getterã€equalsã€hashCodeã€toString
    public record Person(String name, int age) {}
    
    // Sealed Classesï¼šé™åˆ¶ç»§æ‰¿
    public static sealed interface Shape permits Circle, Rectangle {
        double area();
    }
    
    public static final class Circle implements Shape {
        private final double radius;
        public Circle(double radius) { this.radius = radius; }
        public double area() { return Math.PI * radius * radius; }
    }
    
    public static final class Rectangle implements Shape {
        private final double width, height;
        public Rectangle(double width, double height) {
            this.width = width; this.height = height;
        }
        public double area() { return width * height; }
    }
    
    // Pattern Matching with Sealed Classes
    public static double calculateArea(Shape shape) {
        return switch (shape) {
            case Circle c -> c.area();
            case Rectangle r -> r.area();
            // å¯†å°ç±»ç¡®ä¿è¦†ç›–æ‰€æœ‰æƒ…å†µï¼Œæ— éœ€default
        };
    }
}
```


---

## ğŸ† é¢è¯•å‡†å¤‡é€ŸæŸ¥è¡¨

### ğŸ“‹ JavaåŸºç¡€é«˜é¢‘é¢è¯•é¢˜æ¸…å•

| **çŸ¥è¯†ç‚¹**   | **æ ¸å¿ƒé—®é¢˜**                   | **å…³é”®è¯æœ¯**                     | **ä»£ç è¦ç‚¹**                   |
| ------------ | ------------------------------ | -------------------------------- | ------------------------------ |
| **é¢å‘å¯¹è±¡** | ä¸‰å¤§ç‰¹æ€§ã€æŠ½è±¡ç±»vsæ¥å£ã€å†…éƒ¨ç±» | å°è£…ç»§æ‰¿å¤šæ€ã€is-aå…³ç³»ã€è®¿é—®æ§åˆ¶ | ç»§æ‰¿é‡å†™ã€æ¥å£å®ç°ã€å†…éƒ¨ç±»è®¿é—® |
| **æ•°æ®ç±»å‹** | åŸºæœ¬ç±»å‹vsåŒ…è£…ç±»ã€==vs equals  | æ ˆå †å­˜å‚¨ã€è‡ªåŠ¨è£…ç®±ã€ç¼“å­˜æœºåˆ¶     | Integerç¼“å­˜ã€equalsé‡å†™        |
| **å­—ç¬¦ä¸²**   | Stringä¸å¯å˜æ€§ã€ä¸‰è€…åŒºåˆ«       | å¸¸é‡æ± ã€æ€§èƒ½å¯¹æ¯”ã€çº¿ç¨‹å®‰å…¨       | StringBuilderä½¿ç”¨ã€internæ–¹æ³•  |
| **å¼‚å¸¸å¤„ç†** | å¼‚å¸¸ä½“ç³»ã€å¤„ç†æœºåˆ¶ã€æœ€ä½³å®è·µ   | æ£€æŸ¥å‹vséæ£€æŸ¥å‹ã€å¼‚å¸¸é“¾         | try-with-resourcesã€è‡ªå®šä¹‰å¼‚å¸¸ |

### ğŸ¯ é¢è¯•å›ç­”æŠ€å·§

1. **STARæ³•åˆ™**ï¼šSituationï¼ˆèƒŒæ™¯ï¼‰â†’ Taskï¼ˆä»»åŠ¡ï¼‰â†’ Actionï¼ˆè¡ŒåŠ¨ï¼‰â†’ Resultï¼ˆç»“æœï¼‰
2. **å±‚æ¬¡é€’è¿›**ï¼šåŸºæœ¬æ¦‚å¿µ â†’ æ·±å…¥åŸç† â†’ å®é™…åº”ç”¨ â†’ æ€§èƒ½ä¼˜åŒ–
3. **ä¸¾ä¾‹è¯´æ˜**ï¼šç†è®ºç»“åˆå®é™…é¡¹ç›®ç»éªŒ
4. **æºç å¼•ç”¨**ï¼šé€‚å½“æåŠæºç å®ç°ï¼Œä½“ç°æ·±åº¦

### âš ï¸ å¸¸è§é¢è¯•é™·é˜±

- âš ï¸ **æ¦‚å¿µæ··æ·†**ï¼šæŠ½è±¡ç±»å’Œæ¥å£çš„é€‰æ‹©åœºæ™¯
- âš ï¸ **æ€§èƒ½é™·é˜±**ï¼šStringæ‹¼æ¥ã€è£…ç®±æ‹†ç®±çš„æ€§èƒ½å½±å“
- âš ï¸ **ç©ºæŒ‡é’ˆ**ï¼šequalsæ–¹æ³•çš„å‚æ•°é¡ºåºã€nullå¤„ç†
- âš ï¸ **å¼‚å¸¸æ»¥ç”¨**ï¼šä¸è¦ç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹



---

## ğŸ† é¢è¯•å‡†å¤‡é€ŸæŸ¥è¡¨

### ğŸ“‹ JavaåŸºç¡€é«˜é¢‘é¢è¯•é¢˜æ¸…å•

| **çŸ¥è¯†ç‚¹**   | **æ ¸å¿ƒé—®é¢˜**                   | **å…³é”®è¯æœ¯**                     | **ä»£ç è¦ç‚¹**                   |
| ------------ | ------------------------------ | -------------------------------- | ------------------------------ |
| **é¢å‘å¯¹è±¡** | ä¸‰å¤§ç‰¹æ€§ã€æŠ½è±¡ç±»vsæ¥å£ã€å†…éƒ¨ç±» | å°è£…ç»§æ‰¿å¤šæ€ã€is-aå…³ç³»ã€è®¿é—®æ§åˆ¶ | ç»§æ‰¿é‡å†™ã€æ¥å£å®ç°ã€å†…éƒ¨ç±»è®¿é—® |
| **æ•°æ®ç±»å‹** | åŸºæœ¬ç±»å‹vsåŒ…è£…ç±»ã€==vs equals  | æ ˆå †å­˜å‚¨ã€è‡ªåŠ¨è£…ç®±ã€ç¼“å­˜æœºåˆ¶     | Integerç¼“å­˜ã€equalsé‡å†™        |
| **å­—ç¬¦ä¸²**   | Stringä¸å¯å˜æ€§ã€ä¸‰è€…åŒºåˆ«       | å¸¸é‡æ± ã€æ€§èƒ½å¯¹æ¯”ã€çº¿ç¨‹å®‰å…¨       | StringBuilderä½¿ç”¨ã€internæ–¹æ³•  |
| **å¼‚å¸¸å¤„ç†** | å¼‚å¸¸ä½“ç³»ã€å¤„ç†æœºåˆ¶ã€æœ€ä½³å®è·µ   | æ£€æŸ¥å‹vséæ£€æŸ¥å‹ã€å¼‚å¸¸é“¾         | try-with-resourcesã€è‡ªå®šä¹‰å¼‚å¸¸ |

### ğŸ¯ é¢è¯•å›ç­”æŠ€å·§

1. **STARæ³•åˆ™**ï¼šSituationï¼ˆèƒŒæ™¯ï¼‰â†’ Taskï¼ˆä»»åŠ¡ï¼‰â†’ Actionï¼ˆè¡ŒåŠ¨ï¼‰â†’ Resultï¼ˆç»“æœï¼‰
2. **å±‚æ¬¡é€’è¿›**ï¼šåŸºæœ¬æ¦‚å¿µ â†’ æ·±å…¥åŸç† â†’ å®é™…åº”ç”¨ â†’ æ€§èƒ½ä¼˜åŒ–
3. **ä¸¾ä¾‹è¯´æ˜**ï¼šç†è®ºç»“åˆå®é™…é¡¹ç›®ç»éªŒ
4. **æºç å¼•ç”¨**ï¼šé€‚å½“æåŠæºç å®ç°ï¼Œä½“ç°æ·±åº¦

### âš ï¸ å¸¸è§é¢è¯•é™·é˜±

- âš ï¸ **æ¦‚å¿µæ··æ·†**ï¼šæŠ½è±¡ç±»å’Œæ¥å£çš„é€‰æ‹©åœºæ™¯
- âš ï¸ **æ€§èƒ½é™·é˜±**ï¼šStringæ‹¼æ¥ã€è£…ç®±æ‹†ç®±çš„æ€§èƒ½å½±å“
- âš ï¸ **ç©ºæŒ‡é’ˆ**ï¼šequalsæ–¹æ³•çš„å‚æ•°é¡ºåºã€nullå¤„ç†
- âš ï¸ **å¼‚å¸¸æ»¥ç”¨**ï¼šä¸è¦ç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹

